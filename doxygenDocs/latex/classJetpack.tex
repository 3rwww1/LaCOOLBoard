\hypertarget{classJetpack}{}\section{Jetpack Class Reference}
\label{classJetpack}\index{Jetpack@{Jetpack}}


This class manages the \hyperlink{classJetpack}{Jetpack} shield.  




{\ttfamily \#include $<$Jetpack.\+h$>$}



Collaboration diagram for Jetpack\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=164pt]{classJetpack__coll__graph}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structJetpack_1_1state}{state}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classJetpack_a5a53e1ebf7aaf3bf3e0d37ea64ca09a7}{begin} ()
\item 
void \hyperlink{classJetpack_a338f1af8cbc6504ac69b47c7328569b5}{write} (byte \hyperlink{classJetpack_aca3142925a7b0834b34ae91d26af7765}{action})
\item 
void \hyperlink{classJetpack_a79ae7bc3c1828a0551a7c005c4f8bd00}{write\+Bit} (byte pin, bool \hyperlink{structJetpack_1_1state}{state})
\item 
void \hyperlink{classJetpack_a86d2e83436ef4b85f4c3a6e85ac785b0}{do\+Action} (const char $\ast$data, int J\+S\+O\+N\+\_\+\+S\+I\+ZE)
\item 
bool \hyperlink{classJetpack_ab065ee83e244265a2223a22f3ee4a719}{config} ()
\item 
void \hyperlink{classJetpack_ac54a7bb4f9166bee32052253d9b1d306}{print\+Conf} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
byte \hyperlink{classJetpack_aca3142925a7b0834b34ae91d26af7765}{action} = B00000000
\item 
byte \hyperlink{classJetpack_a52c86319cb3f7f1ab744a64db18a7ba5}{actors\+Number} =0
\item 
struct \hyperlink{structJetpack_1_1state}{Jetpack\+::state} \hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors} \mbox{[}8\mbox{]}
\item 
const int \hyperlink{classJetpack_a58ebb991f358f3ae94e82148b0221b5a}{clock\+Pin} = 4
\item 
const int \hyperlink{classJetpack_a3d669a56e93c71dd25f970d4ed7d0c00}{data\+Pin} = 15
\item 
const int \hyperlink{classJetpack_a81df984fb4cea98c71aa1a1cfcdfe814}{En\+I2C} =5
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class manages the \hyperlink{classJetpack}{Jetpack} shield. 

Definition at line 21 of file Jetpack.\+h.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classJetpack_a5a53e1ebf7aaf3bf3e0d37ea64ca09a7}\label{classJetpack_a5a53e1ebf7aaf3bf3e0d37ea64ca09a7}} 
\index{Jetpack@{Jetpack}!begin@{begin}}
\index{begin@{begin}!Jetpack@{Jetpack}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily void Jetpack\+::begin (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\hyperlink{classJetpack_a5a53e1ebf7aaf3bf3e0d37ea64ca09a7}{Jetpack\+::begin()}\+: This method is provided to initialise the pin that control the \hyperlink{classJetpack}{Jetpack} shield 

Definition at line 30 of file Jetpack.\+cpp.



References clock\+Pin, data\+Pin, and En\+I2C.



Referenced by Cool\+Board\+::begin().


\begin{DoxyCode}
31 \{
32 
33 \textcolor{preprocessor}{#if DEBUG == 1 }
34  
35     Serial.println(\textcolor{stringliteral}{"Entering Jetpack.begin() "});
36     Serial.println();
37 
38 \textcolor{preprocessor}{#endif}
39 
40     pinMode(\hyperlink{classJetpack_a81df984fb4cea98c71aa1a1cfcdfe814}{EnI2C},OUTPUT);
41     pinMode(\hyperlink{classJetpack_a3d669a56e93c71dd25f970d4ed7d0c00}{dataPin},OUTPUT);
42     pinMode(\hyperlink{classJetpack_a58ebb991f358f3ae94e82148b0221b5a}{clockPin},OUTPUT);
43     
44     
45 
46 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=288pt]{classJetpack_a5a53e1ebf7aaf3bf3e0d37ea64ca09a7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classJetpack_ab065ee83e244265a2223a22f3ee4a719}\label{classJetpack_ab065ee83e244265a2223a22f3ee4a719}} 
\index{Jetpack@{Jetpack}!config@{config}}
\index{config@{config}!Jetpack@{Jetpack}}
\subsubsection{\texorpdfstring{config()}{config()}}
{\footnotesize\ttfamily bool Jetpack\+::config (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classJetpack_ab065ee83e244265a2223a22f3ee4a719}{Jetpack\+::config()}\+: This method is provided to configure the \hyperlink{classJetpack}{Jetpack} with a configuration file

\begin{DoxyReturn}{Returns}
true if successful,false otherwise 
\end{DoxyReturn}


Definition at line 249 of file Jetpack.\+cpp.



References Jetpack\+::state\+::actif, actors, actors\+Number, Jetpack\+::state\+::high, Jetpack\+::state\+::low, Jetpack\+::state\+::temporal, and Jetpack\+::state\+::type.



Referenced by Cool\+Board\+::begin(), and Cool\+Board\+::update().


\begin{DoxyCode}
250 \{
251 
252 \textcolor{preprocessor}{#if DEBUG == 1 }
253 
254     Serial.println(\textcolor{stringliteral}{"Entering Jetpack.config() "});
255     Serial.println();
256 
257 \textcolor{preprocessor}{#endif}
258 
259     File jetPackConfig = SPIFFS.open(\textcolor{stringliteral}{"/jetPackConfig.json"}, \textcolor{stringliteral}{"r"});
260 
261     \textcolor{keywordflow}{if} (!jetPackConfig) 
262     \{
263 
264 \textcolor{preprocessor}{    #if DEBUG == 1 }
265 
266         Serial.println(\textcolor{stringliteral}{"failed to read /jetPackConfig.json "});
267         Serial.println();
268 
269 \textcolor{preprocessor}{    #endif}
270 
271         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
272     \}
273     \textcolor{keywordflow}{else}
274     \{
275         \textcolor{keywordtype}{size\_t} size = jetPackConfig.size();
276         \textcolor{comment}{// Allocate a buffer to store contents of the file.}
277         std::unique\_ptr<char[]> buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
278 
279         jetPackConfig.readBytes(buf.get(), size);
280         DynamicJsonBuffer jsonBuffer;
281         JsonObject& json = jsonBuffer.parseObject(buf.get());
282         \textcolor{keywordflow}{if} (!json.success()) 
283         \{
284         
285 \textcolor{preprocessor}{        #if DEBUG == 1 }
286 
287             Serial.println(\textcolor{stringliteral}{"failed to parse jetpack config json from file "});
288             Serial.println();
289 
290 \textcolor{preprocessor}{        #endif}
291 
292             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
293         \} 
294         \textcolor{keywordflow}{else}
295         \{ 
296         
297 \textcolor{preprocessor}{        #if DEBUG == 1 }
298 
299             Serial.println(\textcolor{stringliteral}{"read configuration file : "});
300             json.printTo(Serial);
301             Serial.println();
302         
303 \textcolor{preprocessor}{        #endif}
304   
305             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"ActorsNumber"}].success() )
306             \{
307                 this->\hyperlink{classJetpack_a52c86319cb3f7f1ab744a64db18a7ba5}{actorsNumber} = json[\textcolor{stringliteral}{"ActorsNumber"}]; 
308             
309                 \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<8;i++)
310                 \{   \textcolor{keywordflow}{if}(json[String(\textcolor{stringliteral}{"Act"})+String(i)].success())
311                     \{
312                         \textcolor{keywordflow}{if}(json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"actif"}].success() )
313                         \{
314                             this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].\hyperlink{structJetpack_1_1state_aa177541689bbaea21a4650a083b0df77}{actif}=json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"actif"}];
315                         \}
316                         \textcolor{keywordflow}{else}
317                         \{
318                             this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].\hyperlink{structJetpack_1_1state_aa177541689bbaea21a4650a083b0df77}{actif}=this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].
      \hyperlink{structJetpack_1_1state_aa177541689bbaea21a4650a083b0df77}{actif};
319                         \}
320                         json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"actif"}]=this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].
      \hyperlink{structJetpack_1_1state_aa177541689bbaea21a4650a083b0df77}{actif};
321 
322 
323                         \textcolor{keywordflow}{if}(json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"low"}].success() )
324                         \{                   
325                             this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].\hyperlink{structJetpack_1_1state_ace3ecd2b1f262756d8f7a8adda20136a}{low}=json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"low"}];
326                         \}
327                         \textcolor{keywordflow}{else}
328                         \{
329                             this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].\hyperlink{structJetpack_1_1state_ace3ecd2b1f262756d8f7a8adda20136a}{low}=this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].
      \hyperlink{structJetpack_1_1state_ace3ecd2b1f262756d8f7a8adda20136a}{low};                 
330                         \}
331                         json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"low"}]=this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].
      \hyperlink{structJetpack_1_1state_ace3ecd2b1f262756d8f7a8adda20136a}{low};
332     
333                     
334                         \textcolor{keywordflow}{if}(json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"high"}].success() )
335                         \{               
336                             this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].\hyperlink{structJetpack_1_1state_a54cc9291c7cc30102a07fd2b0ccd8dde}{high}=json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"high"}];
337                         \}
338                         \textcolor{keywordflow}{else}
339                         \{
340                             this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].\hyperlink{structJetpack_1_1state_a54cc9291c7cc30102a07fd2b0ccd8dde}{high}=this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].
      \hyperlink{structJetpack_1_1state_a54cc9291c7cc30102a07fd2b0ccd8dde}{high};
341                         \}
342                         json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"high"}]=this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].
      \hyperlink{structJetpack_1_1state_a54cc9291c7cc30102a07fd2b0ccd8dde}{high};
343 
344                     
345                         \textcolor{keywordflow}{if}(json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"type"}].success() )
346                         \{               
347                             this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].\hyperlink{structJetpack_1_1state_a59e307555493f5a64f87ac4c63943371}{type}=json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"type"}]; 
348                         \}
349                         \textcolor{keywordflow}{else}
350                         \{
351                             this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].\hyperlink{structJetpack_1_1state_a59e307555493f5a64f87ac4c63943371}{type}=this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].
      \hyperlink{structJetpack_1_1state_a59e307555493f5a64f87ac4c63943371}{type};
352                         \}
353                         json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"type"}]=this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].
      \hyperlink{structJetpack_1_1state_a59e307555493f5a64f87ac4c63943371}{type};
354 
355                         \textcolor{keywordflow}{if}(json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"temporal"}].success() )
356                         \{
357                             this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].\hyperlink{structJetpack_1_1state_abd6039e7a48856550b0ffbf8bcff7bdd}{temporal}=json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"temporal"}
      ];                                                   
358                         \}
359                         \textcolor{keywordflow}{else}
360                         \{
361                             this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].\hyperlink{structJetpack_1_1state_abd6039e7a48856550b0ffbf8bcff7bdd}{temporal}=json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"temporal"}
      ]; 
362                         \}   
363                         json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"temporal"}]=this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].
      \hyperlink{structJetpack_1_1state_abd6039e7a48856550b0ffbf8bcff7bdd}{temporal}; 
364                     \}
365                     \textcolor{keywordflow}{else}
366                     \{
367                         this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i]=this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i];
368                     \}
369                     
370                     json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"actif"}]=this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].
      \hyperlink{structJetpack_1_1state_aa177541689bbaea21a4650a083b0df77}{actif};
371                     json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"low"}]=this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].
      \hyperlink{structJetpack_1_1state_ace3ecd2b1f262756d8f7a8adda20136a}{low};
372                     json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"high"}]=this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].
      \hyperlink{structJetpack_1_1state_a54cc9291c7cc30102a07fd2b0ccd8dde}{high};
373                     json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"type"}]=this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].
      \hyperlink{structJetpack_1_1state_a59e307555493f5a64f87ac4c63943371}{type};
374                     json[String(\textcolor{stringliteral}{"Act"})+String(i)][\textcolor{stringliteral}{"temporal"}]=this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].
      \hyperlink{structJetpack_1_1state_abd6039e7a48856550b0ffbf8bcff7bdd}{temporal}; 
375                 \}
376             \}
377             \textcolor{keywordflow}{else}
378             \{
379                 this->\hyperlink{classJetpack_a52c86319cb3f7f1ab744a64db18a7ba5}{actorsNumber}=this->\hyperlink{classJetpack_a52c86319cb3f7f1ab744a64db18a7ba5}{actorsNumber};
380             \}
381             json[\textcolor{stringliteral}{"actorsNumber"}]=this->\hyperlink{classJetpack_a52c86319cb3f7f1ab744a64db18a7ba5}{actorsNumber};
382 
383             jetPackConfig.close();          
384             jetPackConfig = SPIFFS.open(\textcolor{stringliteral}{"/jetPackConfig.json"}, \textcolor{stringliteral}{"w"});            
385             \textcolor{keywordflow}{if}(!jetPackConfig)
386             \{
387             
388 \textcolor{preprocessor}{            #if DEBUG == 1 }
389 
390                 Serial.println(\textcolor{stringliteral}{"failed to write to /jetPackConfig.json "});
391                 Serial.println();
392             
393 \textcolor{preprocessor}{            #endif}
394                 
395                 \textcolor{keywordflow}{return}(\textcolor{keyword}{false});          
396             \}  
397 
398             json.printTo(jetPackConfig);
399             jetPackConfig.close();
400 
401 \textcolor{preprocessor}{        #if DEBUG == 1 }
402             
403             Serial.println(\textcolor{stringliteral}{"saved configuration : "});
404             json.printTo(Serial );
405             Serial.println();       
406         
407 \textcolor{preprocessor}{        #endif}
408 
409             \textcolor{keywordflow}{return}(\textcolor{keyword}{true}); 
410         \}
411     \}   
412     
413 
414 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classJetpack_ab065ee83e244265a2223a22f3ee4a719_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classJetpack_a86d2e83436ef4b85f4c3a6e85ac785b0}\label{classJetpack_a86d2e83436ef4b85f4c3a6e85ac785b0}} 
\index{Jetpack@{Jetpack}!do\+Action@{do\+Action}}
\index{do\+Action@{do\+Action}!Jetpack@{Jetpack}}
\subsubsection{\texorpdfstring{do\+Action()}{doAction()}}
{\footnotesize\ttfamily void Jetpack\+::do\+Action (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data,  }\item[{int}]{J\+S\+O\+N\+\_\+\+S\+I\+ZE }\end{DoxyParamCaption})}

Jetpack\+::do\+Action(sensor data, sensor data size)\+: This method is provided to automate the \hyperlink{classJetpack}{Jetpack}. exemple\+: initial state\+: current Temperature = 23 °C actors\mbox{[}0\mbox{]}.actif=1 actors\mbox{[}0\mbox{]}.low=25 °C actors\mbox{[}0\mbox{]}.high=30 °C actors\mbox{[}0\mbox{]}.type=\char`\"{}\+Temperature\char`\"{}

condition verified\+: root\mbox{[}\char`\"{}\+Temperature\char`\"{}\mbox{]}$<$actors\mbox{[}0\mbox{]}.low

action\+: invert the state of actors\mbox{[}0\mbox{]}\+: bit\+Write( action,0,!( bit\+Read ( action,0 ) ) ) write(action) 

Definition at line 132 of file Jetpack.\+cpp.



References Jetpack\+::state\+::actif, Jetpack\+::state\+::actif\+Time, action, actors, Jetpack\+::state\+::inactif\+Time, and write().



Referenced by Cool\+Board\+::off\+Line\+Mode(), and Cool\+Board\+::on\+Line\+Mode().


\begin{DoxyCode}
133 \{
134 
135 \textcolor{preprocessor}{#if DEBUG == 1 }
136 
137     Serial.println(\textcolor{stringliteral}{"Entering Jetpack.doAction()"});
138     Serial.println();
139 
140     Serial.println(\textcolor{stringliteral}{"input data is :"});
141     Serial.println(data);
142     Serial.println();
143 
144     Serial.println(\textcolor{stringliteral}{"input size is :"});  
145     Serial.println(JSON\_SIZE);
146     Serial.println();
147 
148 \textcolor{preprocessor}{#endif }
149 
150     DynamicJsonBuffer jsonBuffer(JSON\_SIZE);
151     JsonObject& root = jsonBuffer.parseObject(data);
152     
153     \textcolor{keywordflow}{if} (!root.success()) 
154     \{
155     
156 \textcolor{preprocessor}{    #if DEBUG == 1 }
157 
158         Serial.println(\textcolor{stringliteral}{"failed to parse json object "});
159         Serial.println();
160     
161 \textcolor{preprocessor}{    #endif }
162 
163     \}
164     \textcolor{keywordflow}{else}
165     \{
166     
167 \textcolor{preprocessor}{    #if DEBUG == 1 }
168 
169         Serial.println(\textcolor{stringliteral}{"created Json object :"});
170         root.printTo(Serial);
171         Serial.println();
172     
173 \textcolor{preprocessor}{    #endif }
174 
175         \textcolor{comment}{//invert the current action state for each actor}
176         \textcolor{comment}{//if the value is outside the limits}
177         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<8;i++)
178         \{
179             \textcolor{comment}{//check if the actor is actif }
180             \textcolor{keywordflow}{if}(this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].actif==1)
181             \{   
182                 \textcolor{comment}{//if the actor is not temporal}
183                 \textcolor{keywordflow}{if}( this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].temporal==0 ) 
184                 \{
185                     \textcolor{keywordflow}{if}( ( ( root[this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].type] ) > ( this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].high ) ) || ( ( 
      root[ this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].type ] ) < ( this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].low ) ) )   
186                     \{   
187                         bitWrite( this->\hyperlink{classJetpack_aca3142925a7b0834b34ae91d26af7765}{action} , i , !( bitRead(this->
      \hyperlink{classJetpack_aca3142925a7b0834b34ae91d26af7765}{action}, i ) ) );  
188                     \}
189                 \}
190                 \textcolor{comment}{//if the actor is temporal}
191                 \textcolor{keywordflow}{else}
192                 \{   \textcolor{comment}{//if the actor was actif for highTime or more :}
193                     \textcolor{keywordflow}{if}( ( millis()- this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].actifTime  ) >= ( this->
      \hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].high  ) )
194                     \{
195                         \textcolor{comment}{//stop the actor}
196                         bitWrite( this->\hyperlink{classJetpack_aca3142925a7b0834b34ae91d26af7765}{action} , i , 0) ;
197 
198                         \textcolor{comment}{//make the actor inactif:}
199                         this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].\hyperlink{structJetpack_1_1state_aa177541689bbaea21a4650a083b0df77}{actif}=0;
200 
201                         \textcolor{comment}{//start the low timer}
202                         this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].\hyperlink{structJetpack_1_1state_aaf817b1f9e7a4d65b9e3ca4726b281f6}{inactifTime}=millis();              
203                     \}           
204                             
205                 \}
206             \}
207             \textcolor{comment}{//check if actor is inactif}
208             \textcolor{keywordflow}{else}
209             \{   \textcolor{comment}{//check if actor is temporal}
210                 \textcolor{keywordflow}{if}(this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].temporal==1)
211                 \{
212                     \textcolor{comment}{//if the actor was inactif for lowTime or more :}
213                     \textcolor{keywordflow}{if}( ( millis() - this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].inactifTime ) >= ( this->
      \hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].low  ) )
214                     \{
215                         \textcolor{comment}{//start the actor}
216                         bitWrite( this->\hyperlink{classJetpack_aca3142925a7b0834b34ae91d26af7765}{action} , i , 1) ;
217 
218                         \textcolor{comment}{//make the actor actif:}
219                         this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].\hyperlink{structJetpack_1_1state_aa177541689bbaea21a4650a083b0df77}{actif}=1;
220 
221                         \textcolor{comment}{//start the low timer}
222                         this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[i].\hyperlink{structJetpack_1_1state_af2e1cc323ef9ffcc3cf4d203f85d726b}{actifTime}=millis();              
223                     \}           
224             
225                 \}
226             \}
227         \}
228     
229 \textcolor{preprocessor}{    #if DEBUG == 1 }
230 
231         Serial.println(\textcolor{stringliteral}{"new action is : "});
232         Serial.println(this->\hyperlink{classJetpack_aca3142925a7b0834b34ae91d26af7765}{action});
233         Serial.println();
234     
235 \textcolor{preprocessor}{    #endif }
236 
237         this->\hyperlink{classJetpack_a338f1af8cbc6504ac69b47c7328569b5}{write}(this->\hyperlink{classJetpack_aca3142925a7b0834b34ae91d26af7765}{action});
238 
239     \} 
240 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=289pt]{classJetpack_a86d2e83436ef4b85f4c3a6e85ac785b0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=333pt]{classJetpack_a86d2e83436ef4b85f4c3a6e85ac785b0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classJetpack_ac54a7bb4f9166bee32052253d9b1d306}\label{classJetpack_ac54a7bb4f9166bee32052253d9b1d306}} 
\index{Jetpack@{Jetpack}!print\+Conf@{print\+Conf}}
\index{print\+Conf@{print\+Conf}!Jetpack@{Jetpack}}
\subsubsection{\texorpdfstring{print\+Conf()}{printConf()}}
{\footnotesize\ttfamily void Jetpack\+::print\+Conf (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classJetpack_ac54a7bb4f9166bee32052253d9b1d306}{Jetpack\+::print\+Conf()}\+: This method is provided to print the configuration to the Serial Monitor 

Definition at line 422 of file Jetpack.\+cpp.



References actors, and actors\+Number.



Referenced by Cool\+Board\+::begin().


\begin{DoxyCode}
423 \{
424 
425 \textcolor{preprocessor}{#if DEBUG == 1 }
426 
427     Serial.println(\textcolor{stringliteral}{"Enter Jetpack.printConf() "});
428     Serial.println();
429 
430 \textcolor{preprocessor}{#endif }
431     Serial.println(\textcolor{stringliteral}{"Jetpack configuration "}) ;
432 
433     Serial.print(\textcolor{stringliteral}{"actorsNumber : "});
434     Serial.println(this->\hyperlink{classJetpack_a52c86319cb3f7f1ab744a64db18a7ba5}{actorsNumber});
435  
436         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<this->\hyperlink{classJetpack_a52c86319cb3f7f1ab744a64db18a7ba5}{actorsNumber};i++)
437     \{   
438         Serial.print(\textcolor{stringliteral}{"actor N°"});
439         Serial.print(i);
440         Serial.print(\textcolor{stringliteral}{" actif :"});
441         Serial.println(this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[0].actif);
442 
443         Serial.print(\textcolor{stringliteral}{"actor N°"});
444         Serial.print(i);
445         Serial.print(\textcolor{stringliteral}{" low :"});
446         Serial.println(this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[0].low);
447 
448         Serial.print(\textcolor{stringliteral}{"actor N°"});
449         Serial.print(i);
450         Serial.print(\textcolor{stringliteral}{" high :"});
451         Serial.println(this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[0].high);
452 
453         Serial.print(\textcolor{stringliteral}{"actor N°"});
454         Serial.print(i);
455         Serial.print(\textcolor{stringliteral}{" type :"});
456         Serial.println(this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[0].type);
457         
458         Serial.print(\textcolor{stringliteral}{"actor N°"});
459         Serial.print(i);
460         Serial.print(\textcolor{stringliteral}{" temporal :"});
461         Serial.println(this->\hyperlink{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}{actors}[0].temporal);
462  
463 
464     \}
465     Serial.println();
466 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=305pt]{classJetpack_ac54a7bb4f9166bee32052253d9b1d306_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classJetpack_a338f1af8cbc6504ac69b47c7328569b5}\label{classJetpack_a338f1af8cbc6504ac69b47c7328569b5}} 
\index{Jetpack@{Jetpack}!write@{write}}
\index{write@{write}!Jetpack@{Jetpack}}
\subsubsection{\texorpdfstring{write()}{write()}}
{\footnotesize\ttfamily void Jetpack\+::write (\begin{DoxyParamCaption}\item[{byte}]{action }\end{DoxyParamCaption})}

Jetpack\+::write(action)\+: This method is provided to write the given action to the entire \hyperlink{classJetpack}{Jetpack} action is a Byte (8 bits ), each bit goes to an output. M\+S\+B\+First 

Definition at line 57 of file Jetpack.\+cpp.



References action, clock\+Pin, data\+Pin, and En\+I2C.



Referenced by do\+Action().


\begin{DoxyCode}
58 \{
59 
60 \textcolor{preprocessor}{#if DEBUG == 1}
61 
62     Serial.println(\textcolor{stringliteral}{"Entering Jetpack.write()"});
63     Serial.println();
64 
65     Serial.println(\textcolor{stringliteral}{"writing this action : "});
66     Serial.println(\hyperlink{classJetpack_aca3142925a7b0834b34ae91d26af7765}{action},HEX);
67     Serial.println();
68 
69 \textcolor{preprocessor}{#endif }
70 
71     this->\hyperlink{classJetpack_aca3142925a7b0834b34ae91d26af7765}{action}=\hyperlink{classJetpack_aca3142925a7b0834b34ae91d26af7765}{action};
72 
73     
74     digitalWrite(\hyperlink{classJetpack_a81df984fb4cea98c71aa1a1cfcdfe814}{EnI2C}, LOW);
75     
76     shiftOut(\hyperlink{classJetpack_a3d669a56e93c71dd25f970d4ed7d0c00}{dataPin}, \hyperlink{classJetpack_a58ebb991f358f3ae94e82148b0221b5a}{clockPin}, MSBFIRST, this->\hyperlink{classJetpack_aca3142925a7b0834b34ae91d26af7765}{action});
77 
78     digitalWrite(\hyperlink{classJetpack_a81df984fb4cea98c71aa1a1cfcdfe814}{EnI2C}, HIGH);
79 
80 \}   
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classJetpack_a338f1af8cbc6504ac69b47c7328569b5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classJetpack_a79ae7bc3c1828a0551a7c005c4f8bd00}\label{classJetpack_a79ae7bc3c1828a0551a7c005c4f8bd00}} 
\index{Jetpack@{Jetpack}!write\+Bit@{write\+Bit}}
\index{write\+Bit@{write\+Bit}!Jetpack@{Jetpack}}
\subsubsection{\texorpdfstring{write\+Bit()}{writeBit()}}
{\footnotesize\ttfamily void Jetpack\+::write\+Bit (\begin{DoxyParamCaption}\item[{byte}]{pin,  }\item[{bool}]{state }\end{DoxyParamCaption})}

Jetpack\+::write\+Bit(pin,state)\+: This method is provided to write the given state to the given pin 

Definition at line 87 of file Jetpack.\+cpp.



References action, clock\+Pin, data\+Pin, and En\+I2C.


\begin{DoxyCode}
88 \{
89 
90 \textcolor{preprocessor}{#if DEBUG == 1 }
91 
92     Serial.println(\textcolor{stringliteral}{"Entering Jetpack.writeBit() "});
93 
94     Serial.print(\textcolor{stringliteral}{"Writing "});
95     Serial.print(state);
96 
97     Serial.print(\textcolor{stringliteral}{"to pin N°"});
98     Serial.print(pin);
99 
100     Serial.println();
101 
102 \textcolor{preprocessor}{#endif}
103 
104     bitWrite(this->\hyperlink{classJetpack_aca3142925a7b0834b34ae91d26af7765}{action}, pin, state);
105     digitalWrite(\hyperlink{classJetpack_a81df984fb4cea98c71aa1a1cfcdfe814}{EnI2C}, LOW);
106     
107     shiftOut(\hyperlink{classJetpack_a3d669a56e93c71dd25f970d4ed7d0c00}{dataPin}, \hyperlink{classJetpack_a58ebb991f358f3ae94e82148b0221b5a}{clockPin}, MSBFIRST, this->\hyperlink{classJetpack_aca3142925a7b0834b34ae91d26af7765}{action});
108 
109     digitalWrite(\hyperlink{classJetpack_a81df984fb4cea98c71aa1a1cfcdfe814}{EnI2C}, HIGH);
110 
111 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classJetpack_aca3142925a7b0834b34ae91d26af7765}\label{classJetpack_aca3142925a7b0834b34ae91d26af7765}} 
\index{Jetpack@{Jetpack}!action@{action}}
\index{action@{action}!Jetpack@{Jetpack}}
\subsubsection{\texorpdfstring{action}{action}}
{\footnotesize\ttfamily byte Jetpack\+::action = B00000000\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 39 of file Jetpack.\+h.



Referenced by do\+Action(), write(), and write\+Bit().

\mbox{\Hypertarget{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}\label{classJetpack_a7e16d2f97837f9712a2e6de1c50d99db}} 
\index{Jetpack@{Jetpack}!actors@{actors}}
\index{actors@{actors}!Jetpack@{Jetpack}}
\subsubsection{\texorpdfstring{actors}{actors}}
{\footnotesize\ttfamily struct \hyperlink{structJetpack_1_1state}{Jetpack\+::state} Jetpack\+::actors\mbox{[}8\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}



Referenced by config(), do\+Action(), and print\+Conf().

\mbox{\Hypertarget{classJetpack_a52c86319cb3f7f1ab744a64db18a7ba5}\label{classJetpack_a52c86319cb3f7f1ab744a64db18a7ba5}} 
\index{Jetpack@{Jetpack}!actors\+Number@{actors\+Number}}
\index{actors\+Number@{actors\+Number}!Jetpack@{Jetpack}}
\subsubsection{\texorpdfstring{actors\+Number}{actorsNumber}}
{\footnotesize\ttfamily byte Jetpack\+::actors\+Number =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 41 of file Jetpack.\+h.



Referenced by config(), and print\+Conf().

\mbox{\Hypertarget{classJetpack_a58ebb991f358f3ae94e82148b0221b5a}\label{classJetpack_a58ebb991f358f3ae94e82148b0221b5a}} 
\index{Jetpack@{Jetpack}!clock\+Pin@{clock\+Pin}}
\index{clock\+Pin@{clock\+Pin}!Jetpack@{Jetpack}}
\subsubsection{\texorpdfstring{clock\+Pin}{clockPin}}
{\footnotesize\ttfamily const int Jetpack\+::clock\+Pin = 4\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 61 of file Jetpack.\+h.



Referenced by begin(), write(), and write\+Bit().

\mbox{\Hypertarget{classJetpack_a3d669a56e93c71dd25f970d4ed7d0c00}\label{classJetpack_a3d669a56e93c71dd25f970d4ed7d0c00}} 
\index{Jetpack@{Jetpack}!data\+Pin@{data\+Pin}}
\index{data\+Pin@{data\+Pin}!Jetpack@{Jetpack}}
\subsubsection{\texorpdfstring{data\+Pin}{dataPin}}
{\footnotesize\ttfamily const int Jetpack\+::data\+Pin = 15\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 63 of file Jetpack.\+h.



Referenced by begin(), write(), and write\+Bit().

\mbox{\Hypertarget{classJetpack_a81df984fb4cea98c71aa1a1cfcdfe814}\label{classJetpack_a81df984fb4cea98c71aa1a1cfcdfe814}} 
\index{Jetpack@{Jetpack}!En\+I2C@{En\+I2C}}
\index{En\+I2C@{En\+I2C}!Jetpack@{Jetpack}}
\subsubsection{\texorpdfstring{En\+I2C}{EnI2C}}
{\footnotesize\ttfamily const int Jetpack\+::\+En\+I2C =5\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 65 of file Jetpack.\+h.



Referenced by begin(), write(), and write\+Bit().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{Jetpack_8h}{Jetpack.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{Jetpack_8cpp}{Jetpack.\+cpp}\end{DoxyCompactItemize}
