\hypertarget{classCoolMQTT}{}\section{Cool\+M\+Q\+TT Class Reference}
\label{classCoolMQTT}\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}


This class handles the mqtt client.  




{\ttfamily \#include $<$Cool\+M\+Q\+T\+T.\+h$>$}



Collaboration diagram for Cool\+M\+Q\+TT\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=177pt]{classCoolMQTT__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classCoolMQTT_ac9248808641ebf3054ed0620ea9d0100}{begin} ()
\item 
int \hyperlink{classCoolMQTT_a58b0b1f64b269c2681685208262fba1d}{connect} (uint16\+\_\+t keep\+Alive)
\item 
bool \hyperlink{classCoolMQTT_ace977b3e90ab14b1199fe5c4fb0a13ec}{publish} (const char $\ast$data)
\item 
bool \hyperlink{classCoolMQTT_a65a506641740ce797ceadd4fa8a286d3}{publish} (const char $\ast$data, int log\+Interval)
\item 
String \hyperlink{classCoolMQTT_ae3c18f6ae9723746d32765f1c8f176ca}{read} ()
\item 
void \hyperlink{classCoolMQTT_a9b703de4f1358f0ee7a5e8c44979c648}{config} (const char \hyperlink{classCoolMQTT_ab8bb951f87ddbf92db74c2ad16a3e53e}{mqtt\+Server}\mbox{[}$\,$\mbox{]}, const char \hyperlink{classCoolMQTT_a4492f52a441e83cc5151010317fdb52d}{in\+Topic}\mbox{[}$\,$\mbox{]}, const char \hyperlink{classCoolMQTT_a109c786a17b463f9eeba046194279522}{out\+Topic}\mbox{[}$\,$\mbox{]}, const char \hyperlink{classCoolMQTT_a8cd47e45d457f908d4b4390b35aaee83}{user}\mbox{[}$\,$\mbox{]}, int \hyperlink{classCoolMQTT_a7f3cf26b51d6770f216e42c5ef13ca9f}{buffer\+Size})
\item 
bool \hyperlink{classCoolMQTT_a6571671781a505feca9a8a56e256c6bc}{config} ()
\item 
void \hyperlink{classCoolMQTT_a30d82ad665bfb603f46ecdbc290775df}{callback} (char $\ast$topic, byte $\ast$payload, unsigned int length)
\item 
void \hyperlink{classCoolMQTT_a40553a0ad4b5ecf1cb4411ab54ca85fb}{print\+Conf} ()
\item 
int \hyperlink{classCoolMQTT_a5d003307eff78efbd585e42b43b72b6d}{state} ()
\item 
bool \hyperlink{classCoolMQTT_aa5eaae967b562b62cbcf2b8d81f6e5d5}{mqtt\+Loop} ()
\item 
String \hyperlink{classCoolMQTT_a373cc92fca7760d886f02d8a6e5b3f63}{get\+User} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
char \hyperlink{classCoolMQTT_ab8bb951f87ddbf92db74c2ad16a3e53e}{mqtt\+Server} \mbox{[}50\mbox{]} =\{\textquotesingle{}0\textquotesingle{}\}
\item 
String \hyperlink{classCoolMQTT_af6b19e7074dbbb4ae493c44dcb53f7ff}{msg} =\char`\"{}\char`\"{}
\item 
char \hyperlink{classCoolMQTT_a4492f52a441e83cc5151010317fdb52d}{in\+Topic} \mbox{[}50\mbox{]} =\{\textquotesingle{}0\textquotesingle{}\}
\item 
char \hyperlink{classCoolMQTT_a109c786a17b463f9eeba046194279522}{out\+Topic} \mbox{[}50\mbox{]} =\{\textquotesingle{}0\textquotesingle{}\}
\item 
char \hyperlink{classCoolMQTT_a8cd47e45d457f908d4b4390b35aaee83}{user} \mbox{[}50\mbox{]} =\{\textquotesingle{}0\textquotesingle{}\}
\item 
int \hyperlink{classCoolMQTT_a7f3cf26b51d6770f216e42c5ef13ca9f}{buffer\+Size} =3000
\item 
Wi\+Fi\+Client \hyperlink{classCoolMQTT_acc30a0200967374a524092a8a806502a}{esp\+Client}
\item 
Pub\+Sub\+Client \hyperlink{classCoolMQTT_a4ca71e4f76ef868692a297efd45b1415}{client}
\item 
bool \hyperlink{classCoolMQTT_a3240388137b885775aadf38e96b24c6b}{new\+Msg} =0
\item 
unsigned long \hyperlink{classCoolMQTT_a3db37ef9ed3b05b2a8d44edba0e7d3cc}{previous\+Log\+Time} =0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class handles the mqtt client. 

Definition at line 22 of file Cool\+M\+Q\+T\+T.\+h.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classCoolMQTT_ac9248808641ebf3054ed0620ea9d0100}\label{classCoolMQTT_ac9248808641ebf3054ed0620ea9d0100}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!begin@{begin}}
\index{begin@{begin}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily void Cool\+M\+Q\+T\+T\+::begin (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolMQTT_ac9248808641ebf3054ed0620ea9d0100}{Cool\+M\+Q\+T\+T\+::begin()}\+: This method is provided to set the mqtt client\textquotesingle{}s parameters\+: -\/client -\/server -\/callback method -\/buffer size 

Definition at line 39 of file Cool\+M\+Q\+T\+T.\+cpp.



References buffer\+Size, callback(), client, esp\+Client, and mqtt\+Server.



Referenced by Cool\+Board\+::begin().


\begin{DoxyCode}
40 \{ 
41 
42 \textcolor{preprocessor}{#if DEBUG == 1 }
43 
44     Serial.println( F(\textcolor{stringliteral}{"Entering CoolMQTT.begin()"}) );
45     Serial.println();
46 
47 \textcolor{preprocessor}{#endif}
48 
49     \hyperlink{classCoolMQTT_a4ca71e4f76ef868692a297efd45b1415}{client}.setClient(\hyperlink{classCoolMQTT_acc30a0200967374a524092a8a806502a}{espClient});
50     \hyperlink{classCoolMQTT_a4ca71e4f76ef868692a297efd45b1415}{client}.setServer(\hyperlink{classCoolMQTT_ab8bb951f87ddbf92db74c2ad16a3e53e}{mqttServer}, 1883); 
51     \hyperlink{classCoolMQTT_a4ca71e4f76ef868692a297efd45b1415}{client}.setCallback([\textcolor{keyword}{this}] (\textcolor{keywordtype}{char}* topic, byte* payload, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} length) \{ this->
      \hyperlink{classCoolMQTT_a30d82ad665bfb603f46ecdbc290775df}{callback}(topic, payload, length); \});
52     \hyperlink{classCoolMQTT_a4ca71e4f76ef868692a297efd45b1415}{client}.setBufferSize((\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short})\hyperlink{classCoolMQTT_a7f3cf26b51d6770f216e42c5ef13ca9f}{bufferSize});
53 
54 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=317pt]{classCoolMQTT_ac9248808641ebf3054ed0620ea9d0100_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=302pt]{classCoolMQTT_ac9248808641ebf3054ed0620ea9d0100_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolMQTT_a30d82ad665bfb603f46ecdbc290775df}\label{classCoolMQTT_a30d82ad665bfb603f46ecdbc290775df}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!callback@{callback}}
\index{callback@{callback}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{callback()}{callback()}}
{\footnotesize\ttfamily void Cool\+M\+Q\+T\+T\+::callback (\begin{DoxyParamCaption}\item[{char $\ast$}]{topic,  }\item[{byte $\ast$}]{payload,  }\item[{unsigned int}]{length }\end{DoxyParamCaption})}

Cool\+M\+Q\+T\+T\+::callback(in topic, incoming message , message length)\+: This method is provided to handle incoming messages from the subscribed in\+Topic.

Arguments are automatically assigned in client.\+set\+Callback() 

Definition at line 279 of file Cool\+M\+Q\+T\+T.\+cpp.



References msg, new\+Msg, and temp.



Referenced by begin().


\begin{DoxyCode}
280 \{
281 
282 \textcolor{preprocessor}{#if DEBUG == 1}
283 
284     Serial.println( F(\textcolor{stringliteral}{"Entering CoolMQTT.callback() "}) );
285     Serial.println();
286 
287 \textcolor{preprocessor}{#endif }
288 
289     \textcolor{keywordflow}{if}(this->\hyperlink{classCoolMQTT_a3240388137b885775aadf38e96b24c6b}{newMsg}==\textcolor{keyword}{false})
290     \{
291         \textcolor{keywordtype}{char} \hyperlink{Irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp}[length+1];
292 
293 \textcolor{preprocessor}{    #if DEBUG == 1}
294 
295         Serial.println( F(\textcolor{stringliteral}{"received temp msg : "}) );
296         
297 \textcolor{preprocessor}{    #endif}
298         
299         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < length; i++) 
300         \{
301             temp[i]=(char)payload[i];
302         
303 \textcolor{preprocessor}{        #if DEBUG == 1 }
304 
305             Serial.print( (\textcolor{keywordtype}{char})payload[i] );
306         
307 \textcolor{preprocessor}{        #endif}
308 
309         \}
310     
311 \textcolor{preprocessor}{    #if DEBUG == 1 }
312 
313         Serial.println();
314         Serial.println( F(\textcolor{stringliteral}{"storing new message : "}) );
315 
316         Serial.print(F(\textcolor{stringliteral}{"length : "}));
317         Serial.println(length);
318         
319         Serial.print(F(\textcolor{stringliteral}{"size : "}));
320         Serial.print(\textcolor{keyword}{sizeof}(payload));
321         Serial.println();
322     
323 \textcolor{preprocessor}{    #endif}
324 
325         this->\hyperlink{classCoolMQTT_a3240388137b885775aadf38e96b24c6b}{newMsg}=\textcolor{keyword}{true};
326 
327         temp[length+1]=\textcolor{charliteral}{'\(\backslash\)0'};
328 
329         this->\hyperlink{classCoolMQTT_af6b19e7074dbbb4ae493c44dcb53f7ff}{msg}=String(temp);
330         this->\hyperlink{classCoolMQTT_af6b19e7074dbbb4ae493c44dcb53f7ff}{msg}.remove(length,1);
331     
332 \textcolor{preprocessor}{    #if DEBUG == 1 }
333 
334         Serial.println( F(\textcolor{stringliteral}{"stored message : "}) );
335         Serial.println(this->\hyperlink{classCoolMQTT_af6b19e7074dbbb4ae493c44dcb53f7ff}{msg});
336     
337 \textcolor{preprocessor}{    #endif}
338 
339     \}
340     \textcolor{keywordflow}{else}
341     \{
342     
343 \textcolor{preprocessor}{    #if DEBUG == 1}
344 
345         Serial.println( F(\textcolor{stringliteral}{"did not read last message"}) );
346     
347 \textcolor{preprocessor}{    #endif }
348         
349     \}
350 
351 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolMQTT_a30d82ad665bfb603f46ecdbc290775df_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolMQTT_a9b703de4f1358f0ee7a5e8c44979c648}\label{classCoolMQTT_a9b703de4f1358f0ee7a5e8c44979c648}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!config@{config}}
\index{config@{config}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{config()}{config()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void Cool\+M\+Q\+T\+T\+::config (\begin{DoxyParamCaption}\item[{const char}]{mqtt\+Server\mbox{[}$\,$\mbox{]},  }\item[{const char}]{in\+Topic\mbox{[}$\,$\mbox{]},  }\item[{const char}]{out\+Topic\mbox{[}$\,$\mbox{]},  }\item[{const char}]{user\mbox{[}$\,$\mbox{]},  }\item[{int}]{buffer\+Size }\end{DoxyParamCaption})}

Cool\+M\+Q\+T\+T\+::config(server,in topic, out topic , user Id, buffer size)\+: This method is provided to manually configure the mqtt client 

Definition at line 596 of file Cool\+M\+Q\+T\+T.\+cpp.



References buffer\+Size.



Referenced by Cool\+Board\+::begin().


\begin{DoxyCode}
597 \{
598 
599 \textcolor{preprocessor}{#if DEBUG == 1}
600 
601     Serial.println( F(\textcolor{stringliteral}{"Entering CoolMQTT.config() , no SPIFFS variant"}) );
602     Serial.println();
603 
604 \textcolor{preprocessor}{#endif}
605 
606     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i =0;i< 50 ;i++)
607     \{
608         this->\hyperlink{classCoolMQTT_ab8bb951f87ddbf92db74c2ad16a3e53e}{mqttServer}[i]=\hyperlink{classCoolMQTT_ab8bb951f87ddbf92db74c2ad16a3e53e}{mqttServer}[i];
609         this->\hyperlink{classCoolMQTT_a4492f52a441e83cc5151010317fdb52d}{inTopic}[i]=\hyperlink{classCoolMQTT_a4492f52a441e83cc5151010317fdb52d}{inTopic}[i];
610         this->\hyperlink{classCoolMQTT_a109c786a17b463f9eeba046194279522}{outTopic}[i]=\hyperlink{classCoolMQTT_a109c786a17b463f9eeba046194279522}{outTopic}[i];
611         this->\hyperlink{classCoolMQTT_a8cd47e45d457f908d4b4390b35aaee83}{user}[i]=\hyperlink{classCoolMQTT_a8cd47e45d457f908d4b4390b35aaee83}{user}[i];
612     \}
613     this->\hyperlink{classCoolMQTT_a7f3cf26b51d6770f216e42c5ef13ca9f}{bufferSize}=\hyperlink{classCoolMQTT_a7f3cf26b51d6770f216e42c5ef13ca9f}{bufferSize};
614     
615 
616 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=305pt]{classCoolMQTT_a9b703de4f1358f0ee7a5e8c44979c648_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolMQTT_a6571671781a505feca9a8a56e256c6bc}\label{classCoolMQTT_a6571671781a505feca9a8a56e256c6bc}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!config@{config}}
\index{config@{config}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{config()}{config()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool Cool\+M\+Q\+T\+T\+::config (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolMQTT_a6571671781a505feca9a8a56e256c6bc}{Cool\+M\+Q\+T\+T\+::config()}\+: This method is provided to configure the mqtt\+Client \+: -\/server -\/in\+Topic -\/out\+Topic -\/client Id -\/buffer size

\begin{DoxyReturn}{Returns}
true if successful,false otherwise 
\end{DoxyReturn}


Definition at line 399 of file Cool\+M\+Q\+T\+T.\+cpp.



References buffer\+Size, in\+Topic, mqtt\+Server, out\+Topic, and user.


\begin{DoxyCode}
400 \{
401 
402 \textcolor{preprocessor}{#if DEBUG == 1 }
403 
404     Serial.println( F(\textcolor{stringliteral}{"Entering CoolMQTT.config()"}) );
405     Serial.println();
406 
407 \textcolor{preprocessor}{#endif}
408 
409     \textcolor{comment}{//read config file}
410     \textcolor{comment}{//update data}
411     File configFile = SPIFFS.open(\textcolor{stringliteral}{"/mqttConfig.json"}, \textcolor{stringliteral}{"r"});
412 
413     \textcolor{keywordflow}{if} (!configFile) 
414     \{
415     
416 \textcolor{preprocessor}{    #if DEBUG == 1 }
417 
418         Serial.println( F(\textcolor{stringliteral}{"failed to read /mqttConfig.json"}) );
419         Serial.println();
420 
421 \textcolor{preprocessor}{    #endif}
422 
423         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
424     \}
425     \textcolor{keywordflow}{else}
426     \{
427         \textcolor{keywordtype}{size\_t} size = configFile.size();
428         \textcolor{comment}{// Allocate a buffer to store contents of the file.}
429         std::unique\_ptr<char[]> buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
430 
431         configFile.readBytes(buf.get(), size);
432         DynamicJsonBuffer jsonBuffer;
433         JsonObject& json = jsonBuffer.parseObject(buf.get());
434         \textcolor{keywordflow}{if} (!json.success()) 
435         \{
436         
437 \textcolor{preprocessor}{        #if DEBUG == 1 }
438 
439             Serial.println( F(\textcolor{stringliteral}{"failed to parse json "}) );
440             Serial.println();
441         
442 \textcolor{preprocessor}{        #endif}
443             
444             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
445         \} 
446         \textcolor{keywordflow}{else}
447         \{
448         
449 \textcolor{preprocessor}{        #if DEBUG == 1 }
450         
451             Serial.println( F(\textcolor{stringliteral}{"configuration json is "}) );
452             json.printTo(Serial);
453             Serial.println();
454 
455             Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
456             Serial.println(jsonBuffer.size());
457             Serial.println();
458 
459 
460 \textcolor{preprocessor}{        #endif}
461 
462             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"mqttServer"}].success() )
463             \{           
464                 \textcolor{keyword}{const} \textcolor{keywordtype}{char}* tempmqttServer = json[\textcolor{stringliteral}{"mqttServer"}]; 
465                 \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i =0;i< 50 ;i++)
466                 \{
467                     \hyperlink{classCoolMQTT_ab8bb951f87ddbf92db74c2ad16a3e53e}{mqttServer}[i]=tempmqttServer[i];
468                 \}
469             \}
470             \textcolor{keywordflow}{else}
471             \{
472                 \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i =0;i< 50 ;i++)
473                 \{
474                     this->\hyperlink{classCoolMQTT_ab8bb951f87ddbf92db74c2ad16a3e53e}{mqttServer}[i]=this->\hyperlink{classCoolMQTT_ab8bb951f87ddbf92db74c2ad16a3e53e}{mqttServer}[i];
475                 \}
476 
477             \}
478             json[\textcolor{stringliteral}{"mqttServer"}]=this->\hyperlink{classCoolMQTT_ab8bb951f87ddbf92db74c2ad16a3e53e}{mqttServer};
479 
480             
481             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"inTopic"}].success() )
482             \{
483                 \textcolor{keyword}{const} \textcolor{keywordtype}{char}* tempInTopic = json[\textcolor{stringliteral}{"inTopic"}]; 
484                 \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i =0;i< 50;i++)
485                 \{
486                     \hyperlink{classCoolMQTT_a4492f52a441e83cc5151010317fdb52d}{inTopic}[i]=tempInTopic[i];
487                 \}
488             \}
489             \textcolor{keywordflow}{else}
490             \{
491                 String tempMAC = WiFi.macAddress();
492                 tempMAC.replace(\textcolor{stringliteral}{":"},\textcolor{stringliteral}{""});
493                 snprintf(\hyperlink{classCoolMQTT_a4492f52a441e83cc5151010317fdb52d}{inTopic}, 50, \textcolor{stringliteral}{"$aws/things/%s/shadow/update/delta"}, tempMAC.c\_str());    
494             
495 \textcolor{preprocessor}{            #if DEBUG == 1              }
496                 
497                 Serial.print( F(\textcolor{stringliteral}{"Set Incomming MQTT Channel to : "}) );
498                 Serial.println(\hyperlink{classCoolMQTT_a4492f52a441e83cc5151010317fdb52d}{inTopic});
499             
500 \textcolor{preprocessor}{            #endif  }
501 
502             \}
503             json[\textcolor{stringliteral}{"inTopic"}]=this->\hyperlink{classCoolMQTT_a4492f52a441e83cc5151010317fdb52d}{inTopic};
504             
505             
506             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"outTopic"}].success() )
507             \{
508                 \textcolor{keyword}{const} \textcolor{keywordtype}{char}* tempOutTopic = json[\textcolor{stringliteral}{"outTopic"}]; 
509                 \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i =0;i<50;i++)
510                 \{
511                     \hyperlink{classCoolMQTT_a109c786a17b463f9eeba046194279522}{outTopic}[i]=tempOutTopic[i];
512                 \}
513             \}
514             \textcolor{keywordflow}{else}
515             \{
516                 String tempMAC = WiFi.macAddress();
517                 tempMAC.replace(\textcolor{stringliteral}{":"},\textcolor{stringliteral}{""});
518                 snprintf(\hyperlink{classCoolMQTT_a109c786a17b463f9eeba046194279522}{outTopic}, 50, \textcolor{stringliteral}{"$aws/things/%s/shadow/update"}, tempMAC.c\_str());
519             
520 \textcolor{preprocessor}{            #if DEBUG == 1 }
521 
522                 Serial.print( F(\textcolor{stringliteral}{"Set Outgoing MQTT Channel to : "}) );
523                 Serial.println(\hyperlink{classCoolMQTT_a109c786a17b463f9eeba046194279522}{outTopic});
524             
525 \textcolor{preprocessor}{            #endif}
526 
527             \}
528             json[\textcolor{stringliteral}{"outTopic"}]=this->\hyperlink{classCoolMQTT_a109c786a17b463f9eeba046194279522}{outTopic};
529         
530             
531             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"user"}].success() )
532             \{               
533                 \textcolor{keyword}{const} \textcolor{keywordtype}{char}* tempUser = json[\textcolor{stringliteral}{"user"}]; 
534                 \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i =0;i<50;i++)
535                 \{
536                     \hyperlink{classCoolMQTT_a8cd47e45d457f908d4b4390b35aaee83}{user}[i]=tempUser[i];
537                 \}
538             \}
539             \textcolor{keywordflow}{else}
540             \{
541                 \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<50;i++)
542                 \{
543                     this->\hyperlink{classCoolMQTT_a8cd47e45d457f908d4b4390b35aaee83}{user}[i]=this->\hyperlink{classCoolMQTT_a8cd47e45d457f908d4b4390b35aaee83}{user}[i];
544                 \}               
545             \}
546             json[\textcolor{stringliteral}{"user"}]=this->\hyperlink{classCoolMQTT_a8cd47e45d457f908d4b4390b35aaee83}{user};
547             
548             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"bufferSize"}].success() )
549             \{
550                 \textcolor{keywordtype}{int} tempBufferSize = json[\textcolor{stringliteral}{"bufferSize"}]; 
551                 \hyperlink{classCoolMQTT_a7f3cf26b51d6770f216e42c5ef13ca9f}{bufferSize}=tempBufferSize;
552             \}
553             \textcolor{keywordflow}{else}
554             \{
555                 this->\hyperlink{classCoolMQTT_a7f3cf26b51d6770f216e42c5ef13ca9f}{bufferSize}=this->\hyperlink{classCoolMQTT_a7f3cf26b51d6770f216e42c5ef13ca9f}{bufferSize};
556             \}
557             json[\textcolor{stringliteral}{"bufferSize"}]=this->\hyperlink{classCoolMQTT_a7f3cf26b51d6770f216e42c5ef13ca9f}{bufferSize};
558 
559             configFile.close();
560             configFile = SPIFFS.open(\textcolor{stringliteral}{"/mqttConfig.json"}, \textcolor{stringliteral}{"w"});
561             \textcolor{keywordflow}{if}(!configFile)
562             \{
563             
564 \textcolor{preprocessor}{            #if DEBUG == 1 }
565 
566                 Serial.println( F(\textcolor{stringliteral}{"failed to write to /mqttConfig.json"}) );
567             
568 \textcolor{preprocessor}{            #endif}
569 
570                 \textcolor{keywordflow}{return}(\textcolor{keyword}{false});              
571             \}
572             
573             json.printTo(configFile);
574             configFile.close();
575 
576 \textcolor{preprocessor}{        #if DEBUG == 1 }
577 
578             Serial.println( F(\textcolor{stringliteral}{"saved configuration is :"}) );
579             json.printTo(Serial);
580             Serial.println();
581         
582 \textcolor{preprocessor}{        #endif}
583 
584             \textcolor{keywordflow}{return}(\textcolor{keyword}{true}); 
585         \}
586     \}   
587     
588 
589 \}
\end{DoxyCode}
\mbox{\Hypertarget{classCoolMQTT_a58b0b1f64b269c2681685208262fba1d}\label{classCoolMQTT_a58b0b1f64b269c2681685208262fba1d}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!connect@{connect}}
\index{connect@{connect}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{connect()}{connect()}}
{\footnotesize\ttfamily int Cool\+M\+Q\+T\+T\+::connect (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{keep\+Alive }\end{DoxyParamCaption})}

Cool\+M\+Q\+T\+T\+::connect( time to keep the connection alive )\+: This method is provided to connect the client to the server, publish to the out topic , subscribe to the in topic and set the keep\+Alive time.

\begin{DoxyReturn}{Returns}
mqtt client state 
\end{DoxyReturn}


Definition at line 95 of file Cool\+M\+Q\+T\+T.\+cpp.



References client, in\+Topic, state(), and user.



Referenced by Cool\+Board\+::connect().


\begin{DoxyCode}
96 \{       
97 
98     \textcolor{keywordtype}{int} i=0;
99 
100 \textcolor{preprocessor}{#if DEBUG == 1 }
101 
102     Serial.println( F(\textcolor{stringliteral}{"Entering CoolMQTT.connect()"}) );
103     Serial.println( F(\textcolor{stringliteral}{"MQTT connecting..."}) );
104 
105 \textcolor{preprocessor}{#endif}
106 
107     \textcolor{keywordflow}{while}( ( !this->\hyperlink{classCoolMQTT_a4ca71e4f76ef868692a297efd45b1415}{client}.connected() ) && ( i<100 ) ) 
108     \{
109         \textcolor{comment}{// Attempt to connect}
110         \textcolor{keywordflow}{if}( this->\hyperlink{classCoolMQTT_a4ca71e4f76ef868692a297efd45b1415}{client}.connect( this-> \hyperlink{classCoolMQTT_a8cd47e45d457f908d4b4390b35aaee83}{user}, keepAlive ) )
111         \{
112             \hyperlink{classCoolMQTT_a4ca71e4f76ef868692a297efd45b1415}{client}.subscribe( this->\hyperlink{classCoolMQTT_a4492f52a441e83cc5151010317fdb52d}{inTopic} );
113 
114 \textcolor{preprocessor}{        #if DEBUG == 1 }
115 
116             Serial.println( F(\textcolor{stringliteral}{"MQTT connected"}) );
117             Serial.println( F(\textcolor{stringliteral}{" subscribed , leavin "}) ) ;
118         
119 \textcolor{preprocessor}{        #endif}
120 
121             \textcolor{keywordflow}{return}( this->\hyperlink{classCoolMQTT_a5d003307eff78efbd585e42b43b72b6d}{state}() );
122         \}
123 
124         \textcolor{keywordflow}{else}
125         \{
126         
127 \textcolor{preprocessor}{        #if DEBUG == 1 }
128 
129             Serial.println( F(\textcolor{stringliteral}{"not connected , retrying"}) );
130         
131 \textcolor{preprocessor}{        #endif}
132 
133             
134         \}
135 
136     delay(5);
137     i++;
138     \}
139     
140     \textcolor{keywordflow}{return}( this->\hyperlink{classCoolMQTT_a5d003307eff78efbd585e42b43b72b6d}{state}() );
141 
142 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=313pt]{classCoolMQTT_a58b0b1f64b269c2681685208262fba1d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolMQTT_a58b0b1f64b269c2681685208262fba1d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolMQTT_a373cc92fca7760d886f02d8a6e5b3f63}\label{classCoolMQTT_a373cc92fca7760d886f02d8a6e5b3f63}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!get\+User@{get\+User}}
\index{get\+User@{get\+User}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{get\+User()}{getUser()}}
{\footnotesize\ttfamily String Cool\+M\+Q\+T\+T\+::get\+User (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolMQTT_a373cc92fca7760d886f02d8a6e5b3f63}{Cool\+M\+Q\+T\+T\+::get\+User()}\+: This method is provided to get the user name 

Definition at line 659 of file Cool\+M\+Q\+T\+T.\+cpp.



References user.



Referenced by Cool\+Board\+::user\+Data().


\begin{DoxyCode}
660 \{
661 
662 \textcolor{preprocessor}{#if DEBUG == 1 }
663     Serial.println( F(\textcolor{stringliteral}{"Entering CoolMQTT.getUser()"}) );
664     Serial.println();
665     
666     Serial.print( F(\textcolor{stringliteral}{"user : "}) );
667     Serial.println(this->\hyperlink{classCoolMQTT_a8cd47e45d457f908d4b4390b35aaee83}{user});
668 
669 \textcolor{preprocessor}{#endif}
670 
671     \textcolor{keywordflow}{return} String(this->\hyperlink{classCoolMQTT_a8cd47e45d457f908d4b4390b35aaee83}{user});
672 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolMQTT_a373cc92fca7760d886f02d8a6e5b3f63_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolMQTT_aa5eaae967b562b62cbcf2b8d81f6e5d5}\label{classCoolMQTT_aa5eaae967b562b62cbcf2b8d81f6e5d5}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!mqtt\+Loop@{mqtt\+Loop}}
\index{mqtt\+Loop@{mqtt\+Loop}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{mqtt\+Loop()}{mqttLoop()}}
{\footnotesize\ttfamily bool Cool\+M\+Q\+T\+T\+::mqtt\+Loop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolMQTT_aa5eaae967b562b62cbcf2b8d81f6e5d5}{Cool\+M\+Q\+T\+T\+::mqtt\+Loop()}\+: This method is provided to allow the client to process the data

\begin{DoxyReturn}{Returns}
true if successful,false otherwise 
\end{DoxyReturn}


Definition at line 244 of file Cool\+M\+Q\+T\+T.\+cpp.



References client.



Referenced by Cool\+Board\+::on\+Line\+Mode(), and Cool\+Board\+::update().


\begin{DoxyCode}
245 \{
246 
247     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} lastTime=millis();
248 
249 \textcolor{preprocessor}{#if DEBUG == 1}
250 
251     Serial.println( F(\textcolor{stringliteral}{"Entering CoolMQTT.mqttLoop()"}) );
252     Serial.println();
253 
254 \textcolor{preprocessor}{#endif  }
255 
256     \textcolor{keywordflow}{while}( ( millis() - lastTime ) < 5000)
257     \{
258         this->\hyperlink{classCoolMQTT_a4ca71e4f76ef868692a297efd45b1415}{client}.loop();  
259     \}
260 
261 \textcolor{preprocessor}{#if DEBUG == 1 }
262     
263     Serial.print( F(\textcolor{stringliteral}{"loop result : "}) );
264     Serial.println( this->\hyperlink{classCoolMQTT_a4ca71e4f76ef868692a297efd45b1415}{client}.loop() );
265     Serial.println();
266 
267 \textcolor{preprocessor}{#endif}
268 
269     \textcolor{keywordflow}{return}( this->\hyperlink{classCoolMQTT_a4ca71e4f76ef868692a297efd45b1415}{client}.loop() );
270 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolMQTT_aa5eaae967b562b62cbcf2b8d81f6e5d5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolMQTT_a40553a0ad4b5ecf1cb4411ab54ca85fb}\label{classCoolMQTT_a40553a0ad4b5ecf1cb4411ab54ca85fb}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!print\+Conf@{print\+Conf}}
\index{print\+Conf@{print\+Conf}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{print\+Conf()}{printConf()}}
{\footnotesize\ttfamily void Cool\+M\+Q\+T\+T\+::print\+Conf (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolMQTT_a40553a0ad4b5ecf1cb4411ab54ca85fb}{Cool\+M\+Q\+T\+T\+::print\+Conf()}\+: This method is provided to print the configuration to the Serial Monitor 

Definition at line 623 of file Cool\+M\+Q\+T\+T.\+cpp.



References buffer\+Size, in\+Topic, mqtt\+Server, out\+Topic, and user.



Referenced by Cool\+Board\+::begin().


\begin{DoxyCode}
624 \{
625 
626 \textcolor{preprocessor}{#if DEBUG == 1 }
627 
628     Serial.println( F(\textcolor{stringliteral}{"Entering CoolMQTT.printConf()"}) );
629     Serial.println();   
630 
631 \textcolor{preprocessor}{#endif}
632     
633     Serial.println(\textcolor{stringliteral}{"MQTT configuration "});
634 
635     Serial.print(\textcolor{stringliteral}{"mqttServer : "});
636     Serial.println(this->\hyperlink{classCoolMQTT_ab8bb951f87ddbf92db74c2ad16a3e53e}{mqttServer});
637 
638     Serial.print(\textcolor{stringliteral}{"inTopic : "});
639     Serial.println(this->\hyperlink{classCoolMQTT_a4492f52a441e83cc5151010317fdb52d}{inTopic});
640 
641     Serial.print(\textcolor{stringliteral}{"outTopic : "});
642     Serial.println(this->\hyperlink{classCoolMQTT_a109c786a17b463f9eeba046194279522}{outTopic});
643 
644     Serial.print(\textcolor{stringliteral}{"user : "});
645     Serial.println(this->\hyperlink{classCoolMQTT_a8cd47e45d457f908d4b4390b35aaee83}{user});
646 
647     Serial.print(\textcolor{stringliteral}{"bufferSize : "});
648     Serial.println(this->\hyperlink{classCoolMQTT_a7f3cf26b51d6770f216e42c5ef13ca9f}{bufferSize});
649 
650     Serial.println();
651 
652 
653 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=318pt]{classCoolMQTT_a40553a0ad4b5ecf1cb4411ab54ca85fb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolMQTT_ace977b3e90ab14b1199fe5c4fb0a13ec}\label{classCoolMQTT_ace977b3e90ab14b1199fe5c4fb0a13ec}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!publish@{publish}}
\index{publish@{publish}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{publish()}{publish()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool Cool\+M\+Q\+T\+T\+::publish (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data }\end{DoxyParamCaption})}

Cool\+M\+Q\+T\+T\+::publish(data)\+: This method is provided to publish data to the out topic

\begin{DoxyReturn}{Returns}
true if publish successful, false otherwise 
\end{DoxyReturn}


Definition at line 152 of file Cool\+M\+Q\+T\+T.\+cpp.



References client, and out\+Topic.



Referenced by Cool\+Board\+::on\+Line\+Mode(), publish(), and Cool\+Board\+::update().


\begin{DoxyCode}
153 \{
154 
155 \textcolor{preprocessor}{#if DEBUG == 1 }
156 
157     Serial.println( F(\textcolor{stringliteral}{"Entering CoolMQTT.publish()"}) );
158     Serial.println();
159     \textcolor{comment}{//data is in JSON, publish it directly}
160 
161     Serial.println( F(\textcolor{stringliteral}{"data to publish : "}) );
162     Serial.println(data);
163     Serial.print( F(\textcolor{stringliteral}{"data size : "}) );
164     Serial.println(strlen(data));
165 
166     Serial.println();
167 
168 \textcolor{preprocessor}{#endif}
169     
170 
171     \textcolor{keywordtype}{bool} pub=\hyperlink{classCoolMQTT_a4ca71e4f76ef868692a297efd45b1415}{client}.publish( this->\hyperlink{classCoolMQTT_a109c786a17b463f9eeba046194279522}{outTopic},(byte*) data,strlen(data),\textcolor{keyword}{false}  );
172 
173 \textcolor{preprocessor}{#if DEBUG == 1 }
174 
175     Serial.print( F(\textcolor{stringliteral}{"success : "}) );
176     Serial.println(pub);    
177 
178 \textcolor{preprocessor}{#endif}
179 
180     \textcolor{keywordflow}{return}(pub);
181 
182 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolMQTT_ace977b3e90ab14b1199fe5c4fb0a13ec_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolMQTT_a65a506641740ce797ceadd4fa8a286d3}\label{classCoolMQTT_a65a506641740ce797ceadd4fa8a286d3}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!publish@{publish}}
\index{publish@{publish}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{publish()}{publish()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool Cool\+M\+Q\+T\+T\+::publish (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data,  }\item[{int}]{log\+Interval }\end{DoxyParamCaption})}

Cool\+M\+Q\+T\+T\+::publish(data)\+: This method is provided to publish data to the out topic every log\+Interval ms

\begin{DoxyReturn}{Returns}
true if publish successful, false otherwise 
\end{DoxyReturn}


Definition at line 192 of file Cool\+M\+Q\+T\+T.\+cpp.



References previous\+Log\+Time, and publish().


\begin{DoxyCode}
193 \{
194 
195 \textcolor{preprocessor}{#if DEBUG == 1 }
196 
197     Serial.println( F(\textcolor{stringliteral}{"Entering CoolMQTT.publish() every logInterval "}) );
198     Serial.println();
199 
200 \textcolor{preprocessor}{#endif }
201     
202     \textcolor{keywordflow}{if}( ( millis() - ( this->\hyperlink{classCoolMQTT_a3db37ef9ed3b05b2a8d44edba0e7d3cc}{previousLogTime})  ) >=( logInterval ) )
203     \{
204     
205 \textcolor{preprocessor}{    #if DEBUG == 1}
206 
207         Serial.println( F(\textcolor{stringliteral}{"log Interval has passed "}) );
208         Serial.println();
209     
210 \textcolor{preprocessor}{    #endif}
211 
212         this->\hyperlink{classCoolMQTT_ace977b3e90ab14b1199fe5c4fb0a13ec}{publish}(data);
213 
214         this->\hyperlink{classCoolMQTT_a3db37ef9ed3b05b2a8d44edba0e7d3cc}{previousLogTime}=millis();
215     
216 \textcolor{preprocessor}{    #if DEBUG == 1 }
217 
218         Serial.print( F(\textcolor{stringliteral}{"last log time : "}) );
219         Serial.println(this->\hyperlink{classCoolMQTT_a3db37ef9ed3b05b2a8d44edba0e7d3cc}{previousLogTime});
220 
221 \textcolor{preprocessor}{    #endif}
222 
223         \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
224     \}
225 
226 \textcolor{preprocessor}{#if DEBUG == 1 }
227 
228     Serial.println( F(\textcolor{stringliteral}{"log Interval still didn't pass "}) ); 
229     Serial.println();
230 
231 \textcolor{preprocessor}{#endif}
232 
233     \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
234 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=318pt]{classCoolMQTT_a65a506641740ce797ceadd4fa8a286d3_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolMQTT_ae3c18f6ae9723746d32765f1c8f176ca}\label{classCoolMQTT_ae3c18f6ae9723746d32765f1c8f176ca}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!read@{read}}
\index{read@{read}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily String Cool\+M\+Q\+T\+T\+::read (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolMQTT_ae3c18f6ae9723746d32765f1c8f176ca}{Cool\+M\+Q\+T\+T\+::read()}\+: This method is provided to return the last read message. 

Definition at line 358 of file Cool\+M\+Q\+T\+T.\+cpp.



References msg, and new\+Msg.



Referenced by Cool\+Board\+::on\+Line\+Mode().


\begin{DoxyCode}
359 \{   
360 
361 \textcolor{preprocessor}{#if DEBUG == 1 }
362 
363     Serial.println( F(\textcolor{stringliteral}{"Entering CoolMQTT.read()"}) );
364     Serial.println();
365 
366 \textcolor{preprocessor}{#endif }
367 
368     \textcolor{keywordflow}{if}(this->\hyperlink{classCoolMQTT_a3240388137b885775aadf38e96b24c6b}{newMsg}==\textcolor{keyword}{true})
369     \{
370         
371         this->\hyperlink{classCoolMQTT_a3240388137b885775aadf38e96b24c6b}{newMsg}=\textcolor{keyword}{false};
372 
373 \textcolor{preprocessor}{#if DEBUG == 1 }
374         Serial.println( F(\textcolor{stringliteral}{"received new message"}) );
375         Serial.println( F(\textcolor{stringliteral}{"message : "}) );
376         Serial.println(this->\hyperlink{classCoolMQTT_af6b19e7074dbbb4ae493c44dcb53f7ff}{msg});
377         Serial.println();
378 
379 \textcolor{preprocessor}{#endif}
380 
381         \textcolor{keywordflow}{return}(this->\hyperlink{classCoolMQTT_af6b19e7074dbbb4ae493c44dcb53f7ff}{msg});
382         
383     \}
384     \textcolor{keywordflow}{return}(\textcolor{stringliteral}{""});
385 
386 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=326pt]{classCoolMQTT_ae3c18f6ae9723746d32765f1c8f176ca_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolMQTT_a5d003307eff78efbd585e42b43b72b6d}\label{classCoolMQTT_a5d003307eff78efbd585e42b43b72b6d}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!state@{state}}
\index{state@{state}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{state()}{state()}}
{\footnotesize\ttfamily int Cool\+M\+Q\+T\+T\+::state (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolMQTT_a5d003307eff78efbd585e42b43b72b6d}{Cool\+M\+Q\+T\+T\+::state()}\+: This method is provided to return the mqtt client\textquotesingle{}s state. \begin{DoxyReturn}{Returns}
mqtt client state\+: -\/4 \+: M\+Q\+T\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+T\+I\+M\+E\+O\+UT -\/ the server didn\textquotesingle{}t respond within the keepalive time -\/3 \+: M\+Q\+T\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+L\+O\+ST -\/ the network connection was broken -\/2 \+: M\+Q\+T\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+\_\+\+F\+A\+I\+L\+ED -\/ the network connection failed -\/1 \+: M\+Q\+T\+T\+\_\+\+D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+ED -\/ the client is disconnected cleanly 0 \+: M\+Q\+T\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+ED -\/ the cient is connected 1 \+: M\+Q\+T\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+\_\+\+B\+A\+D\+\_\+\+P\+R\+O\+T\+O\+C\+OL -\/ the server doesn\textquotesingle{}t support the requested version of M\+Q\+TT 2 \+: M\+Q\+T\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+\_\+\+B\+A\+D\+\_\+\+C\+L\+I\+E\+N\+T\+\_\+\+ID -\/ the server rejected the client identifier 3 \+: M\+Q\+T\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+\_\+\+U\+N\+A\+V\+A\+I\+L\+A\+B\+LE -\/ the server was unable to accept the connection 4 \+: M\+Q\+T\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+\_\+\+B\+A\+D\+\_\+\+C\+R\+E\+D\+E\+N\+T\+I\+A\+LS -\/ the username/password were rejected 5 \+: M\+Q\+T\+T\+\_\+\+C\+O\+N\+N\+E\+C\+T\+\_\+\+U\+N\+A\+U\+T\+H\+O\+R\+I\+Z\+ED -\/ the client was not authorized to connect 
\end{DoxyReturn}


Definition at line 72 of file Cool\+M\+Q\+T\+T.\+cpp.



References client.



Referenced by connect(), and Cool\+Board\+::connect().


\begin{DoxyCode}
73 \{
74 
75 \textcolor{preprocessor}{#if DEBUG == 1 }
76 
77     Serial.println( F(\textcolor{stringliteral}{"Entering CoolMQTT.state()"}) );
78     Serial.println();   
79     Serial.print( F(\textcolor{stringliteral}{"state : "}) );
80     Serial.println( this->\hyperlink{classCoolMQTT_a4ca71e4f76ef868692a297efd45b1415}{client}.state() );
81 
82 \textcolor{preprocessor}{#endif}
83     
84     \textcolor{keywordflow}{return}( this->\hyperlink{classCoolMQTT_a4ca71e4f76ef868692a297efd45b1415}{client}.state() );
85 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolMQTT_a5d003307eff78efbd585e42b43b72b6d_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classCoolMQTT_a7f3cf26b51d6770f216e42c5ef13ca9f}\label{classCoolMQTT_a7f3cf26b51d6770f216e42c5ef13ca9f}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!buffer\+Size@{buffer\+Size}}
\index{buffer\+Size@{buffer\+Size}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{buffer\+Size}{bufferSize}}
{\footnotesize\ttfamily int Cool\+M\+Q\+T\+T\+::buffer\+Size =3000\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 63 of file Cool\+M\+Q\+T\+T.\+h.



Referenced by begin(), config(), and print\+Conf().

\mbox{\Hypertarget{classCoolMQTT_a4ca71e4f76ef868692a297efd45b1415}\label{classCoolMQTT_a4ca71e4f76ef868692a297efd45b1415}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!client@{client}}
\index{client@{client}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{client}{client}}
{\footnotesize\ttfamily Pub\+Sub\+Client Cool\+M\+Q\+T\+T\+::client\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 67 of file Cool\+M\+Q\+T\+T.\+h.



Referenced by begin(), connect(), mqtt\+Loop(), publish(), and state().

\mbox{\Hypertarget{classCoolMQTT_acc30a0200967374a524092a8a806502a}\label{classCoolMQTT_acc30a0200967374a524092a8a806502a}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!esp\+Client@{esp\+Client}}
\index{esp\+Client@{esp\+Client}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{esp\+Client}{espClient}}
{\footnotesize\ttfamily Wi\+Fi\+Client Cool\+M\+Q\+T\+T\+::esp\+Client\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 65 of file Cool\+M\+Q\+T\+T.\+h.



Referenced by begin().

\mbox{\Hypertarget{classCoolMQTT_a4492f52a441e83cc5151010317fdb52d}\label{classCoolMQTT_a4492f52a441e83cc5151010317fdb52d}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!in\+Topic@{in\+Topic}}
\index{in\+Topic@{in\+Topic}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{in\+Topic}{inTopic}}
{\footnotesize\ttfamily char Cool\+M\+Q\+T\+T\+::in\+Topic\mbox{[}50\mbox{]} =\{\textquotesingle{}0\textquotesingle{}\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 57 of file Cool\+M\+Q\+T\+T.\+h.



Referenced by config(), connect(), and print\+Conf().

\mbox{\Hypertarget{classCoolMQTT_ab8bb951f87ddbf92db74c2ad16a3e53e}\label{classCoolMQTT_ab8bb951f87ddbf92db74c2ad16a3e53e}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!mqtt\+Server@{mqtt\+Server}}
\index{mqtt\+Server@{mqtt\+Server}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{mqtt\+Server}{mqttServer}}
{\footnotesize\ttfamily char Cool\+M\+Q\+T\+T\+::mqtt\+Server\mbox{[}50\mbox{]} =\{\textquotesingle{}0\textquotesingle{}\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 53 of file Cool\+M\+Q\+T\+T.\+h.



Referenced by begin(), config(), and print\+Conf().

\mbox{\Hypertarget{classCoolMQTT_af6b19e7074dbbb4ae493c44dcb53f7ff}\label{classCoolMQTT_af6b19e7074dbbb4ae493c44dcb53f7ff}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!msg@{msg}}
\index{msg@{msg}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{msg}{msg}}
{\footnotesize\ttfamily String Cool\+M\+Q\+T\+T\+::msg =\char`\"{}\char`\"{}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 55 of file Cool\+M\+Q\+T\+T.\+h.



Referenced by callback(), and read().

\mbox{\Hypertarget{classCoolMQTT_a3240388137b885775aadf38e96b24c6b}\label{classCoolMQTT_a3240388137b885775aadf38e96b24c6b}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!new\+Msg@{new\+Msg}}
\index{new\+Msg@{new\+Msg}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{new\+Msg}{newMsg}}
{\footnotesize\ttfamily bool Cool\+M\+Q\+T\+T\+::new\+Msg =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 69 of file Cool\+M\+Q\+T\+T.\+h.



Referenced by callback(), and read().

\mbox{\Hypertarget{classCoolMQTT_a109c786a17b463f9eeba046194279522}\label{classCoolMQTT_a109c786a17b463f9eeba046194279522}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!out\+Topic@{out\+Topic}}
\index{out\+Topic@{out\+Topic}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{out\+Topic}{outTopic}}
{\footnotesize\ttfamily char Cool\+M\+Q\+T\+T\+::out\+Topic\mbox{[}50\mbox{]} =\{\textquotesingle{}0\textquotesingle{}\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 59 of file Cool\+M\+Q\+T\+T.\+h.



Referenced by config(), print\+Conf(), and publish().

\mbox{\Hypertarget{classCoolMQTT_a3db37ef9ed3b05b2a8d44edba0e7d3cc}\label{classCoolMQTT_a3db37ef9ed3b05b2a8d44edba0e7d3cc}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!previous\+Log\+Time@{previous\+Log\+Time}}
\index{previous\+Log\+Time@{previous\+Log\+Time}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{previous\+Log\+Time}{previousLogTime}}
{\footnotesize\ttfamily unsigned long Cool\+M\+Q\+T\+T\+::previous\+Log\+Time =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 71 of file Cool\+M\+Q\+T\+T.\+h.



Referenced by publish().

\mbox{\Hypertarget{classCoolMQTT_a8cd47e45d457f908d4b4390b35aaee83}\label{classCoolMQTT_a8cd47e45d457f908d4b4390b35aaee83}} 
\index{Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}!user@{user}}
\index{user@{user}!Cool\+M\+Q\+TT@{Cool\+M\+Q\+TT}}
\subsubsection{\texorpdfstring{user}{user}}
{\footnotesize\ttfamily char Cool\+M\+Q\+T\+T\+::user\mbox{[}50\mbox{]} =\{\textquotesingle{}0\textquotesingle{}\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 61 of file Cool\+M\+Q\+T\+T.\+h.



Referenced by config(), connect(), get\+User(), and print\+Conf().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{CoolMQTT_8h}{Cool\+M\+Q\+T\+T.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{CoolMQTT_8cpp}{Cool\+M\+Q\+T\+T.\+cpp}\end{DoxyCompactItemize}
