\hypertarget{classCoolBoard}{}\section{Cool\+Board Class Reference}
\label{classCoolBoard}\index{Cool\+Board@{Cool\+Board}}


This class manages the \hyperlink{classCoolBoard}{Cool\+Board} and all of Its functions.  




{\ttfamily \#include $<$Cool\+Board.\+h$>$}



Collaboration diagram for Cool\+Board\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoard__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classCoolBoard_a8b88fd781e22e93025dd63474113b7e4}{Cool\+Board} ()
\item 
void \hyperlink{classCoolBoard_acba7c5aef7268b2c0044bdb54d3b9d76}{begin} ()
\item 
bool \hyperlink{classCoolBoard_a583a874c09c07e70a6eb9229fc4beddb}{config} ()
\item 
void \hyperlink{classCoolBoard_a8612756d3f73198cdde857a66f0fe690}{update} (const char $\ast$\hyperlink{classCoolBoard_a7b835fafd449e5282f7f91d787a2dc15}{answer})
\item 
void \hyperlink{classCoolBoard_ae6b5e1274d760462290192acea4adca8}{off\+Line\+Mode} ()
\item 
void \hyperlink{classCoolBoard_aa0bbc4bc605e35618d18e68795c61363}{on\+Line\+Mode} ()
\item 
int \hyperlink{classCoolBoard_a519de78b807f8ec6463ff484eb925918}{connect} ()
\item 
int \hyperlink{classCoolBoard_ad7442cf4b62c7b0d5bd62a0f75ffc065}{is\+Connected} ()
\item 
unsigned long \hyperlink{classCoolBoard_a7508e029f2ee17bb747ffab599285e0d}{get\+Log\+Interval} ()
\item 
void \hyperlink{classCoolBoard_a486507b8f0981d3cc671ed31c2145755}{print\+Conf} ()
\item 
void \hyperlink{classCoolBoard_a069952cdcb2e7f68518aa429eceadb6e}{sleep} (unsigned long interval)
\item 
String \hyperlink{classCoolBoard_ad03abdce2e65f520bbf2cff0f2d083cf}{read\+Sensors} ()
\item 
void \hyperlink{classCoolBoard_a397b46fadab8f530a8cf4d914c561366}{init\+Read\+I2C} ()
\item 
void \hyperlink{classCoolBoard_a8c23a7683ae929ec89d326ae605a41aa}{stop\+Read\+I2C} ()
\item 
String \hyperlink{classCoolBoard_ae7358fb6e623cfc81b775f5f1734909b}{user\+Data} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classCoolFileSystem}{Cool\+File\+System} \hyperlink{classCoolBoard_a42c2586fbb13ff7f06538e9284e8538d}{file\+System}
\item 
\hyperlink{classCoolBoardSensors}{Cool\+Board\+Sensors} \hyperlink{classCoolBoard_af102be5288bd7f7a8e59b13f86e26a00}{cool\+Board\+Sensors}
\item 
\hyperlink{classCoolBoardLed}{Cool\+Board\+Led} \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{cool\+Board\+Led}
\item 
\hyperlink{classCoolTime}{Cool\+Time} \hyperlink{classCoolBoard_a50d2a6716879d64a85f3c6b44ad63275}{rtc}
\item 
\hyperlink{classCoolWifi}{Cool\+Wifi} \hyperlink{classCoolBoard_acd88e6003606b47479ebba81e4aceeca}{wifi\+Manager}
\item 
\hyperlink{classCoolMQTT}{Cool\+M\+Q\+TT} \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}
\item 
\hyperlink{classJetpack}{Jetpack} \hyperlink{classCoolBoard_a30b1357881b01ccbec676856a91e48e9}{jet\+Pack}
\item 
\hyperlink{classIrene3000}{Irene3000} \hyperlink{classCoolBoard_ad103718ce316006c4695b8eb312eaf11}{irene3000}
\item 
\hyperlink{classExternalSensors}{External\+Sensors} \hyperlink{classCoolBoard_a09e26264839c65873eb56af476eff6b2}{external\+Sensors}
\item 
bool \hyperlink{classCoolBoard_a6395459131d6889a3005f79c7a35e964}{user\+Active} =0
\item 
bool \hyperlink{classCoolBoard_a9c3f7ac625481ee2ae802a25d97a4ae0}{irene\+Active} =0
\item 
bool \hyperlink{classCoolBoard_a9be03a913d26e558328935ca3b59a75e}{jetpack\+Active} =0
\item 
bool \hyperlink{classCoolBoard_a638b00b76aeb819ecfd4c10b8cdd7bb7}{external\+Sensors\+Active} =0
\item 
bool \hyperlink{classCoolBoard_a0a51b2287139f66c738101fb53139230}{sleep\+Active} =0
\item 
unsigned long \hyperlink{classCoolBoard_a84bc94413b64973e4aba8c467c97006c}{log\+Interval} =1
\item 
int \hyperlink{classCoolBoard_a7a8d8d3d316220cdd049cd63c1aa8fe6}{server\+Time\+Out} =180
\item 
String \hyperlink{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}{data} =\char`\"{}\char`\"{}
\item 
String \hyperlink{classCoolBoard_a7b835fafd449e5282f7f91d787a2dc15}{answer} =\char`\"{}\char`\"{}
\item 
const int \hyperlink{classCoolBoard_af1fe1376fc66f93dee80b327ca695377}{En\+I2C} = 5
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class manages the \hyperlink{classCoolBoard}{Cool\+Board} and all of Its functions. 

Definition at line 33 of file Cool\+Board.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classCoolBoard_a8b88fd781e22e93025dd63474113b7e4}\label{classCoolBoard_a8b88fd781e22e93025dd63474113b7e4}} 
\index{Cool\+Board@{Cool\+Board}!Cool\+Board@{Cool\+Board}}
\index{Cool\+Board@{Cool\+Board}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{Cool\+Board()}{CoolBoard()}}
{\footnotesize\ttfamily Cool\+Board\+::\+Cool\+Board (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoard_a8b88fd781e22e93025dd63474113b7e4}{Cool\+Board\+::\+Cool\+Board()}\+: This Constructor is provided to start the I2C interface and Init the different used pins 

Definition at line 34 of file Cool\+Board.\+cpp.



References En\+I2C.


\begin{DoxyCode}
35 \{
36 
37 \textcolor{preprocessor}{#if DEBUG == 1}
38 
39     Serial.println( F(\textcolor{stringliteral}{"Entering CoolBoard Constructor"}) );
40     Serial.println();
41 
42 \textcolor{preprocessor}{#endif}
43     
44     Wire.begin(2, 14);                       \textcolor{comment}{//I2C init }
45 
46     pinMode(\hyperlink{classCoolBoard_af1fe1376fc66f93dee80b327ca695377}{EnI2C}, OUTPUT);           \textcolor{comment}{//Declare I2C Enable pin }
47 
48 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classCoolBoard_acba7c5aef7268b2c0044bdb54d3b9d76}\label{classCoolBoard_acba7c5aef7268b2c0044bdb54d3b9d76}} 
\index{Cool\+Board@{Cool\+Board}!begin@{begin}}
\index{begin@{begin}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily void Cool\+Board\+::begin (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoard_acba7c5aef7268b2c0044bdb54d3b9d76}{Cool\+Board\+::begin()}\+: This method is provided to configure and start the used Cool\+Kit Parts. It also starts the first connection try If Serial is enabled,it prints the configuration of the used parts. 

Definition at line 59 of file Cool\+Board.\+cpp.



References Jetpack\+::begin(), Cool\+M\+Q\+T\+T\+::begin(), External\+Sensors\+::begin(), Cool\+Board\+Sensors\+::begin(), Cool\+Wifi\+::begin(), Cool\+Time\+::begin(), Irene3000\+::begin(), Cool\+Board\+Led\+::blink(), Jetpack\+::config(), External\+Sensors\+::config(), Cool\+Wifi\+::config(), Cool\+M\+Q\+T\+T\+::config(), Cool\+Time\+::config(), Irene3000\+::config(), Cool\+Board\+Sensors\+::config(), connect(), cool\+Board\+Led, cool\+Board\+Sensors, external\+Sensors, external\+Sensors\+Active, Cool\+Board\+Led\+::fade\+Out(), init\+Read\+I2\+C(), irene3000, irene\+Active, jet\+Pack, jetpack\+Active, mqtt, Cool\+Board\+Led\+::print\+Conf(), Jetpack\+::print\+Conf(), External\+Sensors\+::print\+Conf(), Irene3000\+::print\+Conf(), Cool\+M\+Q\+T\+T\+::print\+Conf(), Cool\+Time\+::print\+Conf(), Cool\+Board\+Sensors\+::print\+Conf(), Cool\+Wifi\+::print\+Conf(), rtc, wifi\+Manager, and Cool\+Board\+Led\+::write().


\begin{DoxyCode}
60 \{
61 
62 \textcolor{preprocessor}{#if DEBUG == 1}
63 
64     Serial.println( F(\textcolor{stringliteral}{"Starting the CoolBoard  "})  );
65     Serial.println( F(\textcolor{stringliteral}{"Entering CoolBoard.begin() "})  );
66     Serial.println();
67 \textcolor{preprocessor}{#endif  }
68     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a8ed3053a36f0ed4a131f43b5b17efb61}{printConf}();
69     delay(100);
70     
71     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a30fadd4cbec17ceea428bf7a32207e87}{write}(255,128,0);\textcolor{comment}{//orange}
72 
73     this->\hyperlink{classCoolBoard_a397b46fadab8f530a8cf4d914c561366}{initReadI2C}();
74 
75     \hyperlink{classCoolBoard_af102be5288bd7f7a8e59b13f86e26a00}{coolBoardSensors}.\hyperlink{classCoolBoardSensors_a9a218895c5423375c33c08f2c56fb23a}{config}();
76     \hyperlink{classCoolBoard_af102be5288bd7f7a8e59b13f86e26a00}{coolBoardSensors}.\hyperlink{classCoolBoardSensors_a97095823ef7c8f5290812f1405b966b3}{begin}();
77     \hyperlink{classCoolBoard_af102be5288bd7f7a8e59b13f86e26a00}{coolBoardSensors}.\hyperlink{classCoolBoardSensors_af6fd79505815b204c178617ecf54c873}{printConf}();
78     delay(100);
79     
80     \hyperlink{classCoolBoard_acd88e6003606b47479ebba81e4aceeca}{wifiManager}.\hyperlink{classCoolWifi_a4eb2f6b9b09dd588964b88b6c70122c0}{config}();
81     \hyperlink{classCoolBoard_acd88e6003606b47479ebba81e4aceeca}{wifiManager}.\hyperlink{classCoolWifi_a46942fed90e475112cc10b78a32e7aaa}{begin}();
82     \hyperlink{classCoolBoard_acd88e6003606b47479ebba81e4aceeca}{wifiManager}.\hyperlink{classCoolWifi_a9e6105c6d13d35ec510f6633da9e0223}{printConf}();
83     delay(100);
84 
85     \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_a9b703de4f1358f0ee7a5e8c44979c648}{config}();
86     \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_ac9248808641ebf3054ed0620ea9d0100}{begin}();
87     \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_a40553a0ad4b5ecf1cb4411ab54ca85fb}{printConf}();
88     delay(100);
89 
90     \textcolor{keywordflow}{if} (\hyperlink{classCoolBoard_a9be03a913d26e558328935ca3b59a75e}{jetpackActive})
91     \{
92         \hyperlink{classCoolBoard_a30b1357881b01ccbec676856a91e48e9}{jetPack}.\hyperlink{classJetpack_ab065ee83e244265a2223a22f3ee4a719}{config}();
93         \hyperlink{classCoolBoard_a30b1357881b01ccbec676856a91e48e9}{jetPack}.\hyperlink{classJetpack_a5a53e1ebf7aaf3bf3e0d37ea64ca09a7}{begin}();
94         \hyperlink{classCoolBoard_a30b1357881b01ccbec676856a91e48e9}{jetPack}.\hyperlink{classJetpack_ac54a7bb4f9166bee32052253d9b1d306}{printConf}();
95         delay(100);
96     \}
97 
98     \textcolor{keywordflow}{if} (\hyperlink{classCoolBoard_a9c3f7ac625481ee2ae802a25d97a4ae0}{ireneActive})
99     \{
100         \hyperlink{classCoolBoard_ad103718ce316006c4695b8eb312eaf11}{irene3000}.\hyperlink{classIrene3000_afed5c35e4b23963c157847ef27c11e9c}{config}();
101         \hyperlink{classCoolBoard_ad103718ce316006c4695b8eb312eaf11}{irene3000}.\hyperlink{classIrene3000_ad5891806c500ae1007afe52b9e304c2b}{begin}();
102         \hyperlink{classCoolBoard_ad103718ce316006c4695b8eb312eaf11}{irene3000}.\hyperlink{classIrene3000_a7bc2414100b5e19eacc6630fa34b2654}{printConf}();
103         delay(100);
104     \}
105 
106     \textcolor{keywordflow}{if} (\hyperlink{classCoolBoard_a638b00b76aeb819ecfd4c10b8cdd7bb7}{externalSensorsActive})
107     \{
108         \hyperlink{classCoolBoard_a09e26264839c65873eb56af476eff6b2}{externalSensors}.\hyperlink{classExternalSensors_a862a4bd11346b37270d0244c2adabe5a}{config}();
109         \hyperlink{classCoolBoard_a09e26264839c65873eb56af476eff6b2}{externalSensors}.\hyperlink{classExternalSensors_a58ede0d786a86417254708870f04a21e}{begin}();
110         \hyperlink{classCoolBoard_a09e26264839c65873eb56af476eff6b2}{externalSensors}.\hyperlink{classExternalSensors_a78c2bf55084435dd51d3c559b2d3c6f3}{printConf}();
111         delay(100);
112     \}
113     
114     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a93d545679237e8cc858324367149775c}{fadeOut}(255,128,0,0.5);\textcolor{comment}{//orange}
115 
116     this->\hyperlink{classCoolBoard_a519de78b807f8ec6463ff484eb925918}{connect}();
117     delay(100);
118 
119     \hyperlink{classCoolBoard_a50d2a6716879d64a85f3c6b44ad63275}{rtc}.\hyperlink{classCoolTime_a87c28260c1bc77091162cbcf1ee2e129}{config}();
120     \hyperlink{classCoolBoard_a50d2a6716879d64a85f3c6b44ad63275}{rtc}.\hyperlink{classCoolTime_ab1976cf718b950bc31e003c3323b8adb}{begin}();
121     \hyperlink{classCoolBoard_a50d2a6716879d64a85f3c6b44ad63275}{rtc}.\hyperlink{classCoolTime_af355e7f9b3898211cd2ff25eab5933b1}{printConf}();
122     delay(100);
123     
124     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a96e1ea13003eee34c9dbcef340404426}{blink}(0,255,0,0.5);\textcolor{comment}{//green}
125 
126 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoard_acba7c5aef7268b2c0044bdb54d3b9d76_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolBoard_a583a874c09c07e70a6eb9229fc4beddb}\label{classCoolBoard_a583a874c09c07e70a6eb9229fc4beddb}} 
\index{Cool\+Board@{Cool\+Board}!config@{config}}
\index{config@{config}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{config()}{config()}}
{\footnotesize\ttfamily bool Cool\+Board\+::config (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoard_a583a874c09c07e70a6eb9229fc4beddb}{Cool\+Board\+::config()}\+: This method is provided to configure the \hyperlink{classCoolBoard}{Cool\+Board} \+: -\/log interval -\/irene3000 activated/deactivated -\/jetpack activated/deactivated -\/external Sensors activated/deactivated -\/mqtt server timeout

\begin{DoxyReturn}{Returns}
true if configuration is done, false otherwise 
\end{DoxyReturn}


Definition at line 619 of file Cool\+Board.\+cpp.



References Cool\+Board\+Led\+::begin(), Cool\+File\+System\+::begin(), Cool\+Board\+Led\+::blink(), Cool\+Board\+Led\+::config(), cool\+Board\+Led, external\+Sensors\+Active, Cool\+Board\+Led\+::fade\+In(), Cool\+Board\+Led\+::fade\+Out(), file\+System, irene\+Active, jetpack\+Active, log\+Interval, server\+Time\+Out, sleep\+Active, Cool\+Board\+Led\+::strobe(), and user\+Active.


\begin{DoxyCode}
620 \{
621 
622 \textcolor{preprocessor}{#if DEBUG == 1}
623 
624     Serial.println( F(\textcolor{stringliteral}{"Entering CoolBoard.config() "}) );
625     Serial.println();
626 
627 \textcolor{preprocessor}{#endif}
628 
629     \textcolor{comment}{//open file system}
630     \hyperlink{classCoolBoard_a42c2586fbb13ff7f06538e9284e8538d}{fileSystem}.\hyperlink{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}{begin}();
631     
632     \textcolor{comment}{//start the led}
633     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a1b60e5e30bea96c49ed62ed1bf1ffc8b}{config}();
634     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_ae3cbde8affcc6f011cbd698c8ef911f6}{begin}();
635     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_ab778f5e7bed0ab74e3906d82110493c3}{fadeIn}(243,171,46,0.5);\textcolor{comment}{//shade of orange     }
636 
637     
638     \textcolor{comment}{//open configuration file}
639     File configFile = SPIFFS.open(\textcolor{stringliteral}{"/coolBoardConfig.json"}, \textcolor{stringliteral}{"r"});
640     
641     \textcolor{keywordflow}{if} (!configFile)
642 
643     \{
644     
645 \textcolor{preprocessor}{    #if DEBUG == 1}
646 
647         Serial.println( F(\textcolor{stringliteral}{"failed to read /coolBoardConfig.json  "}) );
648 
649 \textcolor{preprocessor}{    #endif}
650         \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a96e1ea13003eee34c9dbcef340404426}{blink}(255,0,0,0.5);\textcolor{comment}{//shade of red     }
651         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
652     \}
653 
654     \textcolor{keywordflow}{else}
655     \{
656         \textcolor{keywordtype}{size\_t} size = configFile.size();
657 
658         \textcolor{comment}{// Allocate a buffer to store contents of the file.}
659         std::unique\_ptr < char[] > buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
660 
661         configFile.readBytes(buf.get(), size);
662 
663         DynamicJsonBuffer jsonBuffer;
664 
665         JsonObject & json = jsonBuffer.parseObject(buf.get());
666 
667         \textcolor{keywordflow}{if} (!json.success())
668         \{
669         
670 \textcolor{preprocessor}{        #if DEBUG == 1}
671 
672             Serial.println( F(\textcolor{stringliteral}{"failed to parse CoolBoard Config json object "}) );
673     
674 \textcolor{preprocessor}{        #endif}
675             \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a96e1ea13003eee34c9dbcef340404426}{blink}(255,0,0,0.5);\textcolor{comment}{//shade of red     }
676             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
677         \}
678 
679         \textcolor{keywordflow}{else}
680         \{   
681         
682 \textcolor{preprocessor}{        #if DEBUG == 1}
683             
684             Serial.println( F(\textcolor{stringliteral}{"configuration json : "}) );
685             json.printTo(Serial);
686             Serial.println();
687             
688             Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size : "}));
689             Serial.print(jsonBuffer.size());
690             Serial.println();
691 
692 \textcolor{preprocessor}{        #endif}
693             
694             \textcolor{comment}{//parsing userActive Key}
695             \textcolor{keywordflow}{if} (json[\textcolor{stringliteral}{"userActive"}].success())
696             \{
697                 \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a6395459131d6889a3005f79c7a35e964}{userActive} = json[\textcolor{stringliteral}{"userActive"}];
698             \}
699 
700             \textcolor{keywordflow}{else}
701             \{
702                 \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a6395459131d6889a3005f79c7a35e964}{userActive} = \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a6395459131d6889a3005f79c7a35e964}{userActive};
703             \}
704             json[\textcolor{stringliteral}{"userActive"}] = \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a6395459131d6889a3005f79c7a35e964}{userActive};
705 
706             \textcolor{comment}{//parsing logInterval key}
707             \textcolor{keywordflow}{if} (json[\textcolor{stringliteral}{"logInterval"}].success())
708             \{
709                 \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a84bc94413b64973e4aba8c467c97006c}{logInterval} = json[\textcolor{stringliteral}{"logInterval"}];
710             \}
711             \textcolor{keywordflow}{else}
712             \{
713                 \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a84bc94413b64973e4aba8c467c97006c}{logInterval} = \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a84bc94413b64973e4aba8c467c97006c}{logInterval};
714             \}
715             json[\textcolor{stringliteral}{"logInterval"}] = \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a84bc94413b64973e4aba8c467c97006c}{logInterval};
716             
717             \textcolor{comment}{//parsing ireneActive key           }
718             \textcolor{keywordflow}{if} (json[\textcolor{stringliteral}{"ireneActive"}].success())
719             \{
720                 \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a9c3f7ac625481ee2ae802a25d97a4ae0}{ireneActive} = json[\textcolor{stringliteral}{"ireneActive"}];
721             \}
722             \textcolor{keywordflow}{else}
723             \{
724                 \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a9c3f7ac625481ee2ae802a25d97a4ae0}{ireneActive} = \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a9c3f7ac625481ee2ae802a25d97a4ae0}{ireneActive};
725             \}
726             json[\textcolor{stringliteral}{"ireneActive"}] = \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a9c3f7ac625481ee2ae802a25d97a4ae0}{ireneActive};
727             
728             \textcolor{comment}{//parsing jetpackActive key}
729             \textcolor{keywordflow}{if} (json[\textcolor{stringliteral}{"jetpackActive"}].success())
730             \{
731                 \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a9be03a913d26e558328935ca3b59a75e}{jetpackActive} = json[\textcolor{stringliteral}{"jetpackActive"}];
732             \}
733             \textcolor{keywordflow}{else}
734             \{
735                 \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a9be03a913d26e558328935ca3b59a75e}{jetpackActive} = \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a9be03a913d26e558328935ca3b59a75e}{jetpackActive};
736             \}
737             json[\textcolor{stringliteral}{"jetpackActive"}] = \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a9be03a913d26e558328935ca3b59a75e}{jetpackActive};
738 
739             \textcolor{comment}{//parsing externalSensorsActive key}
740             \textcolor{keywordflow}{if} (json[\textcolor{stringliteral}{"externalSensorsActive"}].success())
741             \{
742                 \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a638b00b76aeb819ecfd4c10b8cdd7bb7}{externalSensorsActive} = json[\textcolor{stringliteral}{"externalSensorsActive"}];
743             \}
744             \textcolor{keywordflow}{else}
745             \{
746                 \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a638b00b76aeb819ecfd4c10b8cdd7bb7}{externalSensorsActive} = \textcolor{keyword}{this} -> 
      \hyperlink{classCoolBoard_a638b00b76aeb819ecfd4c10b8cdd7bb7}{externalSensorsActive};
747             \}
748             json[\textcolor{stringliteral}{"externalSensorsActive"}] = \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a638b00b76aeb819ecfd4c10b8cdd7bb7}{externalSensorsActive};
749 
750             \textcolor{comment}{//parsing serverTimeOut key}
751             \textcolor{keywordflow}{if} (json[\textcolor{stringliteral}{"serverTimeOut"}].success())
752             \{
753                 \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a7a8d8d3d316220cdd049cd63c1aa8fe6}{serverTimeOut} = json[\textcolor{stringliteral}{"serverTimeOut"}];
754             \}
755             \textcolor{keywordflow}{else}
756             \{
757                 \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a7a8d8d3d316220cdd049cd63c1aa8fe6}{serverTimeOut} = \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a7a8d8d3d316220cdd049cd63c1aa8fe6}{serverTimeOut};
758             \}
759             json[\textcolor{stringliteral}{"serverTimeOut"}] = \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a7a8d8d3d316220cdd049cd63c1aa8fe6}{serverTimeOut};
760             
761             \textcolor{comment}{//parsing sleepActive key}
762             \textcolor{keywordflow}{if} (json[\textcolor{stringliteral}{"sleepActive"}].success())
763             \{
764                 \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a0a51b2287139f66c738101fb53139230}{sleepActive} = json[\textcolor{stringliteral}{"sleepActive"}];
765             \}
766             \textcolor{keywordflow}{else}
767             \{
768                 \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a0a51b2287139f66c738101fb53139230}{sleepActive} = \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a0a51b2287139f66c738101fb53139230}{sleepActive};
769             \}
770             json[\textcolor{stringliteral}{"sleepActive"}] = \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a0a51b2287139f66c738101fb53139230}{sleepActive};
771 
772             \textcolor{comment}{//saving the current/correct configuration}
773             configFile.close();
774             configFile = SPIFFS.open(\textcolor{stringliteral}{"/coolBoardConfig.json"}, \textcolor{stringliteral}{"w"});
775             \textcolor{keywordflow}{if} (!configFile)
776             \{
777             
778 \textcolor{preprocessor}{            #if DEBUG == 1}
779 
780                 Serial.println( F(\textcolor{stringliteral}{"failed to write to /coolBoardConfig.json"}) );
781                 Serial.println();
782             
783 \textcolor{preprocessor}{            #endif}
784                 \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a96e1ea13003eee34c9dbcef340404426}{blink}(255,0,0,0.5);\textcolor{comment}{//shade of red     }
785                 \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
786             \}
787 
788             json.printTo(configFile);
789             configFile.close();
790             \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
791         \}
792     \}
793 
794     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_ad5f0de4c628cbfbf49896042831c64ad}{strobe}(243,171,46,0.5);\textcolor{comment}{//shade of orange}
795     
796     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a93d545679237e8cc858324367149775c}{fadeOut}(243,171,46,0.5);\textcolor{comment}{//shade of orange               }
797 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=330pt]{classCoolBoard_a583a874c09c07e70a6eb9229fc4beddb_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolBoard_a519de78b807f8ec6463ff484eb925918}\label{classCoolBoard_a519de78b807f8ec6463ff484eb925918}} 
\index{Cool\+Board@{Cool\+Board}!connect@{connect}}
\index{connect@{connect}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{connect()}{connect()}}
{\footnotesize\ttfamily int Cool\+Board\+::connect (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoard_a519de78b807f8ec6463ff484eb925918}{Cool\+Board\+::connect()}\+: This method is provided to manage the network connection and the mqtt connection.

\begin{DoxyReturn}{Returns}
mqtt client state 
\end{DoxyReturn}


Definition at line 188 of file Cool\+Board.\+cpp.



References Cool\+Board\+Led\+::blink(), Cool\+M\+Q\+T\+T\+::connect(), Cool\+Wifi\+::connect(), cool\+Board\+Led, get\+Log\+Interval(), mqtt, Cool\+Wifi\+::state(), Cool\+M\+Q\+T\+T\+::state(), wifi\+Manager, and Cool\+Board\+Led\+::write().



Referenced by begin(), and off\+Line\+Mode().


\begin{DoxyCode}
189 \{
190 
191 \textcolor{preprocessor}{#if DEBUG == 1  }
192 
193     Serial.println( F(\textcolor{stringliteral}{"Entering CoolBoard.connect "}) );
194     Serial.println();
195     Serial.println( F(\textcolor{stringliteral}{"Connecting the CoolBoard  "}) );
196     delay(100);
197 
198 \textcolor{preprocessor}{#endif}
199     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a30fadd4cbec17ceea428bf7a32207e87}{write}(0,0,255);\textcolor{comment}{//blue}
200 
201     
202             
203     
204 \textcolor{preprocessor}{#if DEBUG == 1      }
205 
206     Serial.println( F(\textcolor{stringliteral}{"Launching CoolWifi"}) );
207     Serial.println();
208 
209 \textcolor{preprocessor}{#endif}
210     \hyperlink{classCoolBoard_acd88e6003606b47479ebba81e4aceeca}{wifiManager}.\hyperlink{classCoolWifi_ad060353050f40d032a2dbf9e54a768bf}{connect}();
211     delay(100);
212 
213 
214     \textcolor{comment}{//only attempt MQTT connection when Wifi is Connected}
215     \textcolor{keywordflow}{if} (\hyperlink{classCoolBoard_acd88e6003606b47479ebba81e4aceeca}{wifiManager}.\hyperlink{classCoolWifi_a1c7b4d82a4098d346e7593dce92039fa}{state}() == WL\_CONNECTED)
216     \{
217 
218 \textcolor{preprocessor}{    #if DEBUG == 1  }
219     
220         Serial.println( F(\textcolor{stringliteral}{"Launching mqtt.connect()"}) );
221         Serial.println();
222     
223 \textcolor{preprocessor}{    #endif  }
224         \textcolor{comment}{//logInterval in seconds}
225         \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_a50075d0ab23a327ab897fd6adad20eda}{connect}(\textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a7508e029f2ee17bb747ffab599285e0d}{getLogInterval}());
226         delay(100);
227     \}
228     
229         
230     
231     
232 \textcolor{preprocessor}{#if DEBUG == 1}
233 
234     Serial.println( F(\textcolor{stringliteral}{"mqtt state is :"}) );
235     Serial.println(\hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_a5d003307eff78efbd585e42b43b72b6d}{state}());
236     Serial.println();
237     delay(100);
238 
239 \textcolor{preprocessor}{#endif}
240 
241     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a96e1ea13003eee34c9dbcef340404426}{blink}(0,0,255,0.5);\textcolor{comment}{//blue}
242 
243     \textcolor{keywordflow}{return}(\hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_a5d003307eff78efbd585e42b43b72b6d}{state}());
244 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoard_a519de78b807f8ec6463ff484eb925918_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=341pt]{classCoolBoard_a519de78b807f8ec6463ff484eb925918_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolBoard_a7508e029f2ee17bb747ffab599285e0d}\label{classCoolBoard_a7508e029f2ee17bb747ffab599285e0d}} 
\index{Cool\+Board@{Cool\+Board}!get\+Log\+Interval@{get\+Log\+Interval}}
\index{get\+Log\+Interval@{get\+Log\+Interval}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{get\+Log\+Interval()}{getLogInterval()}}
{\footnotesize\ttfamily unsigned long Cool\+Board\+::get\+Log\+Interval (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoard_a7508e029f2ee17bb747ffab599285e0d}{Cool\+Board\+::get\+Log\+Interval()}\+: This method is provided to get the log interval

\begin{DoxyReturn}{Returns}
interval value in s 
\end{DoxyReturn}


Definition at line 964 of file Cool\+Board.\+cpp.



References log\+Interval.



Referenced by connect(), and on\+Line\+Mode().


\begin{DoxyCode}
965 \{
966 
967 \textcolor{preprocessor}{#if DEBUG == 1}
968 
969     Serial.println( F(\textcolor{stringliteral}{"Entering CoolBoard.getLogInterval() "}) );
970     Serial.println();
971     Serial.println( F(\textcolor{stringliteral}{"log Interval is :"}) );
972     Serial.println(\hyperlink{classCoolBoard_a84bc94413b64973e4aba8c467c97006c}{logInterval});
973     Serial.println();
974 
975 \textcolor{preprocessor}{#endif}
976 
977     \textcolor{keywordflow}{return}(\textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a84bc94413b64973e4aba8c467c97006c}{logInterval});
978 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoard_a7508e029f2ee17bb747ffab599285e0d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolBoard_a397b46fadab8f530a8cf4d914c561366}\label{classCoolBoard_a397b46fadab8f530a8cf4d914c561366}} 
\index{Cool\+Board@{Cool\+Board}!init\+Read\+I2C@{init\+Read\+I2C}}
\index{init\+Read\+I2C@{init\+Read\+I2C}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{init\+Read\+I2\+C()}{initReadI2C()}}
{\footnotesize\ttfamily void Cool\+Board\+::init\+Read\+I2C (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoard_a397b46fadab8f530a8cf4d914c561366}{Cool\+Board\+::init\+Read\+I2\+C()}\+: This method is provided to enable the I2C Interface. 

Definition at line 1057 of file Cool\+Board.\+cpp.



References En\+I2C.



Referenced by begin(), and read\+Sensors().


\begin{DoxyCode}
1058 \{
1059 
1060 \textcolor{preprocessor}{#if DEBUG == 1}
1061 
1062     Serial.println( F(\textcolor{stringliteral}{"Entering CoolBoard.initReadI2C()"}) );
1063     Serial.println();
1064 
1065 \textcolor{preprocessor}{#endif}
1066  
1067     digitalWrite(\hyperlink{classCoolBoard_af1fe1376fc66f93dee80b327ca695377}{EnI2C},HIGH);\textcolor{comment}{//HIGH= I2C Enable}
1068 
1069 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoard_a397b46fadab8f530a8cf4d914c561366_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolBoard_ad7442cf4b62c7b0d5bd62a0f75ffc065}\label{classCoolBoard_ad7442cf4b62c7b0d5bd62a0f75ffc065}} 
\index{Cool\+Board@{Cool\+Board}!is\+Connected@{is\+Connected}}
\index{is\+Connected@{is\+Connected}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{is\+Connected()}{isConnected()}}
{\footnotesize\ttfamily int Cool\+Board\+::is\+Connected (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoard_ad7442cf4b62c7b0d5bd62a0f75ffc065}{Cool\+Board\+::is\+Connected()}

This method is provided to check if the card is connected to Wifi and M\+Q\+TT

\begin{DoxyReturn}{Returns}
0 \+: connected -\/1\+: Wifi Not Connected -\/2\+: M\+Q\+TT Not Connected 
\end{DoxyReturn}


Definition at line 139 of file Cool\+Board.\+cpp.



References mqtt, Cool\+M\+Q\+T\+T\+::state(), Cool\+Wifi\+::state(), and wifi\+Manager.


\begin{DoxyCode}
140 \{
141 
142 \textcolor{preprocessor}{#if DEBUG == 1  }
143 
144     Serial.println( F(\textcolor{stringliteral}{"Entering CoolBoard.isConnected "}) );
145     Serial.println();
146 
147 \textcolor{preprocessor}{#endif}
148     \textcolor{keywordflow}{if} (\hyperlink{classCoolBoard_acd88e6003606b47479ebba81e4aceeca}{wifiManager}.\hyperlink{classCoolWifi_a1c7b4d82a4098d346e7593dce92039fa}{state}() != WL\_CONNECTED)
149     \{
150 
151 \textcolor{preprocessor}{    #if DEBUG == 1}
152     
153         Serial.println(F(\textcolor{stringliteral}{"Wifi Not Connected"}));
154 
155         Serial.println(F(\textcolor{stringliteral}{"Wifi State is "}));
156         Serial.println(\hyperlink{classCoolBoard_acd88e6003606b47479ebba81e4aceeca}{wifiManager}.\hyperlink{classCoolWifi_a1c7b4d82a4098d346e7593dce92039fa}{state}());
157         
158 \textcolor{preprocessor}{    #endif}
159         \textcolor{keywordflow}{return}(-1);
160     \}
161     
162     \textcolor{keywordflow}{if}(\hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_a5d003307eff78efbd585e42b43b72b6d}{state}() != 0)
163     \{
164     
165 \textcolor{preprocessor}{    #if DEBUG==1}
166         
167         Serial.println( F(\textcolor{stringliteral}{"MQTT not Connected"}));
168 
169         Serial.println( F(\textcolor{stringliteral}{"mqtt state is :"}) );
170         Serial.println(\hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_a5d003307eff78efbd585e42b43b72b6d}{state}());  
171     
172 \textcolor{preprocessor}{    #endif}
173 
174     \}
175     
176     \textcolor{keywordflow}{return}(0);
177 
178 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=331pt]{classCoolBoard_ad7442cf4b62c7b0d5bd62a0f75ffc065_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolBoard_ae6b5e1274d760462290192acea4adca8}\label{classCoolBoard_ae6b5e1274d760462290192acea4adca8}} 
\index{Cool\+Board@{Cool\+Board}!off\+Line\+Mode@{off\+Line\+Mode}}
\index{off\+Line\+Mode@{off\+Line\+Mode}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{off\+Line\+Mode()}{offLineMode()}}
{\footnotesize\ttfamily void Cool\+Board\+::off\+Line\+Mode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Cool\+Board\+::offline\+Mode()\+: This method is provided to manage the off\+Line mode\+: -\/read sensors -\/do actions -\/save data in the file system -\/if there is Wi\+Fi but no Internet \+: make data available over AP -\/if there is no connection \+: retry to connect 

Definition at line 482 of file Cool\+Board.\+cpp.



References Cool\+Board\+Led\+::blink(), connect(), Cool\+Wifi\+::connect\+A\+P(), cool\+Board\+Led, data, Jetpack\+::do\+Action(), Cool\+Board\+Led\+::fade(), Cool\+Board\+Led\+::fade\+In(), Cool\+Board\+Led\+::fade\+Out(), file\+System, jet\+Pack, jetpack\+Active, mqtt, read\+Sensors(), Cool\+File\+System\+::save\+Sensor\+Data(), Cool\+Wifi\+::state(), Cool\+M\+Q\+T\+T\+::state(), user\+Active, user\+Data(), and wifi\+Manager.


\begin{DoxyCode}
483 \{
484     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_af1cacbaa88db8bcf6042c1083ba41155}{fade}(51,100,50,0.5);\textcolor{comment}{//dark shade of green  }
485 \textcolor{preprocessor}{#if DEBUG == 1  }
486     
487     Serial.println( F(\textcolor{stringliteral}{"Entering off line mode "}) ); 
488     
489 \textcolor{preprocessor}{#endif}
490 
491     \textcolor{comment}{//read user data if user is active}
492     \textcolor{keywordflow}{if}(\hyperlink{classCoolBoard_a6395459131d6889a3005f79c7a35e964}{userActive})
493     \{
494 
495         \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_ab778f5e7bed0ab74e3906d82110493c3}{fadeIn}(245,237,27,0.5);\textcolor{comment}{//shade of yellow}
496 
497 \textcolor{preprocessor}{    #if DEBUG == 1}
498         
499         Serial.println( F(\textcolor{stringliteral}{"User is Active"}) );
500         Serial.println( F(\textcolor{stringliteral}{"Collecting User's data ( mac,username,timeStamp )"}) );
501         Serial.println();
502 
503 \textcolor{preprocessor}{    #endif}
504 
505         \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a96e1ea13003eee34c9dbcef340404426}{blink}(245,237,27,0.5);\textcolor{comment}{//shade of yellow   }
506 
507         \textcolor{comment}{//reading user data}
508         \hyperlink{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}{data}=this->\hyperlink{classCoolBoard_ae7358fb6e623cfc81b775f5f1734909b}{userData}();\textcolor{comment}{//\{"":"","":"","",""\}}
509 
510         \textcolor{comment}{//formatting json }
511         \hyperlink{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}{data}.setCharAt( \hyperlink{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}{data}.lastIndexOf(\textcolor{charliteral}{'\}'}) , \textcolor{charliteral}{','});\textcolor{comment}{//\{"":"","":"","","",}
512         
513                 
514         \textcolor{comment}{//read sensors data}
515 \textcolor{preprocessor}{    #if DEBUG == 1}
516 
517         Serial.println( F(\textcolor{stringliteral}{"Collecting sensors data "}) );
518         Serial.println();
519 
520 \textcolor{preprocessor}{    #endif}
521 
522         \hyperlink{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}{data}+=this->\hyperlink{classCoolBoard_ad03abdce2e65f520bbf2cff0f2d083cf}{readSensors}();\textcolor{comment}{//\{"":"","":"","","",\{.......\}}
523 
524         
525 
526         \textcolor{comment}{//formatting json correctly}
527         \hyperlink{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}{data}.remove(\hyperlink{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}{data}.lastIndexOf(\textcolor{charliteral}{'\{'}), 1);\textcolor{comment}{//\{"":"","":"","","",.......\}}
528 
529         \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a93d545679237e8cc858324367149775c}{fadeOut}(245,237,27,0.5);\textcolor{comment}{//shade of yellow}
530                 
531     \}   
532     \textcolor{keywordflow}{else}
533     \{
534         \textcolor{comment}{//read sensors data}
535 \textcolor{preprocessor}{    #if DEBUG == 1}
536 
537         Serial.println( F(\textcolor{stringliteral}{"Collecting sensors data "}) );
538         Serial.println();
539 
540 \textcolor{preprocessor}{    #endif}
541 
542         \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_af1cacbaa88db8bcf6042c1083ba41155}{fade}(190,100,150,0.5);\textcolor{comment}{//shade of violet        }
543 
544         \hyperlink{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}{data}=this->\hyperlink{classCoolBoard_ad03abdce2e65f520bbf2cff0f2d083cf}{readSensors}();\textcolor{comment}{//\{..,..,..\}}
545     \}
546 
547     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_af1cacbaa88db8bcf6042c1083ba41155}{fade}(51,100,50,0.5);\textcolor{comment}{//dark shade of green  }
548 
549     \textcolor{comment}{//do action}
550     \textcolor{keywordflow}{if} (\hyperlink{classCoolBoard_a9be03a913d26e558328935ca3b59a75e}{jetpackActive})
551     \{
552 
553 \textcolor{preprocessor}{    #if DEBUG == 1}
554 
555         Serial.println( F(\textcolor{stringliteral}{"jetpack is Active "}) );
556         Serial.println( F(\textcolor{stringliteral}{"jetpack doing action "}) );
557         Serial.println();
558     
559 \textcolor{preprocessor}{    #endif}
560         \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_af1cacbaa88db8bcf6042c1083ba41155}{fade}(100,100,150,0.5);\textcolor{comment}{//dark shade of blue }
561     
562         \hyperlink{classCoolBoard_a30b1357881b01ccbec676856a91e48e9}{jetPack}.\hyperlink{classJetpack_a9e703197093094b963f9ad57817495b8}{doAction}( \hyperlink{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}{data}.c\_str() );
563     \}
564     
565     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_af1cacbaa88db8bcf6042c1083ba41155}{fade}(51,100,50,0.5);\textcolor{comment}{//dark shade of green  }
566     
567     \textcolor{comment}{//saving data in the file system}
568     
569     \hyperlink{classCoolBoard_a42c2586fbb13ff7f06538e9284e8538d}{fileSystem}.\hyperlink{classCoolFileSystem_afa3a4feae94871d4d3b6bebb701c2e67}{saveSensorData}( \hyperlink{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}{data}.c\_str() );
570 
571     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a93d545679237e8cc858324367149775c}{fadeOut}(51,100,50,0.5);\textcolor{comment}{//dark shade of green}
572 
573     \textcolor{comment}{//case we have wifi but no internet}
574     \textcolor{keywordflow}{if}( (\hyperlink{classCoolBoard_acd88e6003606b47479ebba81e4aceeca}{wifiManager}.\hyperlink{classCoolWifi_a1c7b4d82a4098d346e7593dce92039fa}{state}() == WL\_CONNECTED) && ( \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.
      \hyperlink{classCoolMQTT_a5d003307eff78efbd585e42b43b72b6d}{state}()!=0 ) )
575     \{
576     
577 \textcolor{preprocessor}{    #if DEBUG == 1}
578         
579         Serial.println(F(\textcolor{stringliteral}{"there is Wifi but no Internet"}));
580         Serial.println(F(\textcolor{stringliteral}{"lunching AP to check saved files"}));
581         Serial.println(F(\textcolor{stringliteral}{"and Add new WiFi if needed"}));
582     
583 \textcolor{preprocessor}{    #endif}
584         
585         \hyperlink{classCoolBoard_acd88e6003606b47479ebba81e4aceeca}{wifiManager}.\hyperlink{classCoolWifi_a7c857f27161782f5ef1d62d552aff971}{connectAP}();
586         
587     \}
588     
589     \textcolor{comment}{//case we have no connection at all}
590     \textcolor{keywordflow}{if}( \hyperlink{classCoolBoard_acd88e6003606b47479ebba81e4aceeca}{wifiManager}.\hyperlink{classCoolWifi_a1c7b4d82a4098d346e7593dce92039fa}{state}() != WL\_CONNECTED )
591     \{
592     
593 \textcolor{preprocessor}{    #if DEBUG == 1}
594         
595         Serial.println(F(\textcolor{stringliteral}{"there is No Wifi "}));
596         Serial.println(F(\textcolor{stringliteral}{"retrying to connect"}));
597     
598 \textcolor{preprocessor}{    #endif}
599         
600         this->\hyperlink{classCoolBoard_a519de78b807f8ec6463ff484eb925918}{connect}();\textcolor{comment}{//nomad case : just run wifiMulti}
601                 \textcolor{comment}{//normal case : run wifiMulti+AP}
602         
603     \}   
604 
605 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoard_ae6b5e1274d760462290192acea4adca8_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolBoard_aa0bbc4bc605e35618d18e68795c61363}\label{classCoolBoard_aa0bbc4bc605e35618d18e68795c61363}} 
\index{Cool\+Board@{Cool\+Board}!on\+Line\+Mode@{on\+Line\+Mode}}
\index{on\+Line\+Mode@{on\+Line\+Mode}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{on\+Line\+Mode()}{onLineMode()}}
{\footnotesize\ttfamily void Cool\+Board\+::on\+Line\+Mode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoard_aa0bbc4bc605e35618d18e68795c61363}{Cool\+Board\+::on\+Line\+Mode()}\+: This method is provided to manage the online mode\+: -\/update clock -\/read sensor -\/do actions -\/publish data -\/read answer -\/update config 

Definition at line 256 of file Cool\+Board.\+cpp.



References answer, Cool\+Board\+Led\+::blink(), cool\+Board\+Led, data, Jetpack\+::do\+Action(), Cool\+Board\+Led\+::fade(), Cool\+Board\+Led\+::fade\+In(), Cool\+Board\+Led\+::fade\+Out(), file\+System, get\+Log\+Interval(), Cool\+File\+System\+::get\+Sensor\+Saved\+Data(), Cool\+File\+System\+::is\+Data\+Saved(), jet\+Pack, jetpack\+Active, mqtt, Cool\+M\+Q\+T\+T\+::mqtt\+Loop(), Cool\+M\+Q\+T\+T\+::publish(), Cool\+M\+Q\+T\+T\+::read(), read\+Sensors(), rtc, sleep(), sleep\+Active, Cool\+Board\+Led\+::strobe(), Cool\+Time\+::update(), update(), user\+Active, and user\+Data().


\begin{DoxyCode}
257 \{
258 
259     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_ab778f5e7bed0ab74e3906d82110493c3}{fadeIn}(128,255,50,0.5);\textcolor{comment}{//shade of green}
260 
261 \textcolor{preprocessor}{#if DEBUG == 1}
262 
263     Serial.println( F(\textcolor{stringliteral}{"Entering CoolBoard.onLineMode() "}) );
264     Serial.println();
265 
266 \textcolor{preprocessor}{#endif}
267 
268     \hyperlink{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}{data}=\textcolor{stringliteral}{""};
269     \hyperlink{classCoolBoard_a7b835fafd449e5282f7f91d787a2dc15}{answer}=\textcolor{stringliteral}{""};
270 
271     \textcolor{comment}{//send saved data if any}
272     \textcolor{keywordflow}{if}(\hyperlink{classCoolBoard_a42c2586fbb13ff7f06538e9284e8538d}{fileSystem}.\hyperlink{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}{isDataSaved}())
273     \{
274 
275         \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_ab778f5e7bed0ab74e3906d82110493c3}{fadeIn}(128,128,255,0.5);\textcolor{comment}{//shade of blue}
276 
277 \textcolor{preprocessor}{    #if DEBUG == 1}
278 
279         Serial.println( F(\textcolor{stringliteral}{"There is data saved on the File System"}) );
280         Serial.println( F(\textcolor{stringliteral}{"Sending saved data over MQTT "}) );
281         Serial.println();
282     
283 \textcolor{preprocessor}{    #endif  }
284         \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_ad5f0de4c628cbfbf49896042831c64ad}{strobe}(128,128,255,0.5);\textcolor{comment}{//shade of blue }
285 
286         \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_ace977b3e90ab14b1199fe5c4fb0a13ec}{publish}(\textcolor{stringliteral}{"sending saved data"});
287         \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_aa5eaae967b562b62cbcf2b8d81f6e5d5}{mqttLoop}();
288 
289 
290         
291         \textcolor{keywordtype}{int} size=0;
292         std::unique\_ptr<String[]> savedData(std::move(\hyperlink{classCoolBoard_a42c2586fbb13ff7f06538e9284e8538d}{fileSystem}.
      \hyperlink{classCoolFileSystem_a3223ffff4266a6300988fab956d6b4b2}{getSensorSavedData}(size)));\textcolor{comment}{//\{..,..,..\}}
293 
294         \textcolor{keywordtype}{int} i=0;
295         \textcolor{comment}{//loop through the array}
296         \textcolor{keywordflow}{while}(i<size)
297         \{
298             \textcolor{comment}{//formatting data:}
299         
300             String jsonData = \textcolor{stringliteral}{"\{\(\backslash\)"state\(\backslash\)":\{\(\backslash\)"reported\(\backslash\)":"};
301             jsonData += savedData[i]; \textcolor{comment}{// \{"state":\{"reported":\{..,..,..,..,..,..,..,..\}}
302             jsonData += \textcolor{stringliteral}{" \} \}"}; \textcolor{comment}{// \{"state":\{"reported":\{..,..,..,..,..,..,..,..\}  \} \}}
303 
304 \textcolor{preprocessor}{        #if DEBUG == 1 }
305             Serial.println(F(\textcolor{stringliteral}{"Size is : "}));
306             Serial.println(size);
307             Serial.print(F(\textcolor{stringliteral}{"sending line N°"}));
308             Serial.println(i);
309             Serial.println(jsonData);
310             Serial.println();
311 
312 \textcolor{preprocessor}{        #endif}
313 
314             \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_ad5f0de4c628cbfbf49896042831c64ad}{strobe}(128,128,255,0.5);\textcolor{comment}{//shade of blue}
315         
316             \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_ace977b3e90ab14b1199fe5c4fb0a13ec}{publish}( jsonData.c\_str() );
317             \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_aa5eaae967b562b62cbcf2b8d81f6e5d5}{mqttLoop}();
318         
319             \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a93d545679237e8cc858324367149775c}{fadeOut}(128,128,255,0.5);\textcolor{comment}{//shade of blue}
320             
321             i++;
322             yield();
323         \}       
324 
325 
326 \textcolor{preprocessor}{    #if DEBUG == 1}
327 
328         Serial.println( F(\textcolor{stringliteral}{"Saved data sent "}) );
329         Serial.println();
330     
331 \textcolor{preprocessor}{    #endif}
332 
333     \}
334 
335     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a96e1ea13003eee34c9dbcef340404426}{blink}(128,255,50,0.5);\textcolor{comment}{//shade of green}
336 
337     \textcolor{comment}{//clock update}
338     \hyperlink{classCoolBoard_a50d2a6716879d64a85f3c6b44ad63275}{rtc}.\hyperlink{classCoolTime_aae601f795452cfa48d9fb337aed483a8}{update}();
339 
340     \textcolor{comment}{//read user data if user is active}
341     \textcolor{keywordflow}{if}(\hyperlink{classCoolBoard_a6395459131d6889a3005f79c7a35e964}{userActive})
342     \{
343         \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_ab778f5e7bed0ab74e3906d82110493c3}{fadeIn}(245,237,27,0.5);\textcolor{comment}{//shade of yellow}
344     
345 \textcolor{preprocessor}{    #if DEBUG == 1}
346 
347         Serial.println( F(\textcolor{stringliteral}{"User is Active"}) );
348         Serial.println( F(\textcolor{stringliteral}{"Collecting User's data ( mac,username,timeStamp )"}) );
349         Serial.println();
350     
351 \textcolor{preprocessor}{    #endif  }
352         \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a96e1ea13003eee34c9dbcef340404426}{blink}(245,237,27,0.5);\textcolor{comment}{//shade of yellow   }
353 
354         \textcolor{comment}{//reading user data}
355         \hyperlink{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}{data}=this->\hyperlink{classCoolBoard_ae7358fb6e623cfc81b775f5f1734909b}{userData}();\textcolor{comment}{//\{"":"","":"","",""\}}
356 
357         \textcolor{comment}{//formatting json }
358         \hyperlink{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}{data}.setCharAt( \hyperlink{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}{data}.lastIndexOf(\textcolor{charliteral}{'\}'}) , \textcolor{charliteral}{','});\textcolor{comment}{//\{"":"","":"","","",}
359                 
360         \textcolor{comment}{//read sensors data}
361 \textcolor{preprocessor}{    #if DEBUG == 1}
362 
363         Serial.println( F(\textcolor{stringliteral}{"Collecting sensors data "}) );
364         Serial.println();
365     
366 \textcolor{preprocessor}{    #endif}
367 
368         \hyperlink{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}{data}+=this->\hyperlink{classCoolBoard_ad03abdce2e65f520bbf2cff0f2d083cf}{readSensors}();\textcolor{comment}{//\{"":"","":"","","",\{.......\}     }
369 
370         \textcolor{comment}{//formatting json correctly}
371         \hyperlink{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}{data}.remove(\hyperlink{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}{data}.lastIndexOf(\textcolor{charliteral}{'\{'}), 1);\textcolor{comment}{//\{"":"","":"","","",.......\}}
372         
373         \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a93d545679237e8cc858324367149775c}{fadeOut}(245,237,27,0.5);\textcolor{comment}{//shade of yellow}
374                 
375     \}   
376     \textcolor{keywordflow}{else}
377     \{
378         \textcolor{comment}{//read sensors data}
379 \textcolor{preprocessor}{    #if DEBUG == 1}
380 
381         Serial.println( F(\textcolor{stringliteral}{"Collecting sensors data "}) );
382         Serial.println();
383     
384 \textcolor{preprocessor}{    #endif}
385         \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_af1cacbaa88db8bcf6042c1083ba41155}{fade}(190,100,150,0.5);\textcolor{comment}{//shade of violet        }
386         \hyperlink{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}{data}=this->\hyperlink{classCoolBoard_ad03abdce2e65f520bbf2cff0f2d083cf}{readSensors}();\textcolor{comment}{//\{..,..,..\}}
387     \}
388     
389     \textcolor{comment}{//do action}
390     \textcolor{keywordflow}{if} (\hyperlink{classCoolBoard_a9be03a913d26e558328935ca3b59a75e}{jetpackActive})
391     \{
392     
393 \textcolor{preprocessor}{    #if DEBUG ==1}
394 
395         Serial.println( F(\textcolor{stringliteral}{"jetpack is Active "}) );
396         Serial.println( F(\textcolor{stringliteral}{"jetpack doing action "}) );
397         Serial.println();
398 
399 \textcolor{preprocessor}{    #endif}
400         \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_af1cacbaa88db8bcf6042c1083ba41155}{fade}(100,100,150,0.5);\textcolor{comment}{//dark shade of blue     }
401         \hyperlink{classCoolBoard_a30b1357881b01ccbec676856a91e48e9}{jetPack}.\hyperlink{classJetpack_a9e703197093094b963f9ad57817495b8}{doAction}(\hyperlink{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}{data}.c\_str());
402     \}
403     
404     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_ab778f5e7bed0ab74e3906d82110493c3}{fadeIn}(128,255,50,0.5);\textcolor{comment}{//shade of green}
405 
406     \textcolor{comment}{//formatting data:}
407     String jsonData = \textcolor{stringliteral}{"\{\(\backslash\)"state\(\backslash\)":\{\(\backslash\)"reported\(\backslash\)":"};
408     jsonData += \hyperlink{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}{data}; \textcolor{comment}{// \{"state":\{"reported":\{..,..,..,..,..,..,..,..\}}
409     jsonData += \textcolor{stringliteral}{" \} \}"}; \textcolor{comment}{// \{"state":\{"reported":\{..,..,..,..,..,..,..,..\}  \} \}}
410     
411     \textcolor{comment}{//mqtt client loop to allow data handling}
412     \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_aa5eaae967b562b62cbcf2b8d81f6e5d5}{mqttLoop}();
413 
414     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a96e1ea13003eee34c9dbcef340404426}{blink}(128,255,50,0.5);\textcolor{comment}{//shade of green    }
415 
416     \textcolor{comment}{//read mqtt answer}
417     \hyperlink{classCoolBoard_a7b835fafd449e5282f7f91d787a2dc15}{answer} = \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_ae3c18f6ae9723746d32765f1c8f176ca}{read}();
418 
419 \textcolor{preprocessor}{#if DEBUG == 1 }
420 
421     Serial.println( F(\textcolor{stringliteral}{"checking if there's an MQTT message "})  );
422     Serial.println( F(\textcolor{stringliteral}{"answer is : "}) );    
423     Serial.println(\hyperlink{classCoolBoard_a7b835fafd449e5282f7f91d787a2dc15}{answer});   
424     Serial.println();
425 
426 \textcolor{preprocessor}{#endif  }
427 
428     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a93d545679237e8cc858324367149775c}{fadeOut}(128,255,50,0.5);\textcolor{comment}{//shade of green    }
429 
430     \textcolor{comment}{//check if the configuration needs update }
431     \textcolor{comment}{//and update it if needed }
432     \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a8612756d3f73198cdde857a66f0fe690}{update}(\hyperlink{classCoolBoard_a7b835fafd449e5282f7f91d787a2dc15}{answer}.c\_str());
433     
434     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_ab778f5e7bed0ab74e3906d82110493c3}{fadeIn}(128,255,50,0.5);\textcolor{comment}{//shade of green  }
435 
436     \textcolor{comment}{//publishing data   }
437     \textcolor{keywordflow}{if}( this->\hyperlink{classCoolBoard_a0a51b2287139f66c738101fb53139230}{sleepActive}==0 )   
438     \{   
439         \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_ad5f0de4c628cbfbf49896042831c64ad}{strobe}(255,0,230,0.5);\textcolor{comment}{//shade of pink}
440         
441         \textcolor{comment}{//logInterval in seconds}
442         \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_ace977b3e90ab14b1199fe5c4fb0a13ec}{publish}( jsonData.c\_str(), this->\hyperlink{classCoolBoard_a7508e029f2ee17bb747ffab599285e0d}{getLogInterval}() );
443         \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_aa5eaae967b562b62cbcf2b8d81f6e5d5}{mqttLoop}();
444     
445     \}
446     \textcolor{keywordflow}{else}
447     \{
448         \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_ad5f0de4c628cbfbf49896042831c64ad}{strobe}(230,255,0,0.5);\textcolor{comment}{//shade of yellow  }
449 
450         \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_ace977b3e90ab14b1199fe5c4fb0a13ec}{publish}(jsonData.c\_str());      
451         \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_aa5eaae967b562b62cbcf2b8d81f6e5d5}{mqttLoop}();
452         \hyperlink{classCoolBoard_a7b835fafd449e5282f7f91d787a2dc15}{answer} = \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_ae3c18f6ae9723746d32765f1c8f176ca}{read}();
453         \textcolor{keyword}{this} ->update(\hyperlink{classCoolBoard_a7b835fafd449e5282f7f91d787a2dc15}{answer}.c\_str());
454 
455         \textcolor{comment}{//logInterval in seconds}
456         this->\hyperlink{classCoolBoard_a069952cdcb2e7f68518aa429eceadb6e}{sleep}( this->\hyperlink{classCoolBoard_a7508e029f2ee17bb747ffab599285e0d}{getLogInterval}() ) ;
457     \}
458 
459     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a93d545679237e8cc858324367149775c}{fadeOut}(128,255,50,0.5);\textcolor{comment}{//shade of green        }
460 
461     \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_aa5eaae967b562b62cbcf2b8d81f6e5d5}{mqttLoop}();
462 
463     \textcolor{comment}{//read mqtt answer}
464     \hyperlink{classCoolBoard_a7b835fafd449e5282f7f91d787a2dc15}{answer} = \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_ae3c18f6ae9723746d32765f1c8f176ca}{read}();
465     \textcolor{keyword}{this} -> \hyperlink{classCoolBoard_a8612756d3f73198cdde857a66f0fe690}{update}(\hyperlink{classCoolBoard_a7b835fafd449e5282f7f91d787a2dc15}{answer}.c\_str()); 
466 
467     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a96e1ea13003eee34c9dbcef340404426}{blink}(128,255,50,0.5);\textcolor{comment}{//shade of green    }
468 
469 
470 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoard_aa0bbc4bc605e35618d18e68795c61363_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolBoard_a486507b8f0981d3cc671ed31c2145755}\label{classCoolBoard_a486507b8f0981d3cc671ed31c2145755}} 
\index{Cool\+Board@{Cool\+Board}!print\+Conf@{print\+Conf}}
\index{print\+Conf@{print\+Conf}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{print\+Conf()}{printConf()}}
{\footnotesize\ttfamily void Cool\+Board\+::print\+Conf (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoard_a486507b8f0981d3cc671ed31c2145755}{Cool\+Board\+::print\+Conf()}\+: This method is provided to print the configuration to the Serial Monitor. 

Definition at line 806 of file Cool\+Board.\+cpp.



References external\+Sensors\+Active, irene\+Active, jetpack\+Active, log\+Interval, server\+Time\+Out, sleep\+Active, and user\+Active.


\begin{DoxyCode}
807 \{
808 
809 \textcolor{preprocessor}{#if DEBUG == 1}
810     
811     Serial.println( F(\textcolor{stringliteral}{"Entering CoolBoard.printConf() "}) );
812     Serial.println();
813 
814 \textcolor{preprocessor}{#endif}
815 
816     Serial.println(\textcolor{stringliteral}{"Printing Cool Board Configuration "});
817     Serial.print(\textcolor{stringliteral}{"log interval      : "});
818     Serial.println(this->\hyperlink{classCoolBoard_a84bc94413b64973e4aba8c467c97006c}{logInterval});
819 
820     Serial.print(\textcolor{stringliteral}{"irene active      : "});
821     Serial.println(this->\hyperlink{classCoolBoard_a9c3f7ac625481ee2ae802a25d97a4ae0}{ireneActive});
822 
823     Serial.print(\textcolor{stringliteral}{"jetpack active        : "});
824     Serial.println(this->\hyperlink{classCoolBoard_a9be03a913d26e558328935ca3b59a75e}{jetpackActive});
825 
826     Serial.print(\textcolor{stringliteral}{"external sensors active   : "});
827     Serial.println(this->\hyperlink{classCoolBoard_a638b00b76aeb819ecfd4c10b8cdd7bb7}{externalSensorsActive});
828 
829     Serial.print(\textcolor{stringliteral}{"access point timeOut  : "});
830     Serial.println(this->\hyperlink{classCoolBoard_a7a8d8d3d316220cdd049cd63c1aa8fe6}{serverTimeOut});
831 
832     Serial.print(\textcolor{stringliteral}{"sleept active         : "});
833     Serial.println(this->\hyperlink{classCoolBoard_a0a51b2287139f66c738101fb53139230}{sleepActive});
834 
835     Serial.print(\textcolor{stringliteral}{"user active       : "});
836     Serial.println(this->\hyperlink{classCoolBoard_a6395459131d6889a3005f79c7a35e964}{userActive});
837 
838     Serial.println();
839 
840 
841 
842 
843 \}
\end{DoxyCode}
\mbox{\Hypertarget{classCoolBoard_ad03abdce2e65f520bbf2cff0f2d083cf}\label{classCoolBoard_ad03abdce2e65f520bbf2cff0f2d083cf}} 
\index{Cool\+Board@{Cool\+Board}!read\+Sensors@{read\+Sensors}}
\index{read\+Sensors@{read\+Sensors}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{read\+Sensors()}{readSensors()}}
{\footnotesize\ttfamily String Cool\+Board\+::read\+Sensors (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoard_ad03abdce2e65f520bbf2cff0f2d083cf}{Cool\+Board\+::read\+Sensors()}\+: This method is provided to read and format all the sensors data in a single json.

\begin{DoxyReturn}{Returns}
json string of all the sensors read. 
\end{DoxyReturn}


Definition at line 988 of file Cool\+Board.\+cpp.



References cool\+Board\+Led, cool\+Board\+Sensors, external\+Sensors, external\+Sensors\+Active, Cool\+Board\+Led\+::fade\+In(), Cool\+Board\+Led\+::fade\+Out(), Cool\+Time\+::get\+Time\+Date(), init\+Read\+I2\+C(), irene3000, irene\+Active, External\+Sensors\+::read(), Cool\+Board\+Sensors\+::read(), Irene3000\+::read(), rtc, and Cool\+Board\+Led\+::strobe().



Referenced by off\+Line\+Mode(), and on\+Line\+Mode().


\begin{DoxyCode}
989 \{
990 
991     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_ab778f5e7bed0ab74e3906d82110493c3}{fadeIn}(128,255,0,0.5);\textcolor{comment}{//light shade of green}
992                 
993 \textcolor{preprocessor}{#if DEBUG == 1}
994 
995     Serial.println( F(\textcolor{stringliteral}{"Entering CoolBoard.readSensors()"}) );
996     Serial.println();
997 
998 \textcolor{preprocessor}{#endif}
999     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_ad5f0de4c628cbfbf49896042831c64ad}{strobe}(128,255,0,0.5);\textcolor{comment}{//light shade of green}
1000 
1001     String sensorsData;
1002     
1003     this->\hyperlink{classCoolBoard_a397b46fadab8f530a8cf4d914c561366}{initReadI2C}();
1004 
1005     sensorsData = \hyperlink{classCoolBoard_af102be5288bd7f7a8e59b13f86e26a00}{coolBoardSensors}.\hyperlink{classCoolBoardSensors_a91badb2539d91fda8679f2a597874c48}{read}(); \textcolor{comment}{// \{..,..,..\}}
1006     
1007     \textcolor{keywordflow}{if} (\hyperlink{classCoolBoard_a638b00b76aeb819ecfd4c10b8cdd7bb7}{externalSensorsActive})
1008     \{
1009         sensorsData += \hyperlink{classCoolBoard_a09e26264839c65873eb56af476eff6b2}{externalSensors}.\hyperlink{classExternalSensors_a53177b81eca3be89508b5511ddcd00fc}{read}(); \textcolor{comment}{// \{..,..,..\}\{..,..\}}
1010 
1011         sensorsData.setCharAt(sensorsData.lastIndexOf(\textcolor{charliteral}{'\}'}), \textcolor{charliteral}{','}); \textcolor{comment}{// \{..,..,..\}\{..,..,}
1012         sensorsData.setCharAt(sensorsData.lastIndexOf(\textcolor{charliteral}{'\{'}), \textcolor{charliteral}{','}); \textcolor{comment}{// \{..,..,..\},..,..,}
1013         sensorsData.remove(sensorsData.lastIndexOf(\textcolor{charliteral}{'\}'}), 1); \textcolor{comment}{// \{..,..,..,..,..,}
1014         sensorsData.setCharAt(sensorsData.lastIndexOf(\textcolor{charliteral}{','}), \textcolor{charliteral}{'\}'}); \textcolor{comment}{// \{..,..,..,..,..\}}
1015 
1016     \}
1017     \textcolor{keywordflow}{if} (\hyperlink{classCoolBoard_a9c3f7ac625481ee2ae802a25d97a4ae0}{ireneActive})
1018     \{
1019         sensorsData += \hyperlink{classCoolBoard_ad103718ce316006c4695b8eb312eaf11}{irene3000}.\hyperlink{classIrene3000_a852a170feea994ea1df01c6b245b5d9a}{read}(); \textcolor{comment}{// \{..,..,..,..,..\}\{..,..,..\}}
1020 
1021         sensorsData.setCharAt(sensorsData.lastIndexOf(\textcolor{charliteral}{'\}'}), \textcolor{charliteral}{','}); \textcolor{comment}{// \{..,..,..,..,..\}\{..,..,..,}
1022         sensorsData.setCharAt(sensorsData.lastIndexOf(\textcolor{charliteral}{'\{'}), \textcolor{charliteral}{','}); \textcolor{comment}{// \{..,..,..,..,..\},..,..,..,}
1023         sensorsData.remove(sensorsData.lastIndexOf(\textcolor{charliteral}{'\}'}), 1); \textcolor{comment}{// \{..,..,..,..,..,..,..,..,}
1024         sensorsData.setCharAt(sensorsData.lastIndexOf(\textcolor{charliteral}{','}), \textcolor{charliteral}{'\}'}); \textcolor{comment}{// \{..,..,..,..,..,..,..,..\}      }
1025         
1026         
1027     \}
1028 
1029     \textcolor{comment}{//getting Hour:}
1030     tmElements\_t tm;
1031     tm=\hyperlink{classCoolBoard_a50d2a6716879d64a85f3c6b44ad63275}{rtc}.\hyperlink{classCoolTime_a7a7501c5ca77dd1248bea704c44f986c}{getTimeDate}();
1032     
1033     \textcolor{comment}{//adding Hour}
1034     sensorsData.remove(sensorsData.lastIndexOf(\textcolor{charliteral}{'\}'}), 1); \textcolor{comment}{// \{..,..,..,..,..,..,..,..,   }
1035     sensorsData+=\textcolor{stringliteral}{",\(\backslash\)"hour\(\backslash\)":"};  
1036     sensorsData+=tm.Hour;
1037     sensorsData+=\textcolor{stringliteral}{"\}"};
1038     
1039 \textcolor{preprocessor}{#if DEBUG == 1}
1040     Serial.println();
1041     Serial.println( F(\textcolor{stringliteral}{"sensors data is "}) );
1042     Serial.println(sensorsData);
1043     Serial.println();
1044 
1045 \textcolor{preprocessor}{#endif}
1046     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a93d545679237e8cc858324367149775c}{fadeOut}(128,255,0,0.5);\textcolor{comment}{//light shade of green}
1047 
1048     \textcolor{keywordflow}{return}(sensorsData);
1049 
1050 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoard_ad03abdce2e65f520bbf2cff0f2d083cf_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoard_ad03abdce2e65f520bbf2cff0f2d083cf_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolBoard_a069952cdcb2e7f68518aa429eceadb6e}\label{classCoolBoard_a069952cdcb2e7f68518aa429eceadb6e}} 
\index{Cool\+Board@{Cool\+Board}!sleep@{sleep}}
\index{sleep@{sleep}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{sleep()}{sleep()}}
{\footnotesize\ttfamily void Cool\+Board\+::sleep (\begin{DoxyParamCaption}\item[{unsigned long}]{interval }\end{DoxyParamCaption})}

Cool\+Board\+::sleep(int interval)\+: This method is provided to allow the board to enter deep\+Sleep mode for a period of time equal to interval in s 

Definition at line 1144 of file Cool\+Board.\+cpp.



Referenced by on\+Line\+Mode().


\begin{DoxyCode}
1145 \{
1146 
1147 \textcolor{preprocessor}{#if DEBUG == 1}
1148 
1149     Serial.println( F(\textcolor{stringliteral}{"Entering CoolBoard.sleep() "}) );
1150     Serial.print( F(\textcolor{stringliteral}{"going to sleep for "}) );
1151     Serial.print(interval);
1152     Serial.println(F(\textcolor{stringliteral}{"s"}) );
1153     Serial.println();
1154 
1155 \textcolor{preprocessor}{#endif}
1156     \textcolor{comment}{//interval is in seconds , interval*1000*1000 in µS}
1157     ESP.deepSleep ( ( interval * 1000 * 1000 ), WAKE\_RF\_DEFAULT) ;
1158 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=329pt]{classCoolBoard_a069952cdcb2e7f68518aa429eceadb6e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolBoard_a8c23a7683ae929ec89d326ae605a41aa}\label{classCoolBoard_a8c23a7683ae929ec89d326ae605a41aa}} 
\index{Cool\+Board@{Cool\+Board}!stop\+Read\+I2C@{stop\+Read\+I2C}}
\index{stop\+Read\+I2C@{stop\+Read\+I2C}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{stop\+Read\+I2\+C()}{stopReadI2C()}}
{\footnotesize\ttfamily void Cool\+Board\+::stop\+Read\+I2C (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoard_a8c23a7683ae929ec89d326ae605a41aa}{Cool\+Board\+::stop\+Read\+I2\+C()}\+: This method is provided to disable the I2C Interface. 

Definition at line 1076 of file Cool\+Board.\+cpp.



References En\+I2C.


\begin{DoxyCode}
1077 \{
1078 
1079 \textcolor{preprocessor}{#if DEBUG == 1}
1080 
1081     Serial.println( F(\textcolor{stringliteral}{"Entering CoolBoard.stopReadI2C()"}) );
1082     Serial.println();
1083 
1084 \textcolor{preprocessor}{#endif}
1085 
1086     digitalWrite(\hyperlink{classCoolBoard_af1fe1376fc66f93dee80b327ca695377}{EnI2C},LOW);\textcolor{comment}{//LOW= I2C Disable}
1087 
1088 \}
\end{DoxyCode}
\mbox{\Hypertarget{classCoolBoard_a8612756d3f73198cdde857a66f0fe690}\label{classCoolBoard_a8612756d3f73198cdde857a66f0fe690}} 
\index{Cool\+Board@{Cool\+Board}!update@{update}}
\index{update@{update}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily void Cool\+Board\+::update (\begin{DoxyParamCaption}\item[{const char $\ast$}]{answer }\end{DoxyParamCaption})}

Cool\+Board\+::update(mqtt answer)\+: This method is provided to handle the configuration update of the different parts 

Definition at line 850 of file Cool\+Board.\+cpp.



References cool\+Board\+Led, Cool\+Board\+Led\+::fade\+In(), Cool\+Board\+Led\+::fade\+Out(), file\+System, mqtt, Cool\+M\+Q\+T\+T\+::mqtt\+Loop(), Cool\+M\+Q\+T\+T\+::publish(), Cool\+Board\+Led\+::strobe(), and Cool\+File\+System\+::update\+Config\+Files().



Referenced by on\+Line\+Mode().


\begin{DoxyCode}
851 \{
852     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_ab778f5e7bed0ab74e3906d82110493c3}{fadeIn}(153,76,0,0.5);\textcolor{comment}{//shade of brown        }
853 
854 \textcolor{preprocessor}{#if DEBUG == 1}
855 
856     Serial.println( F(\textcolor{stringliteral}{"Entering CoolBoard.update() "}) );
857     Serial.println();
858     Serial.println( F(\textcolor{stringliteral}{"message is : "}) );
859     Serial.println(\hyperlink{classCoolBoard_a7b835fafd449e5282f7f91d787a2dc15}{answer});
860     Serial.println();
861 
862 \textcolor{preprocessor}{#endif}
863 
864     DynamicJsonBuffer jsonBuffer;
865     JsonObject & root = jsonBuffer.parseObject(\hyperlink{classCoolBoard_a7b835fafd449e5282f7f91d787a2dc15}{answer});
866     JsonObject & stateDesired = root[\textcolor{stringliteral}{"state"}];
867 
868 \textcolor{preprocessor}{#if DEBUG == 1}
869 
870     Serial.println( F(\textcolor{stringliteral}{"root json : "}) );
871     root.printTo(Serial);
872     Serial.println();
873 
874     Serial.println(F(\textcolor{stringliteral}{"stateDesired json : "}));
875     stateDesired.printTo(Serial);
876     Serial.println();
877     
878     Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size : "}));
879     Serial.println(jsonBuffer.size());
880 
881 \textcolor{preprocessor}{#endif}
882 
883     \textcolor{keywordflow}{if} (stateDesired.success())
884     \{
885     
886 \textcolor{preprocessor}{    #if DEBUG == 1}
887 
888         Serial.println( F(\textcolor{stringliteral}{"update message parsing : success"}) );
889         Serial.println();
890     
891 \textcolor{preprocessor}{    #endif}
892 
893             String answerDesired;
894         
895             stateDesired.printTo(answerDesired);
896             
897 \textcolor{preprocessor}{        #if DEBUG == 1      }
898         
899             Serial.println( F(\textcolor{stringliteral}{"update is ok "}) );
900             Serial.println( F(\textcolor{stringliteral}{"desired update is : "}) );            
901             Serial.println(answerDesired);
902             Serial.println(\textcolor{stringliteral}{"json size is : "});
903             Serial.println(jsonBuffer.size() ) ;                
904             Serial.println();
905 
906         
907 \textcolor{preprocessor}{        #endif}
908             \textcolor{comment}{//saving the new configuration}
909             \hyperlink{classCoolBoard_a42c2586fbb13ff7f06538e9284e8538d}{fileSystem}.\hyperlink{classCoolFileSystem_adfa8e2e80641ae6f0cceabd348a9b841}{updateConfigFiles}(answerDesired);
910 
911                 \textcolor{comment}{//answering the update msg:}
912             \textcolor{comment}{//reported = received configuration}
913             \textcolor{comment}{//desired=null}
914         
915             String updateAnswer;
916             String tempString;
917             
918             stateDesired.printTo(tempString);
919             updateAnswer=\textcolor{stringliteral}{"\{\(\backslash\)"state\(\backslash\)":\{\(\backslash\)"reported\(\backslash\)":"};
920             updateAnswer+=tempString;
921             updateAnswer+=\textcolor{stringliteral}{",\(\backslash\)"desired\(\backslash\)":null\}\}"};
922 
923 \textcolor{preprocessor}{        #if DEBUG == 1}
924 
925             Serial.println( F(\textcolor{stringliteral}{"preparing answer message "}) );
926             Serial.println();
927             Serial.println( F(\textcolor{stringliteral}{"updateAnswer : "}) );
928             Serial.println(updateAnswer);
929         
930 \textcolor{preprocessor}{        #endif  }
931 
932             \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_ace977b3e90ab14b1199fe5c4fb0a13ec}{publish}(updateAnswer.c\_str());
933             
934             \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_aa5eaae967b562b62cbcf2b8d81f6e5d5}{mqttLoop}();
935 
936             delay(10);
937             
938             \textcolor{comment}{//restart the esp to apply the config}
939             ESP.restart();
940     \}
941     \textcolor{keywordflow}{else}
942     \{
943     
944 \textcolor{preprocessor}{    #if DEBUG == 1}
945 
946         Serial.println( F(\textcolor{stringliteral}{"Failed to parse update message( OR no message received )"}) );
947         Serial.println();
948     
949 \textcolor{preprocessor}{    #endif}
950     
951     \}
952 
953     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_ad5f0de4c628cbfbf49896042831c64ad}{strobe}(153,76,0,0.5);\textcolor{comment}{//shade of brown}
954     \hyperlink{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}{coolBoardLed}.\hyperlink{classCoolBoardLed_a93d545679237e8cc858324367149775c}{fadeOut}(153,76,0,0.5);\textcolor{comment}{//shade of brown                              }
955 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoard_a8612756d3f73198cdde857a66f0fe690_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=335pt]{classCoolBoard_a8612756d3f73198cdde857a66f0fe690_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolBoard_ae7358fb6e623cfc81b775f5f1734909b}\label{classCoolBoard_ae7358fb6e623cfc81b775f5f1734909b}} 
\index{Cool\+Board@{Cool\+Board}!user\+Data@{user\+Data}}
\index{user\+Data@{user\+Data}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{user\+Data()}{userData()}}
{\footnotesize\ttfamily String Cool\+Board\+::user\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoard_ae7358fb6e623cfc81b775f5f1734909b}{Cool\+Board\+::user\+Data()}\+: This method is provided to return the user\textquotesingle{}s data.

\begin{DoxyReturn}{Returns}
json string of the user\textquotesingle{}s data 
\end{DoxyReturn}


Definition at line 1097 of file Cool\+Board.\+cpp.



References Cool\+Time\+::get\+E\+S\+Date(), Cool\+M\+Q\+T\+T\+::get\+User(), mqtt, and rtc.



Referenced by off\+Line\+Mode(), and on\+Line\+Mode().


\begin{DoxyCode}
1098 \{
1099 
1100 \textcolor{preprocessor}{#if DEBUG == 1}
1101 
1102     Serial.println( F(\textcolor{stringliteral}{"Entering CoolBoard.userData() "}) );
1103     Serial.println();
1104 
1105 \textcolor{preprocessor}{#endif}
1106 
1107     String tempMAC = WiFi.macAddress();
1108 
1109     tempMAC.replace(\textcolor{stringliteral}{":"}, \textcolor{stringliteral}{""});
1110 
1111     String userJson = \textcolor{stringliteral}{"\{\(\backslash\)"user\(\backslash\)":\(\backslash\)""};
1112 
1113     userJson += \hyperlink{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}{mqtt}.\hyperlink{classCoolMQTT_a373cc92fca7760d886f02d8a6e5b3f63}{getUser}();
1114 
1115     userJson += \textcolor{stringliteral}{"\(\backslash\)",\(\backslash\)"timestamp\(\backslash\)":\(\backslash\)""};
1116 
1117     userJson += \hyperlink{classCoolBoard_a50d2a6716879d64a85f3c6b44ad63275}{rtc}.\hyperlink{classCoolTime_ac4f32ee513c1328d984306645e8785a4}{getESDate}(); \textcolor{comment}{// "timestamp":"20yy-mm-ddThh:mm:ssZ"}
1118 
1119     userJson += \textcolor{stringliteral}{"\(\backslash\)",\(\backslash\)"mac\(\backslash\)":\(\backslash\)""};
1120 
1121     userJson += tempMAC;
1122 
1123     userJson += \textcolor{stringliteral}{"\(\backslash\)"\}"};
1124 
1125 \textcolor{preprocessor}{#if DEBUG == 1}
1126 
1127     Serial.println( F(\textcolor{stringliteral}{"userData is : "}) );
1128     Serial.println(userJson);
1129     Serial.println();
1130 
1131 \textcolor{preprocessor}{#endif  }
1132     
1133     \textcolor{keywordflow}{return}(userJson);
1134     
1135 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoard_ae7358fb6e623cfc81b775f5f1734909b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=346pt]{classCoolBoard_ae7358fb6e623cfc81b775f5f1734909b_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classCoolBoard_a7b835fafd449e5282f7f91d787a2dc15}\label{classCoolBoard_a7b835fafd449e5282f7f91d787a2dc15}} 
\index{Cool\+Board@{Cool\+Board}!answer@{answer}}
\index{answer@{answer}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{answer}{answer}}
{\footnotesize\ttfamily String Cool\+Board\+::answer =\char`\"{}\char`\"{}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 105 of file Cool\+Board.\+h.



Referenced by on\+Line\+Mode().

\mbox{\Hypertarget{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}\label{classCoolBoard_a1b1d3c684a5baa56b08486e192fd8e97}} 
\index{Cool\+Board@{Cool\+Board}!cool\+Board\+Led@{cool\+Board\+Led}}
\index{cool\+Board\+Led@{cool\+Board\+Led}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{cool\+Board\+Led}{coolBoardLed}}
{\footnotesize\ttfamily \hyperlink{classCoolBoardLed}{Cool\+Board\+Led} Cool\+Board\+::cool\+Board\+Led\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 75 of file Cool\+Board.\+h.



Referenced by begin(), config(), connect(), off\+Line\+Mode(), on\+Line\+Mode(), read\+Sensors(), and update().

\mbox{\Hypertarget{classCoolBoard_af102be5288bd7f7a8e59b13f86e26a00}\label{classCoolBoard_af102be5288bd7f7a8e59b13f86e26a00}} 
\index{Cool\+Board@{Cool\+Board}!cool\+Board\+Sensors@{cool\+Board\+Sensors}}
\index{cool\+Board\+Sensors@{cool\+Board\+Sensors}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{cool\+Board\+Sensors}{coolBoardSensors}}
{\footnotesize\ttfamily \hyperlink{classCoolBoardSensors}{Cool\+Board\+Sensors} Cool\+Board\+::cool\+Board\+Sensors\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 73 of file Cool\+Board.\+h.



Referenced by begin(), and read\+Sensors().

\mbox{\Hypertarget{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}\label{classCoolBoard_a427fb753dd8575bdf821c70a5c63d695}} 
\index{Cool\+Board@{Cool\+Board}!data@{data}}
\index{data@{data}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{data}{data}}
{\footnotesize\ttfamily String Cool\+Board\+::data =\char`\"{}\char`\"{}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 103 of file Cool\+Board.\+h.



Referenced by off\+Line\+Mode(), and on\+Line\+Mode().

\mbox{\Hypertarget{classCoolBoard_af1fe1376fc66f93dee80b327ca695377}\label{classCoolBoard_af1fe1376fc66f93dee80b327ca695377}} 
\index{Cool\+Board@{Cool\+Board}!En\+I2C@{En\+I2C}}
\index{En\+I2C@{En\+I2C}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{En\+I2C}{EnI2C}}
{\footnotesize\ttfamily const int Cool\+Board\+::\+En\+I2C = 5\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 107 of file Cool\+Board.\+h.



Referenced by Cool\+Board(), init\+Read\+I2\+C(), and stop\+Read\+I2\+C().

\mbox{\Hypertarget{classCoolBoard_a09e26264839c65873eb56af476eff6b2}\label{classCoolBoard_a09e26264839c65873eb56af476eff6b2}} 
\index{Cool\+Board@{Cool\+Board}!external\+Sensors@{external\+Sensors}}
\index{external\+Sensors@{external\+Sensors}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{external\+Sensors}{externalSensors}}
{\footnotesize\ttfamily \hyperlink{classExternalSensors}{External\+Sensors} Cool\+Board\+::external\+Sensors\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 87 of file Cool\+Board.\+h.



Referenced by begin(), and read\+Sensors().

\mbox{\Hypertarget{classCoolBoard_a638b00b76aeb819ecfd4c10b8cdd7bb7}\label{classCoolBoard_a638b00b76aeb819ecfd4c10b8cdd7bb7}} 
\index{Cool\+Board@{Cool\+Board}!external\+Sensors\+Active@{external\+Sensors\+Active}}
\index{external\+Sensors\+Active@{external\+Sensors\+Active}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{external\+Sensors\+Active}{externalSensorsActive}}
{\footnotesize\ttfamily bool Cool\+Board\+::external\+Sensors\+Active =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 95 of file Cool\+Board.\+h.



Referenced by begin(), config(), print\+Conf(), and read\+Sensors().

\mbox{\Hypertarget{classCoolBoard_a42c2586fbb13ff7f06538e9284e8538d}\label{classCoolBoard_a42c2586fbb13ff7f06538e9284e8538d}} 
\index{Cool\+Board@{Cool\+Board}!file\+System@{file\+System}}
\index{file\+System@{file\+System}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{file\+System}{fileSystem}}
{\footnotesize\ttfamily \hyperlink{classCoolFileSystem}{Cool\+File\+System} Cool\+Board\+::file\+System\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 71 of file Cool\+Board.\+h.



Referenced by config(), off\+Line\+Mode(), on\+Line\+Mode(), and update().

\mbox{\Hypertarget{classCoolBoard_ad103718ce316006c4695b8eb312eaf11}\label{classCoolBoard_ad103718ce316006c4695b8eb312eaf11}} 
\index{Cool\+Board@{Cool\+Board}!irene3000@{irene3000}}
\index{irene3000@{irene3000}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{irene3000}{irene3000}}
{\footnotesize\ttfamily \hyperlink{classIrene3000}{Irene3000} Cool\+Board\+::irene3000\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 85 of file Cool\+Board.\+h.



Referenced by begin(), and read\+Sensors().

\mbox{\Hypertarget{classCoolBoard_a9c3f7ac625481ee2ae802a25d97a4ae0}\label{classCoolBoard_a9c3f7ac625481ee2ae802a25d97a4ae0}} 
\index{Cool\+Board@{Cool\+Board}!irene\+Active@{irene\+Active}}
\index{irene\+Active@{irene\+Active}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{irene\+Active}{ireneActive}}
{\footnotesize\ttfamily bool Cool\+Board\+::irene\+Active =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 91 of file Cool\+Board.\+h.



Referenced by begin(), config(), print\+Conf(), and read\+Sensors().

\mbox{\Hypertarget{classCoolBoard_a30b1357881b01ccbec676856a91e48e9}\label{classCoolBoard_a30b1357881b01ccbec676856a91e48e9}} 
\index{Cool\+Board@{Cool\+Board}!jet\+Pack@{jet\+Pack}}
\index{jet\+Pack@{jet\+Pack}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{jet\+Pack}{jetPack}}
{\footnotesize\ttfamily \hyperlink{classJetpack}{Jetpack} Cool\+Board\+::jet\+Pack\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 83 of file Cool\+Board.\+h.



Referenced by begin(), off\+Line\+Mode(), and on\+Line\+Mode().

\mbox{\Hypertarget{classCoolBoard_a9be03a913d26e558328935ca3b59a75e}\label{classCoolBoard_a9be03a913d26e558328935ca3b59a75e}} 
\index{Cool\+Board@{Cool\+Board}!jetpack\+Active@{jetpack\+Active}}
\index{jetpack\+Active@{jetpack\+Active}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{jetpack\+Active}{jetpackActive}}
{\footnotesize\ttfamily bool Cool\+Board\+::jetpack\+Active =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 93 of file Cool\+Board.\+h.



Referenced by begin(), config(), off\+Line\+Mode(), on\+Line\+Mode(), and print\+Conf().

\mbox{\Hypertarget{classCoolBoard_a84bc94413b64973e4aba8c467c97006c}\label{classCoolBoard_a84bc94413b64973e4aba8c467c97006c}} 
\index{Cool\+Board@{Cool\+Board}!log\+Interval@{log\+Interval}}
\index{log\+Interval@{log\+Interval}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{log\+Interval}{logInterval}}
{\footnotesize\ttfamily unsigned long Cool\+Board\+::log\+Interval =1\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 99 of file Cool\+Board.\+h.



Referenced by config(), get\+Log\+Interval(), and print\+Conf().

\mbox{\Hypertarget{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}\label{classCoolBoard_a2399f44d7c23c1149a335cb3b46d90f1}} 
\index{Cool\+Board@{Cool\+Board}!mqtt@{mqtt}}
\index{mqtt@{mqtt}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{mqtt}{mqtt}}
{\footnotesize\ttfamily \hyperlink{classCoolMQTT}{Cool\+M\+Q\+TT} Cool\+Board\+::mqtt\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 81 of file Cool\+Board.\+h.



Referenced by begin(), connect(), is\+Connected(), off\+Line\+Mode(), on\+Line\+Mode(), update(), and user\+Data().

\mbox{\Hypertarget{classCoolBoard_a50d2a6716879d64a85f3c6b44ad63275}\label{classCoolBoard_a50d2a6716879d64a85f3c6b44ad63275}} 
\index{Cool\+Board@{Cool\+Board}!rtc@{rtc}}
\index{rtc@{rtc}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{rtc}{rtc}}
{\footnotesize\ttfamily \hyperlink{classCoolTime}{Cool\+Time} Cool\+Board\+::rtc\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 77 of file Cool\+Board.\+h.



Referenced by begin(), on\+Line\+Mode(), read\+Sensors(), and user\+Data().

\mbox{\Hypertarget{classCoolBoard_a7a8d8d3d316220cdd049cd63c1aa8fe6}\label{classCoolBoard_a7a8d8d3d316220cdd049cd63c1aa8fe6}} 
\index{Cool\+Board@{Cool\+Board}!server\+Time\+Out@{server\+Time\+Out}}
\index{server\+Time\+Out@{server\+Time\+Out}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{server\+Time\+Out}{serverTimeOut}}
{\footnotesize\ttfamily int Cool\+Board\+::server\+Time\+Out =180\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 101 of file Cool\+Board.\+h.



Referenced by config(), and print\+Conf().

\mbox{\Hypertarget{classCoolBoard_a0a51b2287139f66c738101fb53139230}\label{classCoolBoard_a0a51b2287139f66c738101fb53139230}} 
\index{Cool\+Board@{Cool\+Board}!sleep\+Active@{sleep\+Active}}
\index{sleep\+Active@{sleep\+Active}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{sleep\+Active}{sleepActive}}
{\footnotesize\ttfamily bool Cool\+Board\+::sleep\+Active =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 97 of file Cool\+Board.\+h.



Referenced by config(), on\+Line\+Mode(), and print\+Conf().

\mbox{\Hypertarget{classCoolBoard_a6395459131d6889a3005f79c7a35e964}\label{classCoolBoard_a6395459131d6889a3005f79c7a35e964}} 
\index{Cool\+Board@{Cool\+Board}!user\+Active@{user\+Active}}
\index{user\+Active@{user\+Active}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{user\+Active}{userActive}}
{\footnotesize\ttfamily bool Cool\+Board\+::user\+Active =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 89 of file Cool\+Board.\+h.



Referenced by config(), off\+Line\+Mode(), on\+Line\+Mode(), and print\+Conf().

\mbox{\Hypertarget{classCoolBoard_acd88e6003606b47479ebba81e4aceeca}\label{classCoolBoard_acd88e6003606b47479ebba81e4aceeca}} 
\index{Cool\+Board@{Cool\+Board}!wifi\+Manager@{wifi\+Manager}}
\index{wifi\+Manager@{wifi\+Manager}!Cool\+Board@{Cool\+Board}}
\subsubsection{\texorpdfstring{wifi\+Manager}{wifiManager}}
{\footnotesize\ttfamily \hyperlink{classCoolWifi}{Cool\+Wifi} Cool\+Board\+::wifi\+Manager\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 79 of file Cool\+Board.\+h.



Referenced by begin(), connect(), is\+Connected(), and off\+Line\+Mode().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{CoolBoard_8h}{Cool\+Board.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{CoolBoard_8cpp}{Cool\+Board.\+cpp}\end{DoxyCompactItemize}
