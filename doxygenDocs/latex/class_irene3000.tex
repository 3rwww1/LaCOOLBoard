\hypertarget{class_irene3000}{}\section{Irene3000 Class Reference}
\label{class_irene3000}\index{Irene3000@{Irene3000}}


This class is provided to manage the \hyperlink{class_irene3000}{Irene3000} Ph/\+Temperature Shield.  




{\ttfamily \#include $<$Irene3000.\+h$>$}



Collaboration diagram for Irene3000\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=193pt]{class_irene3000__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_irene3000_ad5891806c500ae1007afe52b9e304c2b}{begin} ()
\item 
bool \hyperlink{class_irene3000_afed5c35e4b23963c157847ef27c11e9c}{config} ()
\item 
void \hyperlink{class_irene3000_a7bc2414100b5e19eacc6630fa34b2654}{print\+Conf} ()
\item 
String \hyperlink{class_irene3000_a852a170feea994ea1df01c6b245b5d9a}{read} ()
\item 
int \hyperlink{class_irene3000_ae0e0a5b773c3625b44c1d113c76a1540}{read\+Button} (ads\+Gain\+\_\+t gain)
\item 
void \hyperlink{class_irene3000_aff7c5da186b388e7272e63ff88a20c34}{set\+Gain} (ads\+Gain\+\_\+t gain)
\item 
int \hyperlink{class_irene3000_ae73bd2ed14a199a7e83f4d6458476a7c}{read\+A\+D\+S\+Channel2} (ads\+Gain\+\_\+t gain)
\item 
float \hyperlink{class_irene3000_abf3db725fabb0634ec889b32068a5eec}{read\+Ph} (ads\+Gain\+\_\+t gain)
\item 
double \hyperlink{class_irene3000_a94ad40f281d83ad1be20bf1edd6fe802}{read\+Temp} (ads\+Gain\+\_\+t gain)
\item 
void \hyperlink{class_irene3000_a0fba280e8b7c881307efa31281aa691d}{reset\+Params} (void)
\item 
void \hyperlink{class_irene3000_a2e810ddfa8b95eaa2446a408761c6bdc}{calibratep\+H7} (ads\+Gain\+\_\+t gain)
\item 
void \hyperlink{class_irene3000_a9772eeea2305fad6236a82e33e93892e}{calibratep\+H4} (ads\+Gain\+\_\+t gain)
\item 
void \hyperlink{class_irene3000_a81f6a79e546679692053f7ac1af49613}{calcp\+H\+Slope} ()
\item 
ads\+Gain\+\_\+t \hyperlink{class_irene3000_abcad62d1201a59f8dd3ba87048002728}{gain\+Convert} (uint16\+\_\+t temp\+Gain)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class is provided to manage the \hyperlink{class_irene3000}{Irene3000} Ph/\+Temperature Shield. 

Definition at line \hyperlink{_irene3000_8h_source_l00035}{35} of file \hyperlink{_irene3000_8h_source}{Irene3000.\+h}.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_irene3000_ad5891806c500ae1007afe52b9e304c2b}\label{class_irene3000_ad5891806c500ae1007afe52b9e304c2b}} 
\index{Irene3000@{Irene3000}!begin@{begin}}
\index{begin@{begin}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily void Irene3000\+::begin (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\hyperlink{class_irene3000_ad5891806c500ae1007afe52b9e304c2b}{Irene3000\+::begin()}\+: This method is provided to start the \hyperlink{class_irene3000}{Irene3000} A\+DS chip 

Definition at line \hyperlink{irene3000_8cpp_source_l00022}{22} of file \hyperlink{irene3000_8cpp_source}{irene3000.\+cpp}.



Referenced by \hyperlink{_cool_board_8cpp_source_l00021}{Cool\+Board\+::begin()}.


\begin{DoxyCode}
00023 \{
00024     this->ads.begin();
00025 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=297pt]{class_irene3000_ad5891806c500ae1007afe52b9e304c2b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_irene3000_a81f6a79e546679692053f7ac1af49613}\label{class_irene3000_a81f6a79e546679692053f7ac1af49613}} 
\index{Irene3000@{Irene3000}!calcp\+H\+Slope@{calcp\+H\+Slope}}
\index{calcp\+H\+Slope@{calcp\+H\+Slope}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{calcp\+H\+Slope()}{calcpHSlope()}}
{\footnotesize\ttfamily void Irene3000\+::calcp\+H\+Slope (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Irene3000\+::calcp\+H\+Slop()\+: This method is provided to calculate th PH slope 

Definition at line \hyperlink{irene3000_8cpp_source_l00359}{359} of file \hyperlink{irene3000_8cpp_source}{irene3000.\+cpp}.



Referenced by \hyperlink{irene3000_8cpp_source_l00341}{calibratep\+H4()}, and \hyperlink{irene3000_8cpp_source_l00325}{calibratep\+H7()}.


\begin{DoxyCode}
00360 \{
00361 
00362   params.pHStep = ((((vRef * (float)(params.pH7Cal - params.pH4Cal)) / 32767) * 1000) / opampGain) / 3;
00363 
00364  
00365 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_irene3000_a81f6a79e546679692053f7ac1af49613_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_irene3000_a9772eeea2305fad6236a82e33e93892e}\label{class_irene3000_a9772eeea2305fad6236a82e33e93892e}} 
\index{Irene3000@{Irene3000}!calibratep\+H4@{calibratep\+H4}}
\index{calibratep\+H4@{calibratep\+H4}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{calibratep\+H4()}{calibratepH4()}}
{\footnotesize\ttfamily void Irene3000\+::calibratep\+H4 (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::calibratep\+H4(gain)\+: This method is provided to calibrate the PH probe to 4 

Definition at line \hyperlink{irene3000_8cpp_source_l00341}{341} of file \hyperlink{irene3000_8cpp_source}{irene3000.\+cpp}.



References \hyperlink{irene3000_8cpp_source_l00359}{calcp\+H\+Slope()}, \hyperlink{_irene3000_8h_source_l00027}{ph}, and \hyperlink{irene3000_8cpp_source_l00242}{set\+Gain()}.


\begin{DoxyCode}
00342 \{
00343 
00344   this->\hyperlink{class_irene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
00345         
00346   this->params.pH4Cal =  ads.readADC\_SingleEnded(\hyperlink{_irene3000_8h_af771ceafe0e6524dd8497d4305dfe778}{ph});
00347  
00348   this->\hyperlink{class_irene3000_a81f6a79e546679692053f7ac1af49613}{calcpHSlope}();
00349 
00350 
00351 
00352 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_irene3000_a9772eeea2305fad6236a82e33e93892e_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_irene3000_a2e810ddfa8b95eaa2446a408761c6bdc}\label{class_irene3000_a2e810ddfa8b95eaa2446a408761c6bdc}} 
\index{Irene3000@{Irene3000}!calibratep\+H7@{calibratep\+H7}}
\index{calibratep\+H7@{calibratep\+H7}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{calibratep\+H7()}{calibratepH7()}}
{\footnotesize\ttfamily void Irene3000\+::calibratep\+H7 (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::calibratep\+H7(gain)\+: This method is provided to calibrate the PH probe to 7 

Definition at line \hyperlink{irene3000_8cpp_source_l00325}{325} of file \hyperlink{irene3000_8cpp_source}{irene3000.\+cpp}.



References \hyperlink{irene3000_8cpp_source_l00359}{calcp\+H\+Slope()}, \hyperlink{_irene3000_8h_source_l00027}{ph}, and \hyperlink{irene3000_8cpp_source_l00242}{set\+Gain()}.


\begin{DoxyCode}
00326 \{
00327     this->\hyperlink{class_irene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
00328         
00329     this->params.pH7Cal = ads.readADC\_SingleEnded(\hyperlink{_irene3000_8h_af771ceafe0e6524dd8497d4305dfe778}{ph});
00330  
00331     this->\hyperlink{class_irene3000_a81f6a79e546679692053f7ac1af49613}{calcpHSlope}();
00332 
00333 
00334 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_irene3000_a2e810ddfa8b95eaa2446a408761c6bdc_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_irene3000_afed5c35e4b23963c157847ef27c11e9c}\label{class_irene3000_afed5c35e4b23963c157847ef27c11e9c}} 
\index{Irene3000@{Irene3000}!config@{config}}
\index{config@{config}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{config()}{config()}}
{\footnotesize\ttfamily bool Irene3000\+::config (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{class_irene3000_afed5c35e4b23963c157847ef27c11e9c}{Irene3000\+::config()}\+: This method is provided to configure the \hyperlink{class_irene3000}{Irene3000} shield through a configuration file

\begin{DoxyReturn}{Returns}
true if successful,false otherwise 
\end{DoxyReturn}


Definition at line \hyperlink{irene3000_8cpp_source_l00074}{74} of file \hyperlink{irene3000_8cpp_source}{irene3000.\+cpp}.



References \hyperlink{irene3000_8cpp_source_l00391}{gain\+Convert()}.



Referenced by \hyperlink{_cool_board_8cpp_source_l00021}{Cool\+Board\+::begin()}, and \hyperlink{_cool_board_8cpp_source_l00411}{Cool\+Board\+::update()}.


\begin{DoxyCode}
00075 \{
00076 
00077     File irene3000Config = SPIFFS.open(\textcolor{stringliteral}{"/irene3000Config.json"}, \textcolor{stringliteral}{"r"});
00078 
00079     \textcolor{keywordflow}{if} (!irene3000Config) 
00080     \{
00081         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
00082     \}
00083     \textcolor{keywordflow}{else}
00084     \{
00085         \textcolor{keywordtype}{size\_t} size = irene3000Config.size();
00086         \textcolor{comment}{// Allocate a buffer to store contents of the file.}
00087         std::unique\_ptr<char[]> buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
00088             uint16\_t tempGain;
00089         irene3000Config.readBytes(buf.get(), size);
00090         DynamicJsonBuffer jsonBuffer;
00091         JsonObject& json = jsonBuffer.parseObject(buf.get());
00092         \textcolor{keywordflow}{if} (!json.success()) 
00093         \{
00094               \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
00095         \} 
00096         \textcolor{keywordflow}{else}
00097         \{   
00098             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"ireneJsonSize"}].success() )
00099             \{
00100                 this->ireneJsonSize=json[\textcolor{stringliteral}{"ireneJsonSize"}];
00101             \}
00102             \textcolor{keywordflow}{else}
00103             \{
00104                 this->ireneJsonSize=this->ireneJsonSize;
00105             \}
00106             json[\textcolor{stringliteral}{"ireneJsonSize"}]=this->ireneJsonSize;
00107 
00108             
00109             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"active"}].success() )
00110             \{           
00111                 this->waterTemp.active = json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"active"}]; 
00112             \}
00113             \textcolor{keywordflow}{else}
00114             \{
00115                 this->waterTemp.active=this->waterTemp.active;
00116             \}
00117             json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"active"}]=this->waterTemp.active;
00118 
00119             
00120             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"gain"}].success() )
00121             \{           
00122                 tempGain = json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"gain"}]; 
00123                 this->waterTemp.gain=this->\hyperlink{class_irene3000_abcad62d1201a59f8dd3ba87048002728}{gainConvert}(tempGain);
00124             \}
00125             \textcolor{keywordflow}{else}
00126             \{
00127                 this->waterTemp.gain=this->waterTemp.gain;
00128             \}
00129             json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"gain"}]=this->waterTemp.gain;
00130 
00131             
00132             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"active"}].success())
00133             \{
00134                 this->phProbe.active=json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"active"}];
00135             \}
00136             \textcolor{keywordflow}{else}
00137             \{
00138                 this->phProbe.active=this->phProbe.active;
00139             \}
00140             json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"active"}]=this->phProbe.active;
00141     
00142             
00143             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"gain"}].success() )
00144             \{       
00145                 tempGain=json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"gain"}];
00146                 this->phProbe.gain=this->\hyperlink{class_irene3000_abcad62d1201a59f8dd3ba87048002728}{gainConvert}(tempGain);          
00147             \}
00148             \textcolor{keywordflow}{else}
00149             \{
00150                 this->phProbe.gain=this->phProbe.gain;
00151             \}
00152             json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"gain"}]=this->phProbe.gain;
00153 
00154             
00155             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"active"}].success() )
00156             \{
00157                 this->adc2.active=json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"active"}];
00158             \}
00159             \textcolor{keywordflow}{else}
00160             \{
00161                 this->adc2.active=this->adc2.active;
00162             \}
00163             json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"active"}]=this->adc2.active;
00164 
00165             
00166             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"gain"}].success() )
00167             \{           
00168                 tempGain=json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"gain"}];
00169                 this->adc2.gain=this->\hyperlink{class_irene3000_abcad62d1201a59f8dd3ba87048002728}{gainConvert}(tempGain);
00170             \}
00171             \textcolor{keywordflow}{else}
00172             \{
00173                 this->adc2.gain=this->adc2.gain;
00174             \}
00175             json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"gain"}]=this->adc2.gain;
00176 
00177             
00178             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"type"}].success() )
00179             \{
00180                 this->adc2.type=json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"type"}].as<String>(); 
00181             \}
00182             \textcolor{keywordflow}{else}
00183             \{
00184                 this->adc2.type=this->adc2.type;
00185             \}
00186             json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"type"}]=this->adc2.type;
00187 
00188             irene3000Config.close();
00189             irene3000Config = SPIFFS.open(\textcolor{stringliteral}{"/irene3000Config.json"}, \textcolor{stringliteral}{"w"});
00190 
00191             \textcolor{keywordflow}{if}(!irene3000Config)
00192             \{
00193                 \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
00194             \}
00195 
00196             json.printTo(irene3000Config);
00197             irene3000Config.close();
00198 
00199             \textcolor{keywordflow}{return}(\textcolor{keyword}{true}); 
00200         \}
00201     \}   
00202 
00203 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=326pt]{class_irene3000_afed5c35e4b23963c157847ef27c11e9c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_irene3000_afed5c35e4b23963c157847ef27c11e9c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_irene3000_abcad62d1201a59f8dd3ba87048002728}\label{class_irene3000_abcad62d1201a59f8dd3ba87048002728}} 
\index{Irene3000@{Irene3000}!gain\+Convert@{gain\+Convert}}
\index{gain\+Convert@{gain\+Convert}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{gain\+Convert()}{gainConvert()}}
{\footnotesize\ttfamily ads\+Gain\+\_\+t Irene3000\+::gain\+Convert (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{temp\+Gain }\end{DoxyParamCaption})}

\hyperlink{class_irene3000_abcad62d1201a59f8dd3ba87048002728}{Irene3000\+::gain\+Convert}( gain \+: \{ 2/3,1,2,4,8,16 \} ) This method is provided to convert the gain to Internal Constants

\begin{DoxyReturn}{Returns}
internal representation of the A\+DS gain 
\end{DoxyReturn}


Definition at line \hyperlink{irene3000_8cpp_source_l00391}{391} of file \hyperlink{irene3000_8cpp_source}{irene3000.\+cpp}.



Referenced by \hyperlink{irene3000_8cpp_source_l00074}{config()}.


\begin{DoxyCode}
00392 \{
00393     \textcolor{keywordflow}{switch}(tempGain)
00394     \{
00395         \textcolor{keywordflow}{case}(2/3): \textcolor{keywordflow}{return}(GAIN\_TWOTHIRDS);
00396         \textcolor{keywordflow}{case}(1): \textcolor{keywordflow}{return} (GAIN\_ONE);
00397         \textcolor{keywordflow}{case}(2) : \textcolor{keywordflow}{return}(GAIN\_TWO);
00398         \textcolor{keywordflow}{case}(4): \textcolor{keywordflow}{return}(GAIN\_FOUR) ;   
00399         \textcolor{keywordflow}{case}(8):\textcolor{keywordflow}{return}(GAIN\_EIGHT)  ;  
00400         \textcolor{keywordflow}{case}(16):\textcolor{keywordflow}{return}(GAIN\_SIXTEEN);  
00401     \}
00402 
00403 
00404 
00405 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_irene3000_abcad62d1201a59f8dd3ba87048002728_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_irene3000_a7bc2414100b5e19eacc6630fa34b2654}\label{class_irene3000_a7bc2414100b5e19eacc6630fa34b2654}} 
\index{Irene3000@{Irene3000}!print\+Conf@{print\+Conf}}
\index{print\+Conf@{print\+Conf}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{print\+Conf()}{printConf()}}
{\footnotesize\ttfamily void Irene3000\+::print\+Conf (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{class_irene3000_a7bc2414100b5e19eacc6630fa34b2654}{Irene3000\+::print\+Conf()}\+: This method is provided to print the configuration to the Serial Monitor 

Definition at line \hyperlink{irene3000_8cpp_source_l00210}{210} of file \hyperlink{irene3000_8cpp_source}{irene3000.\+cpp}.



Referenced by \hyperlink{_cool_board_8cpp_source_l00021}{Cool\+Board\+::begin()}.


\begin{DoxyCode}
00211 \{
00212     Serial.println(\textcolor{stringliteral}{"Irene Config "});
00213     Serial.println(waterTemp.active);
00214     Serial.println(waterTemp.gain); 
00215     Serial.println(phProbe.active);
00216     Serial.println(phProbe.gain);
00217     Serial.println(adc2.active);
00218     Serial.println(adc2.gain);
00219     Serial.println(adc2.type);
00220     Serial.println(\textcolor{stringliteral}{" "});
00221 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=313pt]{class_irene3000_a7bc2414100b5e19eacc6630fa34b2654_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_irene3000_a852a170feea994ea1df01c6b245b5d9a}\label{class_irene3000_a852a170feea994ea1df01c6b245b5d9a}} 
\index{Irene3000@{Irene3000}!read@{read}}
\index{read@{read}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily String Irene3000\+::read (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\hyperlink{class_irene3000}{Irene3000}\+:\hyperlink{class_irene3000_a852a170feea994ea1df01c6b245b5d9a}{read()}\+: This method is provided to read the \hyperlink{class_irene3000}{Irene3000} sensors data

\begin{DoxyReturn}{Returns}
json string of the sensors data 
\end{DoxyReturn}


Definition at line \hyperlink{irene3000_8cpp_source_l00035}{35} of file \hyperlink{irene3000_8cpp_source}{irene3000.\+cpp}.



References \hyperlink{irene3000_8cpp_source_l00256}{read\+A\+D\+S\+Channel2()}, \hyperlink{irene3000_8cpp_source_l00270}{read\+Ph()}, and \hyperlink{irene3000_8cpp_source_l00291}{read\+Temp()}.



Referenced by \hyperlink{_cool_board_8cpp_source_l00509}{Cool\+Board\+::read\+Sensors()}.


\begin{DoxyCode}
00036 \{   
00037     String data;
00038     DynamicJsonBuffer jsonBuffer(ireneJsonSize);
00039     JsonObject& root = jsonBuffer.createObject();
00040 
00041 
00042         
00043     \textcolor{keywordflow}{if}(waterTemp.active)
00044     \{
00045         root[\textcolor{stringliteral}{"waterTemp"}] = this->\hyperlink{class_irene3000_a94ad40f281d83ad1be20bf1edd6fe802}{readTemp}(waterTemp.gain);
00046 
00047         \textcolor{keywordflow}{if}(phProbe.active)
00048         \{
00049             root[\textcolor{stringliteral}{"ph"}] =this->\hyperlink{class_irene3000_abf3db725fabb0634ec889b32068a5eec}{readPh}(phProbe.gain) ;
00050         \}
00051 
00052     \}
00053 
00054     \textcolor{keywordflow}{if}(adc2.active)
00055     \{
00056         root[adc2.type] =this->\hyperlink{class_irene3000_ae73bd2ed14a199a7e83f4d6458476a7c}{readADSChannel2}(adc2.gain);
00057     \}
00058     
00059     root.printTo(data);
00060     
00061     \textcolor{keywordflow}{return}(data);
00062     
00063     
00064 
00065 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_irene3000_a852a170feea994ea1df01c6b245b5d9a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_irene3000_a852a170feea994ea1df01c6b245b5d9a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_irene3000_ae73bd2ed14a199a7e83f4d6458476a7c}\label{class_irene3000_ae73bd2ed14a199a7e83f4d6458476a7c}} 
\index{Irene3000@{Irene3000}!read\+A\+D\+S\+Channel2@{read\+A\+D\+S\+Channel2}}
\index{read\+A\+D\+S\+Channel2@{read\+A\+D\+S\+Channel2}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{read\+A\+D\+S\+Channel2()}{readADSChannel2()}}
{\footnotesize\ttfamily int Irene3000\+::read\+A\+D\+S\+Channel2 (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::read\+A\+D\+S\+Channel2(gain)\+: This method is provided to read from the A\+DS channel 2 . A\+DS Channel 2 is free and the user can connect another analog sensor to it.

\begin{DoxyReturn}{Returns}
the A\+DS Channel 2 value 
\end{DoxyReturn}


Definition at line \hyperlink{irene3000_8cpp_source_l00256}{256} of file \hyperlink{irene3000_8cpp_source}{irene3000.\+cpp}.



References \hyperlink{_irene3000_8h_source_l00026}{free\+Adc}, and \hyperlink{irene3000_8cpp_source_l00242}{set\+Gain()}.



Referenced by \hyperlink{irene3000_8cpp_source_l00035}{read()}.


\begin{DoxyCode}
00257 \{   
00258     this->\hyperlink{class_irene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
00259     \textcolor{keywordflow}{return}( this->ads.readADC\_SingleEnded(\hyperlink{_irene3000_8h_a55497513af255250e464ed76543d46d7}{freeAdc}) ) ;
00260 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_irene3000_ae73bd2ed14a199a7e83f4d6458476a7c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_irene3000_ae73bd2ed14a199a7e83f4d6458476a7c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_irene3000_ae0e0a5b773c3625b44c1d113c76a1540}\label{class_irene3000_ae0e0a5b773c3625b44c1d113c76a1540}} 
\index{Irene3000@{Irene3000}!read\+Button@{read\+Button}}
\index{read\+Button@{read\+Button}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{read\+Button()}{readButton()}}
{\footnotesize\ttfamily int Irene3000\+::read\+Button (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::read\+Button(gain)\+: This method is provided to read the \hyperlink{class_irene3000}{Irene3000} button

\begin{DoxyReturn}{Returns}
the button value 
\end{DoxyReturn}


Definition at line \hyperlink{irene3000_8cpp_source_l00230}{230} of file \hyperlink{irene3000_8cpp_source}{irene3000.\+cpp}.



References \hyperlink{_irene3000_8h_source_l00024}{button}, and \hyperlink{irene3000_8cpp_source_l00242}{set\+Gain()}.


\begin{DoxyCode}
00231 \{
00232     this->\hyperlink{class_irene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
00233     \textcolor{keywordflow}{return}( this->ads.readADC\_SingleEnded(\hyperlink{_irene3000_8h_a37976ee6fe1fb8546bfd6153b83ffa6c}{button}) );
00234     
00235 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=328pt]{class_irene3000_ae0e0a5b773c3625b44c1d113c76a1540_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_irene3000_abf3db725fabb0634ec889b32068a5eec}\label{class_irene3000_abf3db725fabb0634ec889b32068a5eec}} 
\index{Irene3000@{Irene3000}!read\+Ph@{read\+Ph}}
\index{read\+Ph@{read\+Ph}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{read\+Ph()}{readPh()}}
{\footnotesize\ttfamily float Irene3000\+::read\+Ph (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::read\+Ph(gain)\+: This method is provided to read the PH probe note that for the best results, PH must be correlated to Temperature.

\begin{DoxyReturn}{Returns}
the PH probe value 
\end{DoxyReturn}


Definition at line \hyperlink{irene3000_8cpp_source_l00270}{270} of file \hyperlink{irene3000_8cpp_source}{irene3000.\+cpp}.



References \hyperlink{_irene3000_8h_source_l00018}{A\+D\+C\+\_\+\+M\+A\+X\+I\+M\+U\+M\+\_\+\+V\+A\+L\+UE}, \hyperlink{_irene3000_8h_source_l00027}{ph}, and \hyperlink{irene3000_8cpp_source_l00242}{set\+Gain()}.



Referenced by \hyperlink{irene3000_8cpp_source_l00035}{read()}.


\begin{DoxyCode}
00271 \{
00272   this->\hyperlink{class_irene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
00273 
00274   \textcolor{keywordtype}{double} Voltage =  gain * ( ads.readADC\_SingleEnded(\hyperlink{_irene3000_8h_af771ceafe0e6524dd8497d4305dfe778}{ph}) ) / \hyperlink{_irene3000_8h_ae04444a85a37b5dce09107f2ce2b2c80}{ADC\_MAXIMUM\_VALUE};
00275 
00276   \textcolor{keywordtype}{float} miliVolts = Voltage * 1000;
00277   \textcolor{keywordtype}{float} temporary = ((((vRef * (float)params.pH7Cal) / 32767) * 1000) - miliVolts) / opampGain;
00278 
00279 
00280  \textcolor{keywordflow}{return}( 7 - (temporary / params.pHStep) );
00281 
00282 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=311pt]{class_irene3000_abf3db725fabb0634ec889b32068a5eec_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_irene3000_abf3db725fabb0634ec889b32068a5eec_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_irene3000_a94ad40f281d83ad1be20bf1edd6fe802}\label{class_irene3000_a94ad40f281d83ad1be20bf1edd6fe802}} 
\index{Irene3000@{Irene3000}!read\+Temp@{read\+Temp}}
\index{read\+Temp@{read\+Temp}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{read\+Temp()}{readTemp()}}
{\footnotesize\ttfamily double Irene3000\+::read\+Temp (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::read\+Temp(gain)\+: This method is provided to read the Temeperature probe

\begin{DoxyReturn}{Returns}
the Temperature probe value 
\end{DoxyReturn}


Definition at line \hyperlink{irene3000_8cpp_source_l00291}{291} of file \hyperlink{irene3000_8cpp_source}{irene3000.\+cpp}.



References \hyperlink{irene3000_8cpp_source_l00242}{set\+Gain()}, \hyperlink{_irene3000_8h_source_l00025}{temp}, and \hyperlink{_irene3000_8h_source_l00021}{V\+\_\+\+G\+A\+I\+N\+\_\+8}.



Referenced by \hyperlink{irene3000_8cpp_source_l00035}{read()}.


\begin{DoxyCode}
00292 \{
00293   \textcolor{keyword}{const} \textcolor{keywordtype}{double} A = 3.9083E-3;
00294   \textcolor{keyword}{const} \textcolor{keywordtype}{double} B = -5.775E-7;
00295   \textcolor{keywordtype}{double} T;
00296   
00297   this->\hyperlink{class_irene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
00298   \textcolor{keywordtype}{int} adc0 = ads.readADC\_SingleEnded(\hyperlink{_irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp});
00299  
00300 
00301   \textcolor{keywordtype}{double} R = ((adc0 * \hyperlink{_irene3000_8h_ab7ab16df599d3f0ce29e12791a504891}{V\_GAIN\_8}) / 0.095) / 1000;
00302 
00303   T = 0.0 - A;
00304   T += sqrt((A * A) - 4.0 * B * (1.0 - R));
00305   T /= (2.0 * B);
00306   \textcolor{keywordflow}{if} (T > 0 && T < 200) \{
00307     \textcolor{keywordflow}{return} T;
00308   \}
00309   \textcolor{keywordflow}{else} \{
00310   
00311     T = 0.0 - A;
00312     T -= sqrt((A * A) - 4.0 * B * (1.0 - R));
00313     T /= (2.0 * B);
00314     \textcolor{keywordflow}{return} T;
00315   \}
00316 
00317 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=324pt]{class_irene3000_a94ad40f281d83ad1be20bf1edd6fe802_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_irene3000_a94ad40f281d83ad1be20bf1edd6fe802_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_irene3000_a0fba280e8b7c881307efa31281aa691d}\label{class_irene3000_a0fba280e8b7c881307efa31281aa691d}} 
\index{Irene3000@{Irene3000}!reset\+Params@{reset\+Params}}
\index{reset\+Params@{reset\+Params}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{reset\+Params()}{resetParams()}}
{\footnotesize\ttfamily void Irene3000\+::reset\+Params (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\hyperlink{class_irene3000_a0fba280e8b7c881307efa31281aa691d}{Irene3000\+::reset\+Params()}\+: This method is provided to reset the PH configuration, assuming Ideal configuration 

Definition at line \hyperlink{irene3000_8cpp_source_l00373}{373} of file \hyperlink{irene3000_8cpp_source}{irene3000.\+cpp}.



References \hyperlink{_irene3000_8h_source_l00022}{Write\+\_\+\+Check}.


\begin{DoxyCode}
00374 \{
00375   \textcolor{comment}{//Restore to default set of parameters!}
00376   params.WriteCheck = \hyperlink{_irene3000_8h_a9fa3b8fd890fde289060ee254cd273d5}{Write\_Check};
00377   params.pH7Cal = 16384; \textcolor{comment}{//assume ideal probe and amp conditions 1/2 of 4096}
00378   params.pH4Cal = 8192; \textcolor{comment}{//using ideal probe slope we end up this many 12bit units away on the 4 scale}
00379   params.pHStep = 59.16;\textcolor{comment}{//ideal probe slope}
00380 
00381   
00382 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_irene3000_aff7c5da186b388e7272e63ff88a20c34}\label{class_irene3000_aff7c5da186b388e7272e63ff88a20c34}} 
\index{Irene3000@{Irene3000}!set\+Gain@{set\+Gain}}
\index{set\+Gain@{set\+Gain}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{set\+Gain()}{setGain()}}
{\footnotesize\ttfamily void Irene3000\+::set\+Gain (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::set\+Gain(gain)\+: This method is provided to set the A\+DS chip gain 

Definition at line \hyperlink{irene3000_8cpp_source_l00242}{242} of file \hyperlink{irene3000_8cpp_source}{irene3000.\+cpp}.



Referenced by \hyperlink{irene3000_8cpp_source_l00341}{calibratep\+H4()}, \hyperlink{irene3000_8cpp_source_l00325}{calibratep\+H7()}, \hyperlink{irene3000_8cpp_source_l00256}{read\+A\+D\+S\+Channel2()}, \hyperlink{irene3000_8cpp_source_l00230}{read\+Button()}, \hyperlink{irene3000_8cpp_source_l00270}{read\+Ph()}, and \hyperlink{irene3000_8cpp_source_l00291}{read\+Temp()}.


\begin{DoxyCode}
00243 \{
00244     this->ads.setGain(gain);
00245 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_irene3000_aff7c5da186b388e7272e63ff88a20c34_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
\hyperlink{_irene3000_8h}{Irene3000.\+h}\item 
\hyperlink{irene3000_8cpp}{irene3000.\+cpp}\end{DoxyCompactItemize}
