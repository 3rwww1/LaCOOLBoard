\hypertarget{classCoolWifi}{}\section{Cool\+Wifi Class Reference}
\label{classCoolWifi}\index{Cool\+Wifi@{Cool\+Wifi}}


This class manages the Wi\+Fi connection .  




{\ttfamily \#include $<$Cool\+Wifi.\+h$>$}



Collaboration diagram for Cool\+Wifi\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=155pt]{classCoolWifi__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classCoolWifi_a46942fed90e475112cc10b78a32e7aaa}{begin} ()
\item 
bool \hyperlink{classCoolWifi_a4eb2f6b9b09dd588964b88b6c70122c0}{config} ()
\item 
bool \hyperlink{classCoolWifi_a871d4a0d9978f17fdf6d874fc2958b6c}{config} (String \hyperlink{classCoolWifi_a893b21d0fed821438733bba2e73fb4c2}{ssid}\mbox{[}$\,$\mbox{]}, String \hyperlink{classCoolWifi_a0c3332a149245aaad060b32593a54c9b}{pass}\mbox{[}$\,$\mbox{]}, int wifi\+Number, int A\+P\+Time\+Out)
\item 
wl\+\_\+status\+\_\+t \hyperlink{classCoolWifi_ad060353050f40d032a2dbf9e54a768bf}{connect} ()
\item 
wl\+\_\+status\+\_\+t \hyperlink{classCoolWifi_a1c7b4d82a4098d346e7593dce92039fa}{state} ()
\item 
void \hyperlink{classCoolWifi_a9e6105c6d13d35ec510f6633da9e0223}{print\+Conf} ()
\item 
bool \hyperlink{classCoolWifi_a914d7a1df14dd6b75345fb614c34e9d6}{add\+Wifi} (String \hyperlink{classCoolWifi_a893b21d0fed821438733bba2e73fb4c2}{ssid}, String \hyperlink{classCoolWifi_a0c3332a149245aaad060b32593a54c9b}{pass}=\char`\"{}\char`\"{})
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
Wi\+Fi\+Manager \hyperlink{classCoolWifi_a80dd24fdc56e863f5eb9947dd65a433a}{wifi\+Manager}
\item 
E\+S\+P8266\+Wi\+Fi\+Multi \hyperlink{classCoolWifi_a7862a8c0d7239877e2956c14a368aab8}{wifi\+Multi}
\item 
int \hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifi\+Count} =0
\item 
String \hyperlink{classCoolWifi_a893b21d0fed821438733bba2e73fb4c2}{ssid} \mbox{[}50\mbox{]} =\{\char`\"{}0\char`\"{}\}
\item 
String \hyperlink{classCoolWifi_a0c3332a149245aaad060b32593a54c9b}{pass} \mbox{[}50\mbox{]} =\{\char`\"{}0\char`\"{}\}
\item 
int \hyperlink{classCoolWifi_a952111605f25156588b5632caaba1c6f}{time\+Out} =0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class manages the Wi\+Fi connection . 

Definition at line 29 of file Cool\+Wifi.\+h.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classCoolWifi_a914d7a1df14dd6b75345fb614c34e9d6}\label{classCoolWifi_a914d7a1df14dd6b75345fb614c34e9d6}} 
\index{Cool\+Wifi@{Cool\+Wifi}!add\+Wifi@{add\+Wifi}}
\index{add\+Wifi@{add\+Wifi}!Cool\+Wifi@{Cool\+Wifi}}
\subsubsection{\texorpdfstring{add\+Wifi()}{addWifi()}}
{\footnotesize\ttfamily bool Cool\+Wifi\+::add\+Wifi (\begin{DoxyParamCaption}\item[{String}]{ssid,  }\item[{String}]{pass = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})}

Cool\+Wifi\+::add\+Wifi(ssid,pass) This method is provided to add new Wi\+Fi detected by the Wi\+Fi\+Manager to the json\+Config(if used )

\begin{DoxyReturn}{Returns}
true if successfull , false otherwise 
\end{DoxyReturn}


Definition at line 447 of file Cool\+Wifi.\+cpp.



References pass, ssid, time\+Out, and wifi\+Count.



Referenced by connect().


\begin{DoxyCode}
448 \{
449 
450 \textcolor{preprocessor}{#if DEBUG == 1}
451     
452     Serial.println(\textcolor{stringliteral}{"Entering CoolWifi.addWifi() "}) ;
453 
454 \textcolor{preprocessor}{#endif  }
455     
456     this->\hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifiCount}++;
457     \textcolor{keywordflow}{if}( this->\hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifiCount} >=50)
458     \{
459     
460 \textcolor{preprocessor}{    #if DEBUG == 1}
461 
462         Serial.println(\textcolor{stringliteral}{"You have reached the limit of 50"});
463         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});  
464     
465 \textcolor{preprocessor}{    #endif}
466 
467     \}
468 
469     this->\hyperlink{classCoolWifi_a893b21d0fed821438733bba2e73fb4c2}{ssid}[this->\hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifiCount}-1]=\hyperlink{classCoolWifi_a893b21d0fed821438733bba2e73fb4c2}{ssid};
470     this->\hyperlink{classCoolWifi_a0c3332a149245aaad060b32593a54c9b}{pass}[this->\hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifiCount}-1]=\hyperlink{classCoolWifi_a0c3332a149245aaad060b32593a54c9b}{pass};
471     
472     \textcolor{comment}{//read config file}
473     \textcolor{comment}{//update data}
474     File configFile = SPIFFS.open(\textcolor{stringliteral}{"/wifiConfig.json"}, \textcolor{stringliteral}{"r"});
475 
476     \textcolor{keywordflow}{if} (!configFile) 
477     \{
478     
479 \textcolor{preprocessor}{    #if DEBUG == 1 }
480 
481         Serial.println( F(\textcolor{stringliteral}{"failed to read /wifiConfig.json"}) );
482         Serial.println();
483 
484 \textcolor{preprocessor}{    #endif}
485     \}
486     \textcolor{keywordflow}{else}
487     \{
488         \textcolor{keywordtype}{size\_t} size = configFile.size();
489         \textcolor{comment}{// Allocate a buffer to store contents of the file.}
490         std::unique\_ptr<char[]> buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
491 
492         configFile.readBytes(buf.get(), size);
493         DynamicJsonBuffer jsonBuffer;
494         JsonObject& json = jsonBuffer.parseObject(buf.get());
495         \textcolor{keywordflow}{if} (!json.success()) 
496         \{
497         
498 \textcolor{preprocessor}{        #if DEBUG == 1 }
499 
500             Serial.println( F(\textcolor{stringliteral}{"failed to parse json "}) );
501             Serial.println();
502         
503 \textcolor{preprocessor}{        #endif}
504         \} 
505         \textcolor{keywordflow}{else}
506         \{
507         
508 \textcolor{preprocessor}{        #if DEBUG == 1 }
509         
510             Serial.println( F(\textcolor{stringliteral}{"configuration json is "}) );
511             json.printTo(Serial);
512             Serial.println();
513 
514             Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
515             Serial.println(jsonBuffer.size());
516             Serial.println();
517 
518 
519 \textcolor{preprocessor}{        #endif}
520             \textcolor{comment}{//wifiCount}
521             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"wifiCount"}].success() )
522             \{           
523                 json[\textcolor{stringliteral}{"wifiCount"}]=this->\hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifiCount};
524             \}
525             \textcolor{keywordflow}{else}
526             \{
527                 this->\hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifiCount}=this->\hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifiCount};
528             \}
529             json[\textcolor{stringliteral}{"wifiCount"}]=this->\hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifiCount};
530 
531             
532             \textcolor{comment}{//AP timeOut}
533             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"timeOut"}].success() )
534             \{
535                 this->\hyperlink{classCoolWifi_a952111605f25156588b5632caaba1c6f}{timeOut}=json[\textcolor{stringliteral}{"timeOut"}];
536             \}
537             \textcolor{keywordflow}{else}
538             \{
539                 this->\hyperlink{classCoolWifi_a952111605f25156588b5632caaba1c6f}{timeOut}=this->\hyperlink{classCoolWifi_a952111605f25156588b5632caaba1c6f}{timeOut};
540 
541             \}
542             json[\textcolor{stringliteral}{"timeOut"}]=this->\hyperlink{classCoolWifi_a952111605f25156588b5632caaba1c6f}{timeOut};
543             
544             
545             \textcolor{comment}{//new Wifi SSID and PASS}
546             JsonObject& newWifi = json.createNestedObject( \textcolor{stringliteral}{"Wifi"}+String( this->
      \hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifiCount}-1 ) );
547             
548             newWifi[\textcolor{stringliteral}{"ssid"}] =this->\hyperlink{classCoolWifi_a893b21d0fed821438733bba2e73fb4c2}{ssid}[this->\hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifiCount}-1];
549             newWifi[\textcolor{stringliteral}{"pass"}] = this->\hyperlink{classCoolWifi_a0c3332a149245aaad060b32593a54c9b}{pass}[this->\hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifiCount}-1];
550             
551 
552             configFile.close();
553             configFile = SPIFFS.open(\textcolor{stringliteral}{"/wifiConfig.json"}, \textcolor{stringliteral}{"w"});
554             \textcolor{keywordflow}{if}(!configFile)
555             \{
556             
557 \textcolor{preprocessor}{            #if DEBUG == 1 }
558 
559                 Serial.println( F(\textcolor{stringliteral}{"failed to write to /wifiConfig.json"}) );
560             
561 \textcolor{preprocessor}{            #endif}
562 
563             \}
564             
565             json.printTo(configFile);
566             configFile.close();
567 
568 \textcolor{preprocessor}{        #if DEBUG == 1 }
569 
570             Serial.println( F(\textcolor{stringliteral}{"saved configuration is :"}) );
571             json.printTo(Serial);
572             Serial.println();
573         
574 \textcolor{preprocessor}{        #endif}
575 
576             \textcolor{keywordflow}{return}(\textcolor{keyword}{true}); 
577         \}
578     \}   
579 
580     
581     \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
582     
583 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolWifi_a914d7a1df14dd6b75345fb614c34e9d6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolWifi_a46942fed90e475112cc10b78a32e7aaa}\label{classCoolWifi_a46942fed90e475112cc10b78a32e7aaa}} 
\index{Cool\+Wifi@{Cool\+Wifi}!begin@{begin}}
\index{begin@{begin}!Cool\+Wifi@{Cool\+Wifi}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily void Cool\+Wifi\+::begin (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolWifi_a46942fed90e475112cc10b78a32e7aaa}{Cool\+Wifi\+::begin()}\+: This method is provided to set the wifi\+Multi Access points and the wifi\+Manager time out 

Definition at line 37 of file Cool\+Wifi.\+cpp.



References pass, ssid, time\+Out, wifi\+Count, wifi\+Manager, and wifi\+Multi.



Referenced by Cool\+Board\+::begin().


\begin{DoxyCode}
38 \{ 
39 
40 \textcolor{preprocessor}{#if DEBUG == 1 }
41 
42     Serial.println( F(\textcolor{stringliteral}{"Entering CoolWifi.begin()"}) );
43     Serial.println();
44 
45 \textcolor{preprocessor}{#endif}
46     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i =0;i<this->\hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifiCount};i++)
47     \{
48          this->\hyperlink{classCoolWifi_a7862a8c0d7239877e2956c14a368aab8}{wifiMulti}.addAP(this->\hyperlink{classCoolWifi_a893b21d0fed821438733bba2e73fb4c2}{ssid}[i].c\_str() , this->\hyperlink{classCoolWifi_a0c3332a149245aaad060b32593a54c9b}{pass}[i].c\_str() );    
49     \}
50 
51     this->\hyperlink{classCoolWifi_a80dd24fdc56e863f5eb9947dd65a433a}{wifiManager}.setRemoveDuplicateAPs(\textcolor{keyword}{true});
52     this->\hyperlink{classCoolWifi_a80dd24fdc56e863f5eb9947dd65a433a}{wifiManager}.setTimeout(this->\hyperlink{classCoolWifi_a952111605f25156588b5632caaba1c6f}{timeOut});  
53     
54 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=291pt]{classCoolWifi_a46942fed90e475112cc10b78a32e7aaa_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolWifi_a4eb2f6b9b09dd588964b88b6c70122c0}\label{classCoolWifi_a4eb2f6b9b09dd588964b88b6c70122c0}} 
\index{Cool\+Wifi@{Cool\+Wifi}!config@{config}}
\index{config@{config}!Cool\+Wifi@{Cool\+Wifi}}
\subsubsection{\texorpdfstring{config()}{config()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool Cool\+Wifi\+::config (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolWifi_a4eb2f6b9b09dd588964b88b6c70122c0}{Cool\+Wifi\+::config()}\+: This method is provided to set the wifi parameters \+: -\/ssid -\/pass -\/\+AP time\+Out -\/wifi\+Count

\begin{DoxyReturn}{Returns}
true if successful,false otherwise 
\end{DoxyReturn}


Definition at line 193 of file Cool\+Wifi.\+cpp.



References pass, ssid, time\+Out, and wifi\+Count.



Referenced by Cool\+Board\+::begin().


\begin{DoxyCode}
194 \{
195 
196 \textcolor{preprocessor}{#if DEBUG == 1 }
197 
198     Serial.println( F(\textcolor{stringliteral}{"Entering CoolWifi.config()"}) );
199     Serial.println();
200 
201 \textcolor{preprocessor}{#endif}
202 
203     \textcolor{comment}{//read config file}
204     \textcolor{comment}{//update data}
205     File configFile = SPIFFS.open(\textcolor{stringliteral}{"/wifiConfig.json"}, \textcolor{stringliteral}{"r"});
206 
207     \textcolor{keywordflow}{if} (!configFile) 
208     \{
209     
210 \textcolor{preprocessor}{    #if DEBUG == 1 }
211 
212         Serial.println( F(\textcolor{stringliteral}{"failed to read /wifiConfig.json"}) );
213         Serial.println();
214 
215 \textcolor{preprocessor}{    #endif}
216 
217         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
218     \}
219     \textcolor{keywordflow}{else}
220     \{
221         \textcolor{keywordtype}{size\_t} size = configFile.size();
222         \textcolor{comment}{// Allocate a buffer to store contents of the file.}
223         std::unique\_ptr<char[]> buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
224 
225         configFile.readBytes(buf.get(), size);
226         DynamicJsonBuffer jsonBuffer;
227         JsonObject& json = jsonBuffer.parseObject(buf.get());
228         \textcolor{keywordflow}{if} (!json.success()) 
229         \{
230         
231 \textcolor{preprocessor}{        #if DEBUG == 1 }
232 
233             Serial.println( F(\textcolor{stringliteral}{"failed to parse json "}) );
234             Serial.println();
235         
236 \textcolor{preprocessor}{        #endif}
237             
238             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
239         \} 
240         \textcolor{keywordflow}{else}
241         \{
242         
243 \textcolor{preprocessor}{        #if DEBUG == 1 }
244         
245             Serial.println( F(\textcolor{stringliteral}{"configuration json is "}) );
246             json.printTo(Serial);
247             Serial.println();
248 
249             Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
250             Serial.println(jsonBuffer.size());
251             Serial.println();
252 
253 
254 \textcolor{preprocessor}{        #endif}
255             \textcolor{comment}{//wifiCount}
256             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"wifiCount"}].success() )
257             \{           
258                 this->\hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifiCount}=json[\textcolor{stringliteral}{"wifiCount"}];
259             \}
260             \textcolor{keywordflow}{else}
261             \{
262                 this->\hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifiCount}=this->\hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifiCount};
263             \}
264             json[\textcolor{stringliteral}{"wifiCount"}]=this->\hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifiCount};
265 
266             
267             \textcolor{comment}{//AP timeOut}
268             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"timeOut"}].success() )
269             \{
270                 this->\hyperlink{classCoolWifi_a952111605f25156588b5632caaba1c6f}{timeOut}=json[\textcolor{stringliteral}{"timeOut"}];
271             \}
272             \textcolor{keywordflow}{else}
273             \{
274                 this->\hyperlink{classCoolWifi_a952111605f25156588b5632caaba1c6f}{timeOut}=this->\hyperlink{classCoolWifi_a952111605f25156588b5632caaba1c6f}{timeOut};
275 
276             \}
277             json[\textcolor{stringliteral}{"timeOut"}]=this->\hyperlink{classCoolWifi_a952111605f25156588b5632caaba1c6f}{timeOut};
278             
279             
280             \textcolor{comment}{//Wifis SSID and PASS}
281             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i =0; i<this->\hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifiCount} ;i++)
282             \{
283                 \textcolor{keywordflow}{if} ( json[\textcolor{stringliteral}{"Wifi"}+String(i)].success() )
284                 \{
285                     
286                     \textcolor{keywordflow}{if}( json[\textcolor{stringliteral}{"Wifi"}+String(i)][\textcolor{stringliteral}{"ssid"}].success() )
287                     \{
288                         \textcolor{keyword}{const} \textcolor{keywordtype}{char}* tempSsid=json[\textcolor{stringliteral}{"Wifi"}+String(i)][\textcolor{stringliteral}{"ssid"}]; 
289                         this->\hyperlink{classCoolWifi_a893b21d0fed821438733bba2e73fb4c2}{ssid}[i]=tempSsid;                 
290                     \}
291                     \textcolor{keywordflow}{else}
292                     \{
293                         this->\hyperlink{classCoolWifi_a893b21d0fed821438733bba2e73fb4c2}{ssid}[i]=this->\hyperlink{classCoolWifi_a893b21d0fed821438733bba2e73fb4c2}{ssid}[i];                    
294                     \}
295                     json[\textcolor{stringliteral}{"Wifi"}+String(i)][\textcolor{stringliteral}{"ssid"}]=this->\hyperlink{classCoolWifi_a893b21d0fed821438733bba2e73fb4c2}{ssid}[i].c\_str();
296                     
297                     
298                     \textcolor{keywordflow}{if}( json[\textcolor{stringliteral}{"Wifi"}+String(i)][\textcolor{stringliteral}{"pass"}].success() )
299                     \{
300                         \textcolor{keyword}{const} \textcolor{keywordtype}{char}* tempPass =json[\textcolor{stringliteral}{"Wifi"}+String(i)][\textcolor{stringliteral}{"pass"}];
301                         this->\hyperlink{classCoolWifi_a0c3332a149245aaad060b32593a54c9b}{pass}[i]=tempPass ;                    
302                     \}
303                     \textcolor{keywordflow}{else}
304                     \{
305                         this->\hyperlink{classCoolWifi_a0c3332a149245aaad060b32593a54c9b}{pass}[i]=this->\hyperlink{classCoolWifi_a0c3332a149245aaad060b32593a54c9b}{pass}[i];                    
306                     \}
307                     json[\textcolor{stringliteral}{"Wifi"}+String(i)][\textcolor{stringliteral}{"pass"}]=this->\hyperlink{classCoolWifi_a0c3332a149245aaad060b32593a54c9b}{pass}[i].c\_str();           
308                 
309                 \}
310                 \textcolor{keywordflow}{else}
311                 \{
312                     
313                     this->\hyperlink{classCoolWifi_a893b21d0fed821438733bba2e73fb4c2}{ssid}[i]=this->\hyperlink{classCoolWifi_a893b21d0fed821438733bba2e73fb4c2}{ssid}[i];
314                     this->\hyperlink{classCoolWifi_a0c3332a149245aaad060b32593a54c9b}{pass}[i]=this->\hyperlink{classCoolWifi_a0c3332a149245aaad060b32593a54c9b}{pass}[i];                    
315                     
316                 \}
317                 json[\textcolor{stringliteral}{"Wifi"}+String(i)][\textcolor{stringliteral}{"ssid"}]=this->\hyperlink{classCoolWifi_a893b21d0fed821438733bba2e73fb4c2}{ssid}[i].c\_str();
318                 json[\textcolor{stringliteral}{"Wifi"}+String(i)][\textcolor{stringliteral}{"pass"}]=this->\hyperlink{classCoolWifi_a0c3332a149245aaad060b32593a54c9b}{pass}[i].c\_str();           
319                         
320             \}
321 
322             configFile.close();
323             configFile = SPIFFS.open(\textcolor{stringliteral}{"/wifiConfig.json"}, \textcolor{stringliteral}{"w"});
324             \textcolor{keywordflow}{if}(!configFile)
325             \{
326             
327 \textcolor{preprocessor}{            #if DEBUG == 1 }
328 
329                 Serial.println( F(\textcolor{stringliteral}{"failed to write to /wifiConfig.json"}) );
330             
331 \textcolor{preprocessor}{            #endif}
332 
333                 \textcolor{keywordflow}{return}(\textcolor{keyword}{false});              
334             \}
335             
336             json.printTo(configFile);
337             configFile.close();
338 
339 \textcolor{preprocessor}{        #if DEBUG == 1 }
340 
341             Serial.println( F(\textcolor{stringliteral}{"saved configuration is :"}) );
342             json.printTo(Serial);
343             Serial.println();
344         
345 \textcolor{preprocessor}{        #endif}
346 
347             \textcolor{keywordflow}{return}(\textcolor{keyword}{true}); 
348         \}
349     \}   
350     
351 
352 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=294pt]{classCoolWifi_a4eb2f6b9b09dd588964b88b6c70122c0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolWifi_a871d4a0d9978f17fdf6d874fc2958b6c}\label{classCoolWifi_a871d4a0d9978f17fdf6d874fc2958b6c}} 
\index{Cool\+Wifi@{Cool\+Wifi}!config@{config}}
\index{config@{config}!Cool\+Wifi@{Cool\+Wifi}}
\subsubsection{\texorpdfstring{config()}{config()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool Cool\+Wifi\+::config (\begin{DoxyParamCaption}\item[{String}]{ssid\mbox{[}$\,$\mbox{]},  }\item[{String}]{pass\mbox{[}$\,$\mbox{]},  }\item[{int}]{wifi\+Number,  }\item[{int}]{A\+P\+Time\+Out }\end{DoxyParamCaption})}

Cool\+Wifi\+::config(ssid array, pass array, number of wifis, A\+P timeout ); This method is provided to configure the Wifi without S\+P\+I\+F\+FS

\begin{DoxyReturn}{Returns}
true if successfull, false otherwise 
\end{DoxyReturn}


Definition at line 360 of file Cool\+Wifi.\+cpp.



References time\+Out, and wifi\+Count.


\begin{DoxyCode}
361 \{
362 
363 \textcolor{preprocessor}{#if DEBUG == 1 }
364     
365     Serial.println(\textcolor{stringliteral}{"Entering CoolWifi.config(), no SPIFFS variant "}) ;
366     
367 \textcolor{preprocessor}{#endif}
368     
369     \textcolor{keywordflow}{if}(wifiNumber>50)
370     \{
371     
372 \textcolor{preprocessor}{    #if DEBUG == 1 }
373         
374         Serial.println(\textcolor{stringliteral}{"the limit of WiFis is 50 "} );
375         
376 \textcolor{preprocessor}{    #endif}
377         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});  
378     \}
379 
380     this->\hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifiCount}=wifiNumber;
381 
382     this->\hyperlink{classCoolWifi_a952111605f25156588b5632caaba1c6f}{timeOut}=APTimeOut;
383     
384     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<wifiNumber;i++)
385     \{
386         this->\hyperlink{classCoolWifi_a893b21d0fed821438733bba2e73fb4c2}{ssid}[i]=\hyperlink{classCoolWifi_a893b21d0fed821438733bba2e73fb4c2}{ssid}[i];
387         
388         this->\hyperlink{classCoolWifi_a0c3332a149245aaad060b32593a54c9b}{pass}[i]=\hyperlink{classCoolWifi_a0c3332a149245aaad060b32593a54c9b}{pass}[i];
389     \}
390         
391     \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
392 
393 \}
\end{DoxyCode}
\mbox{\Hypertarget{classCoolWifi_ad060353050f40d032a2dbf9e54a768bf}\label{classCoolWifi_ad060353050f40d032a2dbf9e54a768bf}} 
\index{Cool\+Wifi@{Cool\+Wifi}!connect@{connect}}
\index{connect@{connect}!Cool\+Wifi@{Cool\+Wifi}}
\subsubsection{\texorpdfstring{connect()}{connect()}}
{\footnotesize\ttfamily wl\+\_\+status\+\_\+t Cool\+Wifi\+::connect (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolWifi_ad060353050f40d032a2dbf9e54a768bf}{Cool\+Wifi\+::connect( )}\+: This method is provided to connect to the strongest Wi\+Fi in the provided list of wi\+Fis. If none are found , it starts the AP mode.

\begin{DoxyReturn}{Returns}
wifi state 
\end{DoxyReturn}


Definition at line 93 of file Cool\+Wifi.\+cpp.



References add\+Wifi(), wifi\+Manager, and wifi\+Multi.



Referenced by Cool\+Board\+::connect().


\begin{DoxyCode}
94 \{       
95 
96     \textcolor{keywordtype}{int} i=0;
97 
98 \textcolor{preprocessor}{#if DEBUG == 1 }
99 
100     Serial.println( F(\textcolor{stringliteral}{"Entering CoolWifi.connect()"}) );
101     Serial.println( F(\textcolor{stringliteral}{"Wifi connecting..."}) );
102     
103     Serial.println(\textcolor{stringliteral}{"entry time to multi : "});
104     Serial.println(millis() ) ;
105 
106 \textcolor{preprocessor}{#endif}
107     \textcolor{comment}{//Wifi MULTI}
108 
109     \textcolor{keywordflow}{while}( (\hyperlink{classCoolWifi_a7862a8c0d7239877e2956c14a368aab8}{wifiMulti}.run() != WL\_CONNECTED) && (i<1000)  ) 
110     \{
111 
112 \textcolor{preprocessor}{    #if DEBUG == 1}
113 
114             Serial.print(\textcolor{stringliteral}{"."});
115         i++;
116         delay(10);
117     
118 \textcolor{preprocessor}{    #endif}
119 
120         \}   
121 
122 \textcolor{preprocessor}{#if DEBUG == 1 }
123 
124     Serial.println();   
125     Serial.println(\textcolor{stringliteral}{"exit point from multi : "});
126     Serial.println(millis() );
127 
128 
129 \textcolor{preprocessor}{#endif}
130 
131     \textcolor{comment}{//Wifi Manager}
132     \textcolor{keywordflow}{if}( (i>=1000) ||  (WiFi.status() != WL\_CONNECTED) ) 
133     \{
134     
135 \textcolor{preprocessor}{    #if DEBUG == 1 }
136         
137         Serial.println(F(\textcolor{stringliteral}{"No matching wifi Found "}) );
138         Serial.println( F(\textcolor{stringliteral}{"Starting Access Point "}) );  
139         Serial.println();
140     
141 \textcolor{preprocessor}{    #endif}
142         \textcolor{keywordflow}{if}(!\hyperlink{classCoolWifi_a80dd24fdc56e863f5eb9947dd65a433a}{wifiManager}.autoConnect(\textcolor{stringliteral}{"CoolBoardAP"})) 
143         \{
144         
145 \textcolor{preprocessor}{        #if DEBUG == 1}
146 
147             Serial.println( F(\textcolor{stringliteral}{"failed to connect and hit timeout"}) );
148         
149 \textcolor{preprocessor}{        #endif}
150             delay(300);
151 
152         \} 
153 
154           \textcolor{comment}{//if you get here you have connected to the WiFi}
155 \textcolor{preprocessor}{        #if DEBUG == 1}
156 
157             Serial.println( F(\textcolor{stringliteral}{"connected...yeey :)"} ));
158             Serial.println(\textcolor{stringliteral}{"connected to "});
159             Serial.println( WiFi.SSID() );
160             Serial.println( WiFi.psk() ) ;
161             
162 \textcolor{preprocessor}{        #endif}
163             this->\hyperlink{classCoolWifi_a914d7a1df14dd6b75345fb614c34e9d6}{addWifi}( WiFi.SSID() , WiFi.psk() );
164         
165     \}
166     \textcolor{keywordflow}{else}
167     \{
168 
169 \textcolor{preprocessor}{    #if DEBUG == 1}
170 
171         Serial.println(\textcolor{stringliteral}{"connected to "});
172         Serial.println( WiFi.SSID() );
173         Serial.println( WiFi.psk() ) ;
174                 
175 \textcolor{preprocessor}{    #endif}
176     
177     \}
178     
179     \textcolor{keywordflow}{return}( WiFi.status() ) ;
180 
181 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=304pt]{classCoolWifi_ad060353050f40d032a2dbf9e54a768bf_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolWifi_ad060353050f40d032a2dbf9e54a768bf_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolWifi_a9e6105c6d13d35ec510f6633da9e0223}\label{classCoolWifi_a9e6105c6d13d35ec510f6633da9e0223}} 
\index{Cool\+Wifi@{Cool\+Wifi}!print\+Conf@{print\+Conf}}
\index{print\+Conf@{print\+Conf}!Cool\+Wifi@{Cool\+Wifi}}
\subsubsection{\texorpdfstring{print\+Conf()}{printConf()}}
{\footnotesize\ttfamily void Cool\+Wifi\+::print\+Conf (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolWifi_a9e6105c6d13d35ec510f6633da9e0223}{Cool\+Wifi\+::print\+Conf()}\+: This method is provided to print the configuration to the Serial Monitor 

Definition at line 401 of file Cool\+Wifi.\+cpp.



References pass, ssid, time\+Out, and wifi\+Count.



Referenced by Cool\+Board\+::begin().


\begin{DoxyCode}
402 \{
403 
404 \textcolor{preprocessor}{#if DEBUG == 1 }
405 
406     Serial.println( F(\textcolor{stringliteral}{"Entering CoolWifi.printConf()"}) );
407     Serial.println();   
408 
409 \textcolor{preprocessor}{#endif}
410     
411     Serial.println(\textcolor{stringliteral}{"Wifi configuration "});
412 
413     
414     Serial.println(\textcolor{stringliteral}{"wifiCount : "});
415     Serial.println(this->\hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifiCount});
416     
417     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<this->\hyperlink{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}{wifiCount};i++)
418     \{   
419         Serial.print(\textcolor{stringliteral}{"SSID"});
420         Serial.print(i);
421         Serial.println(\textcolor{stringliteral}{" : "});
422         Serial.println(this->\hyperlink{classCoolWifi_a893b21d0fed821438733bba2e73fb4c2}{ssid}[i]);
423                 
424         Serial.print(\textcolor{stringliteral}{"PASS"});
425         Serial.print(i);
426         Serial.println(\textcolor{stringliteral}{" : "});
427         Serial.println(this->\hyperlink{classCoolWifi_a0c3332a149245aaad060b32593a54c9b}{pass}[i]);
428         
429     \}
430     
431     Serial.println(\textcolor{stringliteral}{"timeOut : "});
432     Serial.println(this->\hyperlink{classCoolWifi_a952111605f25156588b5632caaba1c6f}{timeOut});
433 
434     Serial.println();
435 
436 
437 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=308pt]{classCoolWifi_a9e6105c6d13d35ec510f6633da9e0223_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolWifi_a1c7b4d82a4098d346e7593dce92039fa}\label{classCoolWifi_a1c7b4d82a4098d346e7593dce92039fa}} 
\index{Cool\+Wifi@{Cool\+Wifi}!state@{state}}
\index{state@{state}!Cool\+Wifi@{Cool\+Wifi}}
\subsubsection{\texorpdfstring{state()}{state()}}
{\footnotesize\ttfamily wl\+\_\+status\+\_\+t Cool\+Wifi\+::state (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolWifi_a1c7b4d82a4098d346e7593dce92039fa}{Cool\+Wifi\+::state()}\+: This method is provided to return the Wifi client\textquotesingle{}s state. \begin{DoxyReturn}{Returns}
wifi client state\+: W\+L\+\_\+\+N\+O\+\_\+\+S\+H\+I\+E\+LD = 255, W\+L\+\_\+\+I\+D\+L\+E\+\_\+\+S\+T\+A\+T\+US = 0, W\+L\+\_\+\+N\+O\+\_\+\+S\+S\+I\+D\+\_\+\+A\+V\+A\+IL = 1, W\+L\+\_\+\+S\+C\+A\+N\+\_\+\+C\+O\+M\+P\+L\+E\+T\+ED = 2, W\+L\+\_\+\+C\+O\+N\+N\+E\+C\+T\+ED = 3, W\+L\+\_\+\+C\+O\+N\+N\+E\+C\+T\+\_\+\+F\+A\+I\+L\+ED = 4, W\+L\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+L\+O\+ST = 5, W\+L\+\_\+\+D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+ED = 6 
\end{DoxyReturn}


Definition at line 70 of file Cool\+Wifi.\+cpp.



Referenced by Cool\+Board\+::connect().


\begin{DoxyCode}
71 \{
72 
73 \textcolor{preprocessor}{#if DEBUG == 1 }
74 
75     Serial.println( F(\textcolor{stringliteral}{"Entering CoolWifi.state()"}) );
76     Serial.println();   
77     Serial.print( F(\textcolor{stringliteral}{"state : "}) );
78     Serial.println( WiFi.status() );
79 
80 \textcolor{preprocessor}{#endif}
81     
82     \textcolor{keywordflow}{return}( WiFi.status() ) ;
83 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolWifi_a1c7b4d82a4098d346e7593dce92039fa_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classCoolWifi_a0c3332a149245aaad060b32593a54c9b}\label{classCoolWifi_a0c3332a149245aaad060b32593a54c9b}} 
\index{Cool\+Wifi@{Cool\+Wifi}!pass@{pass}}
\index{pass@{pass}!Cool\+Wifi@{Cool\+Wifi}}
\subsubsection{\texorpdfstring{pass}{pass}}
{\footnotesize\ttfamily String Cool\+Wifi\+::pass\mbox{[}50\mbox{]} =\{\char`\"{}0\char`\"{}\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 57 of file Cool\+Wifi.\+h.



Referenced by add\+Wifi(), begin(), config(), and print\+Conf().

\mbox{\Hypertarget{classCoolWifi_a893b21d0fed821438733bba2e73fb4c2}\label{classCoolWifi_a893b21d0fed821438733bba2e73fb4c2}} 
\index{Cool\+Wifi@{Cool\+Wifi}!ssid@{ssid}}
\index{ssid@{ssid}!Cool\+Wifi@{Cool\+Wifi}}
\subsubsection{\texorpdfstring{ssid}{ssid}}
{\footnotesize\ttfamily String Cool\+Wifi\+::ssid\mbox{[}50\mbox{]} =\{\char`\"{}0\char`\"{}\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 55 of file Cool\+Wifi.\+h.



Referenced by add\+Wifi(), begin(), config(), and print\+Conf().

\mbox{\Hypertarget{classCoolWifi_a952111605f25156588b5632caaba1c6f}\label{classCoolWifi_a952111605f25156588b5632caaba1c6f}} 
\index{Cool\+Wifi@{Cool\+Wifi}!time\+Out@{time\+Out}}
\index{time\+Out@{time\+Out}!Cool\+Wifi@{Cool\+Wifi}}
\subsubsection{\texorpdfstring{time\+Out}{timeOut}}
{\footnotesize\ttfamily int Cool\+Wifi\+::time\+Out =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 59 of file Cool\+Wifi.\+h.



Referenced by add\+Wifi(), begin(), config(), and print\+Conf().

\mbox{\Hypertarget{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}\label{classCoolWifi_ab133bd92fcb895b884deecd6678592e4}} 
\index{Cool\+Wifi@{Cool\+Wifi}!wifi\+Count@{wifi\+Count}}
\index{wifi\+Count@{wifi\+Count}!Cool\+Wifi@{Cool\+Wifi}}
\subsubsection{\texorpdfstring{wifi\+Count}{wifiCount}}
{\footnotesize\ttfamily int Cool\+Wifi\+::wifi\+Count =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 53 of file Cool\+Wifi.\+h.



Referenced by add\+Wifi(), begin(), config(), and print\+Conf().

\mbox{\Hypertarget{classCoolWifi_a80dd24fdc56e863f5eb9947dd65a433a}\label{classCoolWifi_a80dd24fdc56e863f5eb9947dd65a433a}} 
\index{Cool\+Wifi@{Cool\+Wifi}!wifi\+Manager@{wifi\+Manager}}
\index{wifi\+Manager@{wifi\+Manager}!Cool\+Wifi@{Cool\+Wifi}}
\subsubsection{\texorpdfstring{wifi\+Manager}{wifiManager}}
{\footnotesize\ttfamily Wi\+Fi\+Manager Cool\+Wifi\+::wifi\+Manager\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 49 of file Cool\+Wifi.\+h.



Referenced by begin(), and connect().

\mbox{\Hypertarget{classCoolWifi_a7862a8c0d7239877e2956c14a368aab8}\label{classCoolWifi_a7862a8c0d7239877e2956c14a368aab8}} 
\index{Cool\+Wifi@{Cool\+Wifi}!wifi\+Multi@{wifi\+Multi}}
\index{wifi\+Multi@{wifi\+Multi}!Cool\+Wifi@{Cool\+Wifi}}
\subsubsection{\texorpdfstring{wifi\+Multi}{wifiMulti}}
{\footnotesize\ttfamily E\+S\+P8266\+Wi\+Fi\+Multi Cool\+Wifi\+::wifi\+Multi\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 51 of file Cool\+Wifi.\+h.



Referenced by begin(), and connect().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{CoolWifi_8h}{Cool\+Wifi.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{CoolWifi_8cpp}{Cool\+Wifi.\+cpp}\end{DoxyCompactItemize}
