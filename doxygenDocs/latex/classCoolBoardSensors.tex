\hypertarget{classCoolBoardSensors}{}\section{Cool\+Board\+Sensors Class Reference}
\label{classCoolBoardSensors}\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}


This class handles the On-\/\+Board Sensors.  




{\ttfamily \#include $<$Cool\+Board\+Sensors.\+h$>$}



Collaboration diagram for Cool\+Board\+Sensors\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoardSensors__coll__graph}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structCoolBoardSensors_1_1airActive}{air\+Active}
\item 
struct \hyperlink{structCoolBoardSensors_1_1lightActive}{light\+Active}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classCoolBoardSensors_a91ff2a02f5486f90cf2413a1cf8a9ed4}{Cool\+Board\+Sensors} ()
\item 
void \hyperlink{classCoolBoardSensors_a97095823ef7c8f5290812f1405b966b3}{begin} ()
\item 
String \hyperlink{classCoolBoardSensors_a91badb2539d91fda8679f2a597874c48}{read} ()
\item 
int \hyperlink{classCoolBoardSensors_ab82c2a1633768ccd12a589320fa31a14}{get\+Json\+Size} ()
\item 
void \hyperlink{classCoolBoardSensors_ab76e6dbd6efbcc25ff460535badd8d45}{set\+Json\+Size} (int \hyperlink{classCoolBoardSensors_a05a40dc80bfff14ffb830f549b876f8d}{json\+Size})
\item 
void \hyperlink{classCoolBoardSensors_aa432c5aac88f89c31a10766390f23e0b}{all\+Active} ()
\item 
void \hyperlink{classCoolBoardSensors_acad6a8418c66d36868caca23c844ecb6}{init\+Read\+I2C} ()
\item 
void \hyperlink{classCoolBoardSensors_ab67b900b9e5e7c18d52d2d9107ba171b}{stop\+Read\+I2C} ()
\item 
void \hyperlink{classCoolBoardSensors_a4902b69f6e628bd6557193758fdd2bae}{end} ()
\item 
bool \hyperlink{classCoolBoardSensors_a9a218895c5423375c33c08f2c56fb23a}{config} ()
\item 
void \hyperlink{classCoolBoardSensors_af6fd79505815b204c178617ecf54c873}{print\+Conf} ()
\item 
void \hyperlink{classCoolBoardSensors_a406307ffd70272282d91479c7ed8d66f}{set\+Env\+Sensor\+Settings} (uint8\+\_\+t comm\+Interface=I2\+C\+\_\+\+M\+O\+DE, uint8\+\_\+t I2\+C\+Address=0x76, uint8\+\_\+t run\+Mode=3, uint8\+\_\+t t\+Standby=0, uint8\+\_\+t filter=0, uint8\+\_\+t temp\+Over\+Sample=1, uint8\+\_\+t press\+Over\+Sample=1, uint8\+\_\+t humid\+Over\+Sample=1)
\item 
float \hyperlink{classCoolBoardSensors_a6944b6ea7bce8e2fce1b434acfd9d5f3}{read\+V\+Bat} ()
\item 
float \hyperlink{classCoolBoardSensors_a8761bff50373c485f4465c8db47d0633}{read\+Moisture} ()
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
S\+I114X \hyperlink{classCoolBoardSensors_a3e397300fb707dd193e909a757bf6102}{light\+Sensor} = S\+I114X()
\item 
B\+M\+E280 \hyperlink{classCoolBoardSensors_a868e38985e9a2412829fa2790ca13e2e}{env\+Sensor}
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structCoolBoardSensors_1_1lightActive}{Cool\+Board\+Sensors\+::light\+Active} \hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{light\+Data\+Active}
\item 
struct \hyperlink{structCoolBoardSensors_1_1airActive}{Cool\+Board\+Sensors\+::air\+Active} \hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{air\+Data\+Active}
\item 
const int \hyperlink{classCoolBoardSensors_a6177d02e14a057a2f171a2e930b5038d}{En\+Moisture} = 13
\item 
const int \hyperlink{classCoolBoardSensors_a12ef28b1046219e0aee10bf64e28c4a5}{An\+Mplex} = 12
\item 
const int \hyperlink{classCoolBoardSensors_aaa6b5dbf3a6633bffd9d204d961096dc}{En\+I2C} = 5
\item 
byte \hyperlink{classCoolBoardSensors_af5039ad760b0ff0aa7eee16c55e81702}{vbat\+Active} =0
\item 
byte \hyperlink{classCoolBoardSensors_a31983eecc0f9cd000e1f912206ea4dc8}{soil\+Moisture\+Active} =0
\item 
int \hyperlink{classCoolBoardSensors_a05a40dc80bfff14ffb830f549b876f8d}{json\+Size} =500
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class handles the On-\/\+Board Sensors. 

Definition at line 24 of file Cool\+Board\+Sensors.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classCoolBoardSensors_a91ff2a02f5486f90cf2413a1cf8a9ed4}\label{classCoolBoardSensors_a91ff2a02f5486f90cf2413a1cf8a9ed4}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{Cool\+Board\+Sensors()}{CoolBoardSensors()}}
{\footnotesize\ttfamily Cool\+Board\+Sensors\+::\+Cool\+Board\+Sensors (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoardSensors_a91ff2a02f5486f90cf2413a1cf8a9ed4}{Cool\+Board\+Sensors\+::\+Cool\+Board\+Sensors()}\+: This Constructor is provided to start the I2C interface and Init the different used pins 

Definition at line 35 of file Cool\+Board\+Sensors.\+cpp.



References An\+Mplex, En\+I2C, and En\+Moisture.


\begin{DoxyCode}
36 \{
37 
38 \textcolor{preprocessor}{#if DEBUG == 1}
39 
40     Serial.println(\textcolor{stringliteral}{"Entering CoolBoardSensors Constructor"});
41     Serial.println();
42 
43 \textcolor{preprocessor}{#endif}
44     
45     Wire.begin(2, 14);                       \textcolor{comment}{//I2C init Maybe change this to the CoolBoard?}
46 
47     pinMode(\hyperlink{classCoolBoardSensors_a12ef28b1046219e0aee10bf64e28c4a5}{AnMplex}, OUTPUT);                \textcolor{comment}{//Declare Analog Multiplexer OUTPUT}
48     pinMode(\hyperlink{classCoolBoardSensors_a6177d02e14a057a2f171a2e930b5038d}{EnMoisture}, OUTPUT);             \textcolor{comment}{//Declare Moisture enable Pin}
49     pinMode(\hyperlink{classCoolBoardSensors_aaa6b5dbf3a6633bffd9d204d961096dc}{EnI2C}, OUTPUT);           \textcolor{comment}{//Declare I2C Enable pin }
50 
51 
52 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classCoolBoardSensors_aa432c5aac88f89c31a10766390f23e0b}\label{classCoolBoardSensors_aa432c5aac88f89c31a10766390f23e0b}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!all\+Active@{all\+Active}}
\index{all\+Active@{all\+Active}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{all\+Active()}{allActive()}}
{\footnotesize\ttfamily void Cool\+Board\+Sensors\+::all\+Active (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoardSensors_aa432c5aac88f89c31a10766390f23e0b}{Cool\+Board\+Sensors\+::all\+Active()}\+: This method is provided to allow activation of all the sensor board sensors without passing by the configuration file/method 

Definition at line 110 of file Cool\+Board\+Sensors.\+cpp.



References air\+Data\+Active, Cool\+Board\+Sensors\+::air\+Active\+::humidity, Cool\+Board\+Sensors\+::light\+Active\+::ir, light\+Data\+Active, Cool\+Board\+Sensors\+::air\+Active\+::pressure, soil\+Moisture\+Active, Cool\+Board\+Sensors\+::air\+Active\+::temperature, Cool\+Board\+Sensors\+::light\+Active\+::uv, vbat\+Active, and Cool\+Board\+Sensors\+::light\+Active\+::visible.


\begin{DoxyCode}
111 \{
112 
113 \textcolor{preprocessor}{#if DEBUG == 1 }
114 
115     Serial.println(\textcolor{stringliteral}{"Entering CoolBoardSensors.allActive()"});
116     Serial.println();
117 
118 \textcolor{preprocessor}{#endif}
119     
120     this->\hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.\hyperlink{structCoolBoardSensors_1_1lightActive_abcbba296b6a95e67c0cd2555d9dd50c7}{visible}=1;
121     this->\hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.\hyperlink{structCoolBoardSensors_1_1lightActive_a67700895349b95ceb263f1a6da756315}{ir}=1;
122     this->\hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.\hyperlink{structCoolBoardSensors_1_1lightActive_a949a7aaf5166d981de8fe0fd93da20d6}{uv}=1;    
123 
124     this->\hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.\hyperlink{structCoolBoardSensors_1_1airActive_a9a6633c426b0508e30ebc1832ec6d745}{temperature}=1;
125     this->\hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.\hyperlink{structCoolBoardSensors_1_1airActive_ae5740445054b27415e22f450576accb7}{humidity}=1;
126     this->\hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.\hyperlink{structCoolBoardSensors_1_1airActive_ab200826a70d1dc9945f5efb6b9c732ed}{pressure}=1;
127 
128 
129     this->\hyperlink{classCoolBoardSensors_af5039ad760b0ff0aa7eee16c55e81702}{vbatActive}=1;
130 
131     this->\hyperlink{classCoolBoardSensors_a31983eecc0f9cd000e1f912206ea4dc8}{soilMoistureActive}=1;
132     
133 
134 
135 \}
\end{DoxyCode}
\mbox{\Hypertarget{classCoolBoardSensors_a97095823ef7c8f5290812f1405b966b3}\label{classCoolBoardSensors_a97095823ef7c8f5290812f1405b966b3}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!begin@{begin}}
\index{begin@{begin}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily void Cool\+Board\+Sensors\+::begin (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoardSensors_a97095823ef7c8f5290812f1405b966b3}{Cool\+Board\+Sensors\+::begin()}\+: This method is provided to start the sensors that are on the sensor board 

Definition at line 143 of file Cool\+Board\+Sensors.\+cpp.



References env\+Sensor, init\+Read\+I2\+C(), light\+Sensor, and set\+Env\+Sensor\+Settings().



Referenced by Cool\+Board\+::begin().


\begin{DoxyCode}
144 \{  
145 
146 \textcolor{preprocessor}{#if DEBUG == 1 }
147      
148     Serial.println(\textcolor{stringliteral}{"Entering CoolBoardSensors.begin()"});
149     Serial.println();
150 
151 \textcolor{preprocessor}{#endif}
152 
153     \hyperlink{classCoolBoardSensors_acad6a8418c66d36868caca23c844ecb6}{initReadI2C}();
154 
155     \textcolor{keywordflow}{while} (!\hyperlink{classCoolBoardSensors_a3e397300fb707dd193e909a757bf6102}{lightSensor}.Begin()) 
156     \{
157     
158 \textcolor{preprocessor}{    #if DEBUG == 1}
159 
160         Serial.println(\textcolor{stringliteral}{"Si1145 is not ready!  1 second"});
161 
162 \textcolor{preprocessor}{    #endif}
163 
164         delay(1000);
165     \}
166      
167     this->\hyperlink{classCoolBoardSensors_a406307ffd70272282d91479c7ed8d66f}{setEnvSensorSettings}();
168     delay(10);  \textcolor{comment}{//Make sure sensor had enough time to turn on. BME280 requires 2ms to start up.}
169     this->\hyperlink{classCoolBoardSensors_a868e38985e9a2412829fa2790ca13e2e}{envSensor}.begin();
170     delay(10);  \textcolor{comment}{//Make sure sensor had enough time to turn on. BME280 requires 2ms to start up.}
171 
172 \textcolor{preprocessor}{#if DEBUG == 1 }
173     
174     Serial.print(\textcolor{stringliteral}{"BME280 begin answer is :"});
175     Serial.println(\hyperlink{classCoolBoardSensors_a868e38985e9a2412829fa2790ca13e2e}{envSensor}.begin(), HEX);
176     Serial.println();
177 
178 \textcolor{preprocessor}{#endif}
179 
180 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoardSensors_a97095823ef7c8f5290812f1405b966b3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=336pt]{classCoolBoardSensors_a97095823ef7c8f5290812f1405b966b3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolBoardSensors_a9a218895c5423375c33c08f2c56fb23a}\label{classCoolBoardSensors_a9a218895c5423375c33c08f2c56fb23a}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!config@{config}}
\index{config@{config}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{config()}{config()}}
{\footnotesize\ttfamily bool Cool\+Board\+Sensors\+::config (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoardSensors_a9a218895c5423375c33c08f2c56fb23a}{Cool\+Board\+Sensors\+::config()}\+: This method is provided to configure the sensor board \+: -\/activate 1 -\/deactivate 0

\begin{DoxyReturn}{Returns}
true if configuration is successful, false otherwise 
\end{DoxyReturn}


Definition at line 334 of file Cool\+Board\+Sensors.\+cpp.



References air\+Data\+Active, Cool\+Board\+Sensors\+::air\+Active\+::humidity, Cool\+Board\+Sensors\+::light\+Active\+::ir, json\+Size, light\+Data\+Active, Cool\+Board\+Sensors\+::air\+Active\+::pressure, soil\+Moisture\+Active, Cool\+Board\+Sensors\+::air\+Active\+::temperature, Cool\+Board\+Sensors\+::light\+Active\+::uv, vbat\+Active, and Cool\+Board\+Sensors\+::light\+Active\+::visible.



Referenced by Cool\+Board\+::begin(), and Cool\+Board\+::update().


\begin{DoxyCode}
335 \{
336 
337 \textcolor{preprocessor}{#if DEBUG == 1}
338 
339     Serial.println(\textcolor{stringliteral}{"Entering CoolBoardSensors.config()"});
340     Serial.println();
341 
342 \textcolor{preprocessor}{#endif}
343 
344     \textcolor{comment}{//read config file}
345     \textcolor{comment}{//update data}
346     File coolBoardSensorsConfig = SPIFFS.open(\textcolor{stringliteral}{"/coolBoardSensorsConfig.json"}, \textcolor{stringliteral}{"r"});
347 
348     \textcolor{keywordflow}{if} (!coolBoardSensorsConfig) 
349     \{
350     
351 \textcolor{preprocessor}{    #if DEBUG == 1}
352 
353         Serial.println(\textcolor{stringliteral}{"failed to read /coolBoardSensorsConfig.json"});
354         Serial.println();
355     
356 \textcolor{preprocessor}{    #endif}
357 
358         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
359     \}
360     \textcolor{keywordflow}{else}
361     \{
362         \textcolor{keywordtype}{size\_t} size = coolBoardSensorsConfig.size();
363         \textcolor{comment}{// Allocate a buffer to store contents of the file.}
364         std::unique\_ptr<char[]> buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
365 
366         coolBoardSensorsConfig.readBytes(buf.get(), size);
367         DynamicJsonBuffer jsonBuffer;
368         JsonObject& json = jsonBuffer.parseObject(buf.get());
369         \textcolor{keywordflow}{if} (!json.success()) 
370         \{
371         
372 \textcolor{preprocessor}{        #if DEBUG == 1}
373 
374             Serial.println(\textcolor{stringliteral}{"failed to parse coolBoardSensorsConfig json"});
375             Serial.println();
376         
377 \textcolor{preprocessor}{        #endif}
378     
379             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
380         \} 
381         \textcolor{keywordflow}{else}
382         \{
383 
384 \textcolor{preprocessor}{        #if DEBUG == 1}
385 
386             Serial.println(\textcolor{stringliteral}{"Configuration Json is :"});
387             json.printTo(Serial);
388             Serial.println();
389         
390 \textcolor{preprocessor}{        #endif}
391       
392             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"jsonSize"}].success() )
393             \{
394                 this->\hyperlink{classCoolBoardSensors_a05a40dc80bfff14ffb830f549b876f8d}{jsonSize} = json[\textcolor{stringliteral}{"jsonSize"}]; 
395             \}
396             \textcolor{keywordflow}{else}
397             \{
398                 this->\hyperlink{classCoolBoardSensors_a05a40dc80bfff14ffb830f549b876f8d}{jsonSize}=this->\hyperlink{classCoolBoardSensors_a05a40dc80bfff14ffb830f549b876f8d}{jsonSize};          
399             \}
400             json[\textcolor{stringliteral}{"jsonSize"}]=this->\hyperlink{classCoolBoardSensors_a05a40dc80bfff14ffb830f549b876f8d}{jsonSize};
401 
402             
403             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"BME280"}][\textcolor{stringliteral}{"temperature"}].success() )
404             \{           
405                 this->\hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.\hyperlink{structCoolBoardSensors_1_1airActive_a9a6633c426b0508e30ebc1832ec6d745}{temperature}=json[\textcolor{stringliteral}{"BME280"}][\textcolor{stringliteral}{"temperature"}];
406             \}
407             \textcolor{keywordflow}{else}
408             \{
409                 this->\hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.\hyperlink{structCoolBoardSensors_1_1airActive_a9a6633c426b0508e30ebc1832ec6d745}{temperature}=this->
      \hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.\hyperlink{structCoolBoardSensors_1_1airActive_a9a6633c426b0508e30ebc1832ec6d745}{temperature};          
410             \}
411             json[\textcolor{stringliteral}{"BME280"}][\textcolor{stringliteral}{"temperature"}]=this->\hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.
      \hyperlink{structCoolBoardSensors_1_1airActive_a9a6633c426b0508e30ebc1832ec6d745}{temperature};
412             
413             
414             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"BME280"}][\textcolor{stringliteral}{"humidity"}].success() )
415             \{           
416             
417                 this->\hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.\hyperlink{structCoolBoardSensors_1_1airActive_ae5740445054b27415e22f450576accb7}{humidity}=json[\textcolor{stringliteral}{"BME280"}][\textcolor{stringliteral}{"humidity"}];
418             \}
419             \textcolor{keywordflow}{else}
420             \{
421                 this->\hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.\hyperlink{structCoolBoardSensors_1_1airActive_ae5740445054b27415e22f450576accb7}{humidity}=this->
      \hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.\hyperlink{structCoolBoardSensors_1_1airActive_ae5740445054b27415e22f450576accb7}{humidity};
422             \}
423             json[\textcolor{stringliteral}{"BME280"}][\textcolor{stringliteral}{"humidity"}]=this->\hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.\hyperlink{structCoolBoardSensors_1_1airActive_ae5740445054b27415e22f450576accb7}{humidity};
424             
425             
426             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"BME280"}][\textcolor{stringliteral}{"pressure"}].success() )
427             \{
428                 this->\hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.\hyperlink{structCoolBoardSensors_1_1airActive_ab200826a70d1dc9945f5efb6b9c732ed}{pressure}=json[\textcolor{stringliteral}{"BME280"}][\textcolor{stringliteral}{"pressure"}];
429             \}
430             \textcolor{keywordflow}{else}
431             \{
432                 this->\hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.\hyperlink{structCoolBoardSensors_1_1airActive_ab200826a70d1dc9945f5efb6b9c732ed}{pressure}=this->
      \hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.\hyperlink{structCoolBoardSensors_1_1airActive_ab200826a70d1dc9945f5efb6b9c732ed}{pressure};
433             \}
434             json[\textcolor{stringliteral}{"BME280"}][\textcolor{stringliteral}{"pressure"}]=this->\hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.\hyperlink{structCoolBoardSensors_1_1airActive_ab200826a70d1dc9945f5efb6b9c732ed}{pressure};
435 
436             
437             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"SI114X"}][\textcolor{stringliteral}{"visible"}].success() )
438             \{
439                 this->\hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.\hyperlink{structCoolBoardSensors_1_1lightActive_abcbba296b6a95e67c0cd2555d9dd50c7}{visible}=json[\textcolor{stringliteral}{"SI114X"}][\textcolor{stringliteral}{"visible"}];
440             \}
441             \textcolor{keywordflow}{else}
442             \{
443                 this->\hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.\hyperlink{structCoolBoardSensors_1_1lightActive_abcbba296b6a95e67c0cd2555d9dd50c7}{visible}=this->
      \hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.\hyperlink{structCoolBoardSensors_1_1lightActive_abcbba296b6a95e67c0cd2555d9dd50c7}{visible};
444             \}
445             json[\textcolor{stringliteral}{"SI114X"}][\textcolor{stringliteral}{"visible"}]=this->\hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.
      \hyperlink{structCoolBoardSensors_1_1lightActive_abcbba296b6a95e67c0cd2555d9dd50c7}{visible};
446             
447             
448             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"SI114X"}][\textcolor{stringliteral}{"ir"}].success() )
449             \{           
450                 this->\hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.\hyperlink{structCoolBoardSensors_1_1lightActive_a67700895349b95ceb263f1a6da756315}{ir}=json[\textcolor{stringliteral}{"SI114X"}][\textcolor{stringliteral}{"ir"}];
451             \}
452             \textcolor{keywordflow}{else}
453             \{
454                 this->\hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.\hyperlink{structCoolBoardSensors_1_1lightActive_a67700895349b95ceb263f1a6da756315}{ir}=this->\hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.
      \hyperlink{structCoolBoardSensors_1_1lightActive_a67700895349b95ceb263f1a6da756315}{ir};
455             \}
456             json[\textcolor{stringliteral}{"SI114X"}][\textcolor{stringliteral}{"ir"}]=this->\hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.\hyperlink{structCoolBoardSensors_1_1lightActive_a67700895349b95ceb263f1a6da756315}{ir};
457 
458             
459             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"SI114X"}][\textcolor{stringliteral}{"uv"}].success() )         
460             \{           
461                 this->\hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.\hyperlink{structCoolBoardSensors_1_1lightActive_a949a7aaf5166d981de8fe0fd93da20d6}{uv}=json[\textcolor{stringliteral}{"SI114X"}][\textcolor{stringliteral}{"uv"}];
462             \}
463             \textcolor{keywordflow}{else}
464             \{
465                 this->\hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.\hyperlink{structCoolBoardSensors_1_1lightActive_a949a7aaf5166d981de8fe0fd93da20d6}{uv}=this->\hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.
      \hyperlink{structCoolBoardSensors_1_1lightActive_a949a7aaf5166d981de8fe0fd93da20d6}{uv};
466             \}
467             json[\textcolor{stringliteral}{"SI114X"}][\textcolor{stringliteral}{"uv"}]=this->\hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.\hyperlink{structCoolBoardSensors_1_1lightActive_a949a7aaf5166d981de8fe0fd93da20d6}{uv};
468 
469 
470             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"vbat"}].success() )
471             \{
472                 this->\hyperlink{classCoolBoardSensors_af5039ad760b0ff0aa7eee16c55e81702}{vbatActive}=json[\textcolor{stringliteral}{"vbat"}];
473             \}
474             \textcolor{keywordflow}{else}
475             \{
476                 this->\hyperlink{classCoolBoardSensors_af5039ad760b0ff0aa7eee16c55e81702}{vbatActive}=this->\hyperlink{classCoolBoardSensors_af5039ad760b0ff0aa7eee16c55e81702}{vbatActive};
477             \}
478             json[\textcolor{stringliteral}{"vbat"}]=this->\hyperlink{classCoolBoardSensors_af5039ad760b0ff0aa7eee16c55e81702}{vbatActive};
479 
480             
481             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"soilMoisture"}].success() )
482             \{           
483                 this->\hyperlink{classCoolBoardSensors_a31983eecc0f9cd000e1f912206ea4dc8}{soilMoistureActive}= json[\textcolor{stringliteral}{"soilMoisture"}];
484             \}
485             \textcolor{keywordflow}{else}
486             \{
487                 this->\hyperlink{classCoolBoardSensors_a31983eecc0f9cd000e1f912206ea4dc8}{soilMoistureActive}=this->
      \hyperlink{classCoolBoardSensors_a31983eecc0f9cd000e1f912206ea4dc8}{soilMoistureActive};
488             \}
489             json[\textcolor{stringliteral}{"soilMoisture"}]=this->\hyperlink{classCoolBoardSensors_a31983eecc0f9cd000e1f912206ea4dc8}{soilMoistureActive};
490 
491             coolBoardSensorsConfig.close();         
492             coolBoardSensorsConfig = SPIFFS.open(\textcolor{stringliteral}{"/coolBoardSensorsConfig.json"}, \textcolor{stringliteral}{"w"});          
493             \textcolor{keywordflow}{if}(!coolBoardSensorsConfig)
494             \{
495             
496 \textcolor{preprocessor}{            #if DEBUG == 1}
497 
498                 Serial.println(\textcolor{stringliteral}{"failed to write to /coolBoardSensorsConfig.json"});
499                 Serial.println();
500             
501 \textcolor{preprocessor}{            #endif}
502 
503                 \textcolor{keywordflow}{return}(\textcolor{keyword}{false});          
504             \}  
505 
506             json.printTo(coolBoardSensorsConfig);
507             coolBoardSensorsConfig.close();         
508             
509 \textcolor{preprocessor}{        #if DEBUG == 1}
510 
511             Serial.println(\textcolor{stringliteral}{"Saved Configuration Json is : "});
512             json.printTo(Serial);
513             Serial.println();
514         
515 \textcolor{preprocessor}{        #endif}
516 
517             \textcolor{keywordflow}{return}(\textcolor{keyword}{true}); 
518         \}
519     \}   
520 
521 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoardSensors_a9a218895c5423375c33c08f2c56fb23a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolBoardSensors_a4902b69f6e628bd6557193758fdd2bae}\label{classCoolBoardSensors_a4902b69f6e628bd6557193758fdd2bae}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!end@{end}}
\index{end@{end}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{end()}{end()}}
{\footnotesize\ttfamily void Cool\+Board\+Sensors\+::end (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoardSensors_a4902b69f6e628bd6557193758fdd2bae}{Cool\+Board\+Sensors\+::end()}\+: This method is provided to end the sensors on the sensor board 

Definition at line 187 of file Cool\+Board\+Sensors.\+cpp.



References light\+Sensor.


\begin{DoxyCode}
188 \{
189 
190 \textcolor{preprocessor}{#if DEBUG == 1  }
191     Serial.println(\textcolor{stringliteral}{"Entering CoolBoardSensors.end()"});
192     Serial.println();
193 
194 \textcolor{preprocessor}{#endif}
195 
196     \hyperlink{classCoolBoardSensors_a3e397300fb707dd193e909a757bf6102}{lightSensor}.DeInit();
197 
198 \}
\end{DoxyCode}
\mbox{\Hypertarget{classCoolBoardSensors_ab82c2a1633768ccd12a589320fa31a14}\label{classCoolBoardSensors_ab82c2a1633768ccd12a589320fa31a14}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!get\+Json\+Size@{get\+Json\+Size}}
\index{get\+Json\+Size@{get\+Json\+Size}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{get\+Json\+Size()}{getJsonSize()}}
{\footnotesize\ttfamily int Cool\+Board\+Sensors\+::get\+Json\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoardSensors_ab82c2a1633768ccd12a589320fa31a14}{Cool\+Board\+Sensors\+::get\+Json\+Size()}\+: This method is provided to get the sensor board answer size

\begin{DoxyReturn}{Returns}
json data size 
\end{DoxyReturn}


Definition at line 61 of file Cool\+Board\+Sensors.\+cpp.



References json\+Size.


\begin{DoxyCode}
62 \{
63 
64 \textcolor{preprocessor}{#if DEBUG == 1}
65 
66     Serial.println(\textcolor{stringliteral}{"Entering CoolBoardSensors.getJsonSize()"});
67     Serial.println();
68     Serial.print(\textcolor{stringliteral}{"json size is : "});
69     Serial.println(this->\hyperlink{classCoolBoardSensors_a05a40dc80bfff14ffb830f549b876f8d}{jsonSize});
70     Serial.println();
71 
72 \textcolor{preprocessor}{#endif}
73 
74     \textcolor{keywordflow}{return}(this->\hyperlink{classCoolBoardSensors_a05a40dc80bfff14ffb830f549b876f8d}{jsonSize} );
75 \}
\end{DoxyCode}
\mbox{\Hypertarget{classCoolBoardSensors_acad6a8418c66d36868caca23c844ecb6}\label{classCoolBoardSensors_acad6a8418c66d36868caca23c844ecb6}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!init\+Read\+I2C@{init\+Read\+I2C}}
\index{init\+Read\+I2C@{init\+Read\+I2C}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{init\+Read\+I2\+C()}{initReadI2C()}}
{\footnotesize\ttfamily void Cool\+Board\+Sensors\+::init\+Read\+I2C (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoardSensors_acad6a8418c66d36868caca23c844ecb6}{Cool\+Board\+Sensors\+::init\+Read\+I2\+C()}\+: This method is provided to enable the I2C Interface on the sensor board. 

Definition at line 291 of file Cool\+Board\+Sensors.\+cpp.



References En\+I2C.



Referenced by begin(), and read().


\begin{DoxyCode}
292 \{
293 
294 \textcolor{preprocessor}{#if DEBUG == 1}
295 
296     Serial.println(\textcolor{stringliteral}{"Entering CoolBoardSensors.initReadI2C()"});
297     Serial.println();
298 
299 \textcolor{preprocessor}{#endif}
300  
301     digitalWrite(\hyperlink{classCoolBoardSensors_aaa6b5dbf3a6633bffd9d204d961096dc}{EnI2C},HIGH);\textcolor{comment}{//HIGH= I2C Enable}
302 
303 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoardSensors_acad6a8418c66d36868caca23c844ecb6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolBoardSensors_af6fd79505815b204c178617ecf54c873}\label{classCoolBoardSensors_af6fd79505815b204c178617ecf54c873}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!print\+Conf@{print\+Conf}}
\index{print\+Conf@{print\+Conf}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{print\+Conf()}{printConf()}}
{\footnotesize\ttfamily void Cool\+Board\+Sensors\+::print\+Conf (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoardSensors_af6fd79505815b204c178617ecf54c873}{Cool\+Board\+Sensors\+::print\+Conf()}\+: This method is provided to print the configuration to the Serial Monitor 

Definition at line 529 of file Cool\+Board\+Sensors.\+cpp.



References air\+Data\+Active, Cool\+Board\+Sensors\+::air\+Active\+::humidity, Cool\+Board\+Sensors\+::light\+Active\+::ir, json\+Size, light\+Data\+Active, Cool\+Board\+Sensors\+::air\+Active\+::pressure, soil\+Moisture\+Active, Cool\+Board\+Sensors\+::air\+Active\+::temperature, Cool\+Board\+Sensors\+::light\+Active\+::uv, vbat\+Active, and Cool\+Board\+Sensors\+::light\+Active\+::visible.



Referenced by Cool\+Board\+::begin().


\begin{DoxyCode}
530 \{
531 
532 \textcolor{preprocessor}{#if DEBUG == 1}
533 
534     Serial.println(\textcolor{stringliteral}{"Entering CoolBoardSensors.printConf()"});
535     Serial.println();
536 
537 \textcolor{preprocessor}{#endif}
538 
539     Serial.println(\textcolor{stringliteral}{"Sensors Configuration : "});
540     
541     Serial.print(\textcolor{stringliteral}{"json size : "});
542     Serial.println(this->\hyperlink{classCoolBoardSensors_a05a40dc80bfff14ffb830f549b876f8d}{jsonSize});
543 
544     Serial.print(\textcolor{stringliteral}{"airDataActive.temperature : "});
545     Serial.println(this->\hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.\hyperlink{structCoolBoardSensors_1_1airActive_a9a6633c426b0508e30ebc1832ec6d745}{temperature});
546 
547     Serial.print(\textcolor{stringliteral}{"airDataActive.humidity : "});
548     Serial.println(\hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.\hyperlink{structCoolBoardSensors_1_1airActive_ae5740445054b27415e22f450576accb7}{humidity});
549 
550     Serial.print(\textcolor{stringliteral}{"airDataActive.pressure : "});
551     Serial.println(\hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.\hyperlink{structCoolBoardSensors_1_1airActive_ab200826a70d1dc9945f5efb6b9c732ed}{pressure});
552 
553     Serial.print(\textcolor{stringliteral}{"lightDataActive.visible : "});
554     Serial.println(\hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.\hyperlink{structCoolBoardSensors_1_1lightActive_abcbba296b6a95e67c0cd2555d9dd50c7}{visible});
555 
556     Serial.print(\textcolor{stringliteral}{"lightDataActive.ir : "});
557     Serial.println(\hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.\hyperlink{structCoolBoardSensors_1_1lightActive_a67700895349b95ceb263f1a6da756315}{ir});
558 
559     Serial.print(\textcolor{stringliteral}{"lightDataActive.uv : "});
560     Serial.println(\hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.\hyperlink{structCoolBoardSensors_1_1lightActive_a949a7aaf5166d981de8fe0fd93da20d6}{uv});
561     
562     Serial.print(\textcolor{stringliteral}{"vbatActive : "});
563     Serial.println(\hyperlink{classCoolBoardSensors_af5039ad760b0ff0aa7eee16c55e81702}{vbatActive});
564 
565     Serial.print(\textcolor{stringliteral}{"soilMoitureActive : "});
566     Serial.println(\hyperlink{classCoolBoardSensors_a31983eecc0f9cd000e1f912206ea4dc8}{soilMoistureActive});
567 
568     Serial.println();
569 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoardSensors_af6fd79505815b204c178617ecf54c873_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolBoardSensors_a91badb2539d91fda8679f2a597874c48}\label{classCoolBoardSensors_a91badb2539d91fda8679f2a597874c48}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!read@{read}}
\index{read@{read}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily String Cool\+Board\+Sensors\+::read (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoardSensors_a91badb2539d91fda8679f2a597874c48}{Cool\+Board\+Sensors\+::read()}\+: This method is provided to return the data read by the sensor board

\begin{DoxyReturn}{Returns}
a json string containing the sensors data 
\end{DoxyReturn}


Definition at line 208 of file Cool\+Board\+Sensors.\+cpp.



References air\+Data\+Active, env\+Sensor, Cool\+Board\+Sensors\+::air\+Active\+::humidity, init\+Read\+I2\+C(), Cool\+Board\+Sensors\+::light\+Active\+::ir, json\+Size, light\+Data\+Active, light\+Sensor, Cool\+Board\+Sensors\+::air\+Active\+::pressure, read\+Moisture(), read\+V\+Bat(), soil\+Moisture\+Active, Cool\+Board\+Sensors\+::air\+Active\+::temperature, Cool\+Board\+Sensors\+::light\+Active\+::uv, vbat\+Active, and Cool\+Board\+Sensors\+::light\+Active\+::visible.



Referenced by Cool\+Board\+::read\+Sensors().


\begin{DoxyCode}
209 \{
210 
211 \textcolor{preprocessor}{#if DEBUG == 1 }
212     
213     Serial.println(\textcolor{stringliteral}{"Entering CoolBoardSensors.read()"});
214     Serial.println();
215 
216 \textcolor{preprocessor}{#endif}
217 
218     String data;
219     DynamicJsonBuffer  jsonBuffer(\hyperlink{classCoolBoardSensors_a05a40dc80bfff14ffb830f549b876f8d}{jsonSize}) ;
220     JsonObject& root = jsonBuffer.createObject();
221     
222     \hyperlink{classCoolBoardSensors_acad6a8418c66d36868caca23c844ecb6}{initReadI2C}();
223     delay(100);
224     \textcolor{comment}{//light data}
225     \textcolor{keywordflow}{if}(\hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.\hyperlink{structCoolBoardSensors_1_1lightActive_abcbba296b6a95e67c0cd2555d9dd50c7}{visible})
226     \{
227         root[\textcolor{stringliteral}{"visibleLight"}] =\hyperlink{classCoolBoardSensors_a3e397300fb707dd193e909a757bf6102}{lightSensor}.ReadVisible() ;
228     \}
229     
230     \textcolor{keywordflow}{if}(\hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.\hyperlink{structCoolBoardSensors_1_1lightActive_a67700895349b95ceb263f1a6da756315}{ir})
231     \{
232         root[\textcolor{stringliteral}{"infraRed"}] = \hyperlink{classCoolBoardSensors_a3e397300fb707dd193e909a757bf6102}{lightSensor}.ReadIR();
233     \}
234 
235     \textcolor{keywordflow}{if}(\hyperlink{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}{lightDataActive}.\hyperlink{structCoolBoardSensors_1_1lightActive_a949a7aaf5166d981de8fe0fd93da20d6}{uv})
236     \{
237         \textcolor{keywordtype}{float} tempUV = (float)\hyperlink{classCoolBoardSensors_a3e397300fb707dd193e909a757bf6102}{lightSensor}.ReadUV()/100 ;
238         root[\textcolor{stringliteral}{"ultraViolet"}] = tempUV;
239     \}
240     
241     \textcolor{comment}{//BME280 data}
242     \textcolor{keywordflow}{if}(\hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.\hyperlink{structCoolBoardSensors_1_1airActive_ab200826a70d1dc9945f5efb6b9c732ed}{pressure}) 
243     \{
244         root[\textcolor{stringliteral}{"Pressure"}] =\hyperlink{classCoolBoardSensors_a868e38985e9a2412829fa2790ca13e2e}{envSensor}.readFloatPressure();
245     \}
246     
247         
248     \textcolor{keywordflow}{if}(\hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.\hyperlink{structCoolBoardSensors_1_1airActive_ae5740445054b27415e22f450576accb7}{humidity}) 
249     \{   
250         root[\textcolor{stringliteral}{"Humidity"}] =\hyperlink{classCoolBoardSensors_a868e38985e9a2412829fa2790ca13e2e}{envSensor}.readFloatHumidity() ;
251     \}   
252     
253     \textcolor{keywordflow}{if}(\hyperlink{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}{airDataActive}.\hyperlink{structCoolBoardSensors_1_1airActive_a9a6633c426b0508e30ebc1832ec6d745}{temperature})
254     \{
255         root[\textcolor{stringliteral}{"Temperature"}]=\hyperlink{classCoolBoardSensors_a868e38985e9a2412829fa2790ca13e2e}{envSensor}.readTempC();
256     \}
257     
258     \textcolor{comment}{//Vbat}
259     \textcolor{keywordflow}{if}(\hyperlink{classCoolBoardSensors_af5039ad760b0ff0aa7eee16c55e81702}{vbatActive})    
260     \{   
261         root[\textcolor{stringliteral}{"Vbat"}]=this->\hyperlink{classCoolBoardSensors_a6944b6ea7bce8e2fce1b434acfd9d5f3}{readVBat}();
262     \}
263     
264     \textcolor{comment}{//earth Moisture}
265     \textcolor{keywordflow}{if}(\hyperlink{classCoolBoardSensors_a31983eecc0f9cd000e1f912206ea4dc8}{soilMoistureActive})
266     \{   
267         root[\textcolor{stringliteral}{"soilMoisture"}]=this->\hyperlink{classCoolBoardSensors_a8761bff50373c485f4465c8db47d0633}{readMoisture}();
268     \}
269     
270     
271     root.printTo(data);
272 
273 \textcolor{preprocessor}{#if DEBUG == 1}
274 
275     Serial.println(\textcolor{stringliteral}{"CoolBoardSensors data is :"});
276     root.printTo(Serial);
277     Serial.println();
278 
279 \textcolor{preprocessor}{#endif}
280 
281     \textcolor{keywordflow}{return}(data);   
282     
283 
284 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoardSensors_a91badb2539d91fda8679f2a597874c48_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoardSensors_a91badb2539d91fda8679f2a597874c48_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolBoardSensors_a8761bff50373c485f4465c8db47d0633}\label{classCoolBoardSensors_a8761bff50373c485f4465c8db47d0633}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!read\+Moisture@{read\+Moisture}}
\index{read\+Moisture@{read\+Moisture}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{read\+Moisture()}{readMoisture()}}
{\footnotesize\ttfamily float Cool\+Board\+Sensors\+::read\+Moisture (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoardSensors_a8761bff50373c485f4465c8db47d0633}{Cool\+Board\+Sensors\+::read\+Moisture()}\+: This method is provided to red the Soil Moisture

\begin{DoxyReturn}{Returns}
a float represnting the soil moisture 
\end{DoxyReturn}


Definition at line 655 of file Cool\+Board\+Sensors.\+cpp.



References An\+Mplex, and En\+Moisture.



Referenced by read().


\begin{DoxyCode}
656 \{
657 
658 \textcolor{preprocessor}{#if DEBUG == 1}
659     
660     Serial.println(\textcolor{stringliteral}{"Entering CoolBoardSensors.readMoisture()"});
661     Serial.println();
662     
663 \textcolor{preprocessor}{#endif}
664 
665     digitalWrite(\hyperlink{classCoolBoardSensors_a6177d02e14a057a2f171a2e930b5038d}{EnMoisture}, LOW);                 \textcolor{comment}{//enable moisture sensor and waith a bit}
666 
667     digitalWrite(\hyperlink{classCoolBoardSensors_a12ef28b1046219e0aee10bf64e28c4a5}{AnMplex}, HIGH);         \textcolor{comment}{//enable analog Switch to get the moisture}
668 
669     delay(2000);
670 
671     \textcolor{keywordtype}{int} val = analogRead(A0);                       \textcolor{comment}{//read the value form the moisture sensor}
672 
673     \textcolor{keywordtype}{float} result = (float)map(val, 0, 890, 0, 100); 
674 
675     digitalWrite(\hyperlink{classCoolBoardSensors_a6177d02e14a057a2f171a2e930b5038d}{EnMoisture}, HIGH);                  \textcolor{comment}{//disable moisture sensor for minimum wear}
676     
677 \textcolor{preprocessor}{#if DEBUG == 1 }
678 
679     Serial.println(\textcolor{stringliteral}{"Soil Moisture is : "});
680     Serial.println(result);
681     Serial.println();
682 
683 \textcolor{preprocessor}{#endif }
684 
685     \textcolor{keywordflow}{return} (result);
686 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoardSensors_a8761bff50373c485f4465c8db47d0633_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolBoardSensors_a6944b6ea7bce8e2fce1b434acfd9d5f3}\label{classCoolBoardSensors_a6944b6ea7bce8e2fce1b434acfd9d5f3}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!read\+V\+Bat@{read\+V\+Bat}}
\index{read\+V\+Bat@{read\+V\+Bat}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{read\+V\+Bat()}{readVBat()}}
{\footnotesize\ttfamily float Cool\+Board\+Sensors\+::read\+V\+Bat (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoardSensors_a6944b6ea7bce8e2fce1b434acfd9d5f3}{Cool\+Board\+Sensors\+::read\+V\+Bat()}\+: This method is provided to read the Battery Voltage.

\begin{DoxyReturn}{Returns}
a float representing the battery voltage 
\end{DoxyReturn}


Definition at line 618 of file Cool\+Board\+Sensors.\+cpp.



References An\+Mplex.



Referenced by read().


\begin{DoxyCode}
619 \{
620 
621 \textcolor{preprocessor}{#if DEBUG == 1}
622 
623     Serial.println(\textcolor{stringliteral}{"Entering CoolBoardSensors.readVBat()"});
624     Serial.println();
625 
626 \textcolor{preprocessor}{#endif}
627 
628     digitalWrite(this->\hyperlink{classCoolBoardSensors_a12ef28b1046219e0aee10bf64e28c4a5}{AnMplex}, LOW);                            \textcolor{comment}{//Enable Analog Switch to get the
       batterie tension}
629     
630     delay(200);
631     
632     \textcolor{keywordtype}{int} raw = analogRead(A0);                                    \textcolor{comment}{//read in batterie tension}
633     
634     \textcolor{keywordtype}{float} val = 6.04 / 1024 * raw;                               \textcolor{comment}{//convert it apprimatly right tension in
       volts}
635     
636 \textcolor{preprocessor}{#if DEBUG == 1}
637 
638     Serial.println(\textcolor{stringliteral}{"Vbat is : "});
639     Serial.println(val);
640     Serial.println();
641 
642 \textcolor{preprocessor}{#endif}
643 
644     \textcolor{keywordflow}{return} (val);   
645 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoardSensors_a6944b6ea7bce8e2fce1b434acfd9d5f3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolBoardSensors_a406307ffd70272282d91479c7ed8d66f}\label{classCoolBoardSensors_a406307ffd70272282d91479c7ed8d66f}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!set\+Env\+Sensor\+Settings@{set\+Env\+Sensor\+Settings}}
\index{set\+Env\+Sensor\+Settings@{set\+Env\+Sensor\+Settings}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{set\+Env\+Sensor\+Settings()}{setEnvSensorSettings()}}
{\footnotesize\ttfamily void Cool\+Board\+Sensors\+::set\+Env\+Sensor\+Settings (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{comm\+Interface = {\ttfamily I2C\+\_\+MODE},  }\item[{uint8\+\_\+t}]{I2\+C\+Address = {\ttfamily 0x76},  }\item[{uint8\+\_\+t}]{run\+Mode = {\ttfamily 3},  }\item[{uint8\+\_\+t}]{t\+Standby = {\ttfamily 0},  }\item[{uint8\+\_\+t}]{filter = {\ttfamily 0},  }\item[{uint8\+\_\+t}]{temp\+Over\+Sample = {\ttfamily 1},  }\item[{uint8\+\_\+t}]{press\+Over\+Sample = {\ttfamily 1},  }\item[{uint8\+\_\+t}]{humid\+Over\+Sample = {\ttfamily 1} }\end{DoxyParamCaption})}

Cool\+Board\+Sensors\+::set\+Env\+Sensor\+Setting()\+: This method is provided to set the enviornment sensor settings , if argument is ommitted , default value will be assigned 

Definition at line 578 of file Cool\+Board\+Sensors.\+cpp.



References env\+Sensor.



Referenced by begin().


\begin{DoxyCode}
583 \{
584 
585 \textcolor{preprocessor}{#if DEBUG == 1}
586     
587     Serial.println(\textcolor{stringliteral}{"Entering CoolBoardSensors.setEnvSensorSettings()"});
588     Serial.println();
589 
590 \textcolor{preprocessor}{#endif}
591   
592     this->\hyperlink{classCoolBoardSensors_a868e38985e9a2412829fa2790ca13e2e}{envSensor}.settings.commInterface = commInterface;      
593 
594     this->\hyperlink{classCoolBoardSensors_a868e38985e9a2412829fa2790ca13e2e}{envSensor}.settings.I2CAddress = I2CAddress;
595 
596     this->\hyperlink{classCoolBoardSensors_a868e38985e9a2412829fa2790ca13e2e}{envSensor}.settings.runMode = runMode; 
597 
598     this->\hyperlink{classCoolBoardSensors_a868e38985e9a2412829fa2790ca13e2e}{envSensor}.settings.tStandby = tStandby; 
599 
600     this->\hyperlink{classCoolBoardSensors_a868e38985e9a2412829fa2790ca13e2e}{envSensor}.settings.filter = filter; 
601 
602     this->\hyperlink{classCoolBoardSensors_a868e38985e9a2412829fa2790ca13e2e}{envSensor}.settings.tempOverSample = tempOverSample;
603 
604     this->\hyperlink{classCoolBoardSensors_a868e38985e9a2412829fa2790ca13e2e}{envSensor}.settings.pressOverSample = pressOverSample;
605 
606     this->\hyperlink{classCoolBoardSensors_a868e38985e9a2412829fa2790ca13e2e}{envSensor}.settings.humidOverSample = humidOverSample;
607 
608 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolBoardSensors_a406307ffd70272282d91479c7ed8d66f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolBoardSensors_ab76e6dbd6efbcc25ff460535badd8d45}\label{classCoolBoardSensors_ab76e6dbd6efbcc25ff460535badd8d45}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!set\+Json\+Size@{set\+Json\+Size}}
\index{set\+Json\+Size@{set\+Json\+Size}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{set\+Json\+Size()}{setJsonSize()}}
{\footnotesize\ttfamily void Cool\+Board\+Sensors\+::set\+Json\+Size (\begin{DoxyParamCaption}\item[{int}]{json\+Size }\end{DoxyParamCaption})}

Cool\+Board\+Sensors\+::set\+Json\+Size( J\+S\+O\+N size)\+: This method is provided to set the sensor board answer size 

Definition at line 82 of file Cool\+Board\+Sensors.\+cpp.



References json\+Size.


\begin{DoxyCode}
83 \{
84 
85 \textcolor{preprocessor}{#if DEBUG == 1}
86 
87     Serial.println(\textcolor{stringliteral}{"Entering CoolBoardSensors.setJsonSize()"});
88     Serial.println();   
89     Serial.print(\textcolor{stringliteral}{"old json Size is : "});
90     Serial.println(this->\hyperlink{classCoolBoardSensors_a05a40dc80bfff14ffb830f549b876f8d}{jsonSize});
91 \textcolor{preprocessor}{#endif}
92         
93     this->\hyperlink{classCoolBoardSensors_a05a40dc80bfff14ffb830f549b876f8d}{jsonSize}=\hyperlink{classCoolBoardSensors_a05a40dc80bfff14ffb830f549b876f8d}{jsonSize};
94 
95 \textcolor{preprocessor}{#if DEBUG == 1 }
96     
97     Serial.print(\textcolor{stringliteral}{"new json Size is : "});
98     Serial.println(this->\hyperlink{classCoolBoardSensors_a05a40dc80bfff14ffb830f549b876f8d}{jsonSize});
99 
100 \textcolor{preprocessor}{#endif}
101     
102 \}
\end{DoxyCode}
\mbox{\Hypertarget{classCoolBoardSensors_ab67b900b9e5e7c18d52d2d9107ba171b}\label{classCoolBoardSensors_ab67b900b9e5e7c18d52d2d9107ba171b}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!stop\+Read\+I2C@{stop\+Read\+I2C}}
\index{stop\+Read\+I2C@{stop\+Read\+I2C}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{stop\+Read\+I2\+C()}{stopReadI2C()}}
{\footnotesize\ttfamily void Cool\+Board\+Sensors\+::stop\+Read\+I2C (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolBoardSensors_ab67b900b9e5e7c18d52d2d9107ba171b}{Cool\+Board\+Sensors\+::stop\+Read\+I2\+C()}\+: This method is provided to disable the I2C Interface on the sensor board 

Definition at line 310 of file Cool\+Board\+Sensors.\+cpp.



References En\+I2C.


\begin{DoxyCode}
311 \{
312 
313 \textcolor{preprocessor}{#if DEBUG == 1}
314 
315     Serial.println(\textcolor{stringliteral}{"Entering CoolBoardSensors.stopReadI2C()"});
316     Serial.println();
317 
318 \textcolor{preprocessor}{#endif}
319 
320     digitalWrite(\hyperlink{classCoolBoardSensors_aaa6b5dbf3a6633bffd9d204d961096dc}{EnI2C},LOW);\textcolor{comment}{//HIGH= I2C Enable}
321 
322 \}
\end{DoxyCode}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}\label{classCoolBoardSensors_abff8dfeccb2f7689847bb64d5f1cd31e}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!air\+Data\+Active@{air\+Data\+Active}}
\index{air\+Data\+Active@{air\+Data\+Active}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{air\+Data\+Active}{airDataActive}}
{\footnotesize\ttfamily struct \hyperlink{structCoolBoardSensors_1_1airActive}{Cool\+Board\+Sensors\+::air\+Active} Cool\+Board\+Sensors\+::air\+Data\+Active\hspace{0.3cm}{\ttfamily [private]}}



Referenced by all\+Active(), config(), print\+Conf(), and read().

\mbox{\Hypertarget{classCoolBoardSensors_a12ef28b1046219e0aee10bf64e28c4a5}\label{classCoolBoardSensors_a12ef28b1046219e0aee10bf64e28c4a5}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!An\+Mplex@{An\+Mplex}}
\index{An\+Mplex@{An\+Mplex}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{An\+Mplex}{AnMplex}}
{\footnotesize\ttfamily const int Cool\+Board\+Sensors\+::\+An\+Mplex = 12\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 98 of file Cool\+Board\+Sensors.\+h.



Referenced by Cool\+Board\+Sensors(), read\+Moisture(), and read\+V\+Bat().

\mbox{\Hypertarget{classCoolBoardSensors_aaa6b5dbf3a6633bffd9d204d961096dc}\label{classCoolBoardSensors_aaa6b5dbf3a6633bffd9d204d961096dc}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!En\+I2C@{En\+I2C}}
\index{En\+I2C@{En\+I2C}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{En\+I2C}{EnI2C}}
{\footnotesize\ttfamily const int Cool\+Board\+Sensors\+::\+En\+I2C = 5\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 99 of file Cool\+Board\+Sensors.\+h.



Referenced by Cool\+Board\+Sensors(), init\+Read\+I2\+C(), and stop\+Read\+I2\+C().

\mbox{\Hypertarget{classCoolBoardSensors_a6177d02e14a057a2f171a2e930b5038d}\label{classCoolBoardSensors_a6177d02e14a057a2f171a2e930b5038d}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!En\+Moisture@{En\+Moisture}}
\index{En\+Moisture@{En\+Moisture}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{En\+Moisture}{EnMoisture}}
{\footnotesize\ttfamily const int Cool\+Board\+Sensors\+::\+En\+Moisture = 13\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 97 of file Cool\+Board\+Sensors.\+h.



Referenced by Cool\+Board\+Sensors(), and read\+Moisture().

\mbox{\Hypertarget{classCoolBoardSensors_a868e38985e9a2412829fa2790ca13e2e}\label{classCoolBoardSensors_a868e38985e9a2412829fa2790ca13e2e}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!env\+Sensor@{env\+Sensor}}
\index{env\+Sensor@{env\+Sensor}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{env\+Sensor}{envSensor}}
{\footnotesize\ttfamily B\+M\+E280 Cool\+Board\+Sensors\+::env\+Sensor}



Definition at line 77 of file Cool\+Board\+Sensors.\+h.



Referenced by begin(), read(), and set\+Env\+Sensor\+Settings().

\mbox{\Hypertarget{classCoolBoardSensors_a05a40dc80bfff14ffb830f549b876f8d}\label{classCoolBoardSensors_a05a40dc80bfff14ffb830f549b876f8d}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!json\+Size@{json\+Size}}
\index{json\+Size@{json\+Size}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{json\+Size}{jsonSize}}
{\footnotesize\ttfamily int Cool\+Board\+Sensors\+::json\+Size =500\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 104 of file Cool\+Board\+Sensors.\+h.



Referenced by config(), get\+Json\+Size(), print\+Conf(), read(), and set\+Json\+Size().

\mbox{\Hypertarget{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}\label{classCoolBoardSensors_ac4deb1cf41bac8b91c780c92fab00ba4}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!light\+Data\+Active@{light\+Data\+Active}}
\index{light\+Data\+Active@{light\+Data\+Active}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{light\+Data\+Active}{lightDataActive}}
{\footnotesize\ttfamily struct \hyperlink{structCoolBoardSensors_1_1lightActive}{Cool\+Board\+Sensors\+::light\+Active} Cool\+Board\+Sensors\+::light\+Data\+Active\hspace{0.3cm}{\ttfamily [private]}}



Referenced by all\+Active(), config(), print\+Conf(), and read().

\mbox{\Hypertarget{classCoolBoardSensors_a3e397300fb707dd193e909a757bf6102}\label{classCoolBoardSensors_a3e397300fb707dd193e909a757bf6102}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!light\+Sensor@{light\+Sensor}}
\index{light\+Sensor@{light\+Sensor}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{light\+Sensor}{lightSensor}}
{\footnotesize\ttfamily S\+I114X Cool\+Board\+Sensors\+::light\+Sensor = S\+I114X()}



Definition at line 75 of file Cool\+Board\+Sensors.\+h.



Referenced by begin(), end(), and read().

\mbox{\Hypertarget{classCoolBoardSensors_a31983eecc0f9cd000e1f912206ea4dc8}\label{classCoolBoardSensors_a31983eecc0f9cd000e1f912206ea4dc8}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!soil\+Moisture\+Active@{soil\+Moisture\+Active}}
\index{soil\+Moisture\+Active@{soil\+Moisture\+Active}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{soil\+Moisture\+Active}{soilMoistureActive}}
{\footnotesize\ttfamily byte Cool\+Board\+Sensors\+::soil\+Moisture\+Active =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 102 of file Cool\+Board\+Sensors.\+h.



Referenced by all\+Active(), config(), print\+Conf(), and read().

\mbox{\Hypertarget{classCoolBoardSensors_af5039ad760b0ff0aa7eee16c55e81702}\label{classCoolBoardSensors_af5039ad760b0ff0aa7eee16c55e81702}} 
\index{Cool\+Board\+Sensors@{Cool\+Board\+Sensors}!vbat\+Active@{vbat\+Active}}
\index{vbat\+Active@{vbat\+Active}!Cool\+Board\+Sensors@{Cool\+Board\+Sensors}}
\subsubsection{\texorpdfstring{vbat\+Active}{vbatActive}}
{\footnotesize\ttfamily byte Cool\+Board\+Sensors\+::vbat\+Active =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 101 of file Cool\+Board\+Sensors.\+h.



Referenced by all\+Active(), config(), print\+Conf(), and read().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{CoolBoardSensors_8h}{Cool\+Board\+Sensors.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{CoolBoardSensors_8cpp}{Cool\+Board\+Sensors.\+cpp}\end{DoxyCompactItemize}
