\hypertarget{classIrene3000}{}\section{Irene3000 Class Reference}
\label{classIrene3000}\index{Irene3000@{Irene3000}}


This class is provided to manage the \hyperlink{classIrene3000}{Irene3000} Ph/\+Temperature Shield.  




{\ttfamily \#include $<$Irene3000.\+h$>$}



Collaboration diagram for Irene3000\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=310pt]{classIrene3000__coll__graph}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structIrene3000_1_1parameters__T}{parameters\+\_\+T}
\item 
struct \hyperlink{structIrene3000_1_1state}{state}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classIrene3000_ad5891806c500ae1007afe52b9e304c2b}{begin} ()
\item 
bool \hyperlink{classIrene3000_afed5c35e4b23963c157847ef27c11e9c}{config} ()
\item 
void \hyperlink{classIrene3000_a7bc2414100b5e19eacc6630fa34b2654}{print\+Conf} ()
\item 
String \hyperlink{classIrene3000_a852a170feea994ea1df01c6b245b5d9a}{read} ()
\item 
int \hyperlink{classIrene3000_ae0e0a5b773c3625b44c1d113c76a1540}{read\+Button} (ads\+Gain\+\_\+t gain)
\item 
void \hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{set\+Gain} (ads\+Gain\+\_\+t gain)
\item 
int \hyperlink{classIrene3000_ae73bd2ed14a199a7e83f4d6458476a7c}{read\+A\+D\+S\+Channel2} (ads\+Gain\+\_\+t gain)
\item 
float \hyperlink{classIrene3000_abf3db725fabb0634ec889b32068a5eec}{read\+Ph} (ads\+Gain\+\_\+t gain)
\item 
double \hyperlink{classIrene3000_a94ad40f281d83ad1be20bf1edd6fe802}{read\+Temp} (ads\+Gain\+\_\+t gain)
\item 
void \hyperlink{classIrene3000_a0fba280e8b7c881307efa31281aa691d}{reset\+Params} (void)
\item 
void \hyperlink{classIrene3000_a2e810ddfa8b95eaa2446a408761c6bdc}{calibratep\+H7} (ads\+Gain\+\_\+t gain)
\item 
void \hyperlink{classIrene3000_a9772eeea2305fad6236a82e33e93892e}{calibratep\+H4} (ads\+Gain\+\_\+t gain)
\item 
void \hyperlink{classIrene3000_a81f6a79e546679692053f7ac1af49613}{calcp\+H\+Slope} ()
\item 
ads\+Gain\+\_\+t \hyperlink{classIrene3000_abcad62d1201a59f8dd3ba87048002728}{gain\+Convert} (uint16\+\_\+t temp\+Gain)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
Adafruit\+\_\+\+A\+D\+S1115 \hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}
\item 
struct \hyperlink{structIrene3000_1_1parameters__T}{Irene3000\+::parameters\+\_\+T} \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}
\item 
struct \hyperlink{structIrene3000_1_1state}{Irene3000\+::state} \hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{water\+Temp}
\item 
struct \hyperlink{structIrene3000_1_1state}{Irene3000\+::state} \hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{ph\+Probe}
\item 
struct \hyperlink{structIrene3000_1_1state}{Irene3000\+::state} \hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}
\item 
const float \hyperlink{classIrene3000_a018e7ff9bee57e6d2b298667a668ba7e}{v\+Ref} = 1.\+024
\item 
const float \hyperlink{classIrene3000_a4e588985ca74e5076029d5dee81034f2}{opamp\+Gain} = 5.\+25
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class is provided to manage the \hyperlink{classIrene3000}{Irene3000} Ph/\+Temperature Shield. 

Definition at line 35 of file Irene3000.\+h.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classIrene3000_ad5891806c500ae1007afe52b9e304c2b}\label{classIrene3000_ad5891806c500ae1007afe52b9e304c2b}} 
\index{Irene3000@{Irene3000}!begin@{begin}}
\index{begin@{begin}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily void Irene3000\+::begin (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\hyperlink{classIrene3000_ad5891806c500ae1007afe52b9e304c2b}{Irene3000\+::begin()}\+: This method is provided to start the \hyperlink{classIrene3000}{Irene3000} A\+DS chip 

Definition at line 38 of file irene3000.\+cpp.



References ads.



Referenced by Cool\+Board\+::begin().


\begin{DoxyCode}
39 \{
40 
41 \textcolor{preprocessor}{#if DEBUG == 1 }
42 
43     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.begin()"}) );
44     Serial.println();
45 
46 \textcolor{preprocessor}{#endif}
47 
48     this->\hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.begin();
49 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=297pt]{classIrene3000_ad5891806c500ae1007afe52b9e304c2b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a81f6a79e546679692053f7ac1af49613}\label{classIrene3000_a81f6a79e546679692053f7ac1af49613}} 
\index{Irene3000@{Irene3000}!calcp\+H\+Slope@{calcp\+H\+Slope}}
\index{calcp\+H\+Slope@{calcp\+H\+Slope}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{calcp\+H\+Slope()}{calcpHSlope()}}
{\footnotesize\ttfamily void Irene3000\+::calcp\+H\+Slope (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Irene3000\+::calcp\+H\+Slop()\+: This method is provided to calculate th PH slope 

Definition at line 585 of file irene3000.\+cpp.



References opamp\+Gain, params, Irene3000\+::parameters\+\_\+\+T\+::p\+H4\+Cal, Irene3000\+::parameters\+\_\+\+T\+::p\+H7\+Cal, Irene3000\+::parameters\+\_\+\+T\+::p\+H\+Step, and v\+Ref.



Referenced by calibratep\+H4(), and calibratep\+H7().


\begin{DoxyCode}
586 \{
587 
588 \textcolor{preprocessor}{#if DEBUG == 1 }
589 
590     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.calcpHSlope()"}) );
591     Serial.println();
592 
593 \textcolor{preprocessor}{#endif }
594 
595     \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a61cfcc2539d5f630e9071f3753aba9fe}{pHStep} = ((((\hyperlink{classIrene3000_a018e7ff9bee57e6d2b298667a668ba7e}{vRef} * (float)(\hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a21265466a570d84bff914f26d2f7a03e}{pH7Cal} - 
      \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a1144de6fb54eb3e1dd2a3d8c2afc97dc}{pH4Cal})) / 32767) * 1000) / \hyperlink{classIrene3000_a4e588985ca74e5076029d5dee81034f2}{opampGain}) / 3;
596 
597  
598 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_a81f6a79e546679692053f7ac1af49613_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a9772eeea2305fad6236a82e33e93892e}\label{classIrene3000_a9772eeea2305fad6236a82e33e93892e}} 
\index{Irene3000@{Irene3000}!calibratep\+H4@{calibratep\+H4}}
\index{calibratep\+H4@{calibratep\+H4}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{calibratep\+H4()}{calibratepH4()}}
{\footnotesize\ttfamily void Irene3000\+::calibratep\+H4 (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::calibratep\+H4(gain)\+: This method is provided to calibrate the PH probe to 4 

Definition at line 560 of file irene3000.\+cpp.



References ads, calcp\+H\+Slope(), params, ph, Irene3000\+::parameters\+\_\+\+T\+::p\+H4\+Cal, and set\+Gain().


\begin{DoxyCode}
561 \{
562 
563 \textcolor{preprocessor}{#if DEBUG == 1 }
564 
565     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.calibraph4()"}) );
566     Serial.println();
567 
568 \textcolor{preprocessor}{#endif }
569     
570     this->\hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
571 
572     this->\hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a1144de6fb54eb3e1dd2a3d8c2afc97dc}{pH4Cal} =  \hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_af771ceafe0e6524dd8497d4305dfe778}{ph});
573 
574     this->\hyperlink{classIrene3000_a81f6a79e546679692053f7ac1af49613}{calcpHSlope}();
575 
576 
577 
578 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_a9772eeea2305fad6236a82e33e93892e_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a2e810ddfa8b95eaa2446a408761c6bdc}\label{classIrene3000_a2e810ddfa8b95eaa2446a408761c6bdc}} 
\index{Irene3000@{Irene3000}!calibratep\+H7@{calibratep\+H7}}
\index{calibratep\+H7@{calibratep\+H7}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{calibratep\+H7()}{calibratepH7()}}
{\footnotesize\ttfamily void Irene3000\+::calibratep\+H7 (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::calibratep\+H7(gain)\+: This method is provided to calibrate the PH probe to 7 

Definition at line 536 of file irene3000.\+cpp.



References ads, calcp\+H\+Slope(), params, ph, Irene3000\+::parameters\+\_\+\+T\+::p\+H7\+Cal, and set\+Gain().


\begin{DoxyCode}
537 \{
538 
539 \textcolor{preprocessor}{#if DEBUG == 1 }
540 
541     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.calibratepH7() "}) );
542     Serial.println();
543 
544 \textcolor{preprocessor}{#endif }
545 
546     this->\hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
547         
548     this->\hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a21265466a570d84bff914f26d2f7a03e}{pH7Cal} = \hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_af771ceafe0e6524dd8497d4305dfe778}{ph});
549  
550     this->\hyperlink{classIrene3000_a81f6a79e546679692053f7ac1af49613}{calcpHSlope}();
551 
552 
553 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_a2e810ddfa8b95eaa2446a408761c6bdc_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_afed5c35e4b23963c157847ef27c11e9c}\label{classIrene3000_afed5c35e4b23963c157847ef27c11e9c}} 
\index{Irene3000@{Irene3000}!config@{config}}
\index{config@{config}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{config()}{config()}}
{\footnotesize\ttfamily bool Irene3000\+::config (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classIrene3000_afed5c35e4b23963c157847ef27c11e9c}{Irene3000\+::config()}\+: This method is provided to configure the \hyperlink{classIrene3000}{Irene3000} shield through a configuration file

\begin{DoxyReturn}{Returns}
true if successful,false otherwise 
\end{DoxyReturn}


Definition at line 129 of file irene3000.\+cpp.



References Irene3000\+::state\+::active, adc2, Irene3000\+::state\+::gain, gain\+Convert(), ph\+Probe, Irene3000\+::state\+::type, and water\+Temp.



Referenced by Cool\+Board\+::begin().


\begin{DoxyCode}
130 \{
131 
132 \textcolor{preprocessor}{#if DEBUG == 1 }
133 
134     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.config()"}) );
135     Serial.println();
136 
137 \textcolor{preprocessor}{#endif}
138 
139     File irene3000Config = SPIFFS.open(\textcolor{stringliteral}{"/irene3000Config.json"}, \textcolor{stringliteral}{"r"});
140 
141     \textcolor{keywordflow}{if} (!irene3000Config) 
142     \{
143     
144 \textcolor{preprocessor}{    #if DEBUG == 1 }
145 
146         Serial.println( F(\textcolor{stringliteral}{"failed to read /irene3000Config.json"}) );
147         Serial.println();
148     
149 \textcolor{preprocessor}{    #endif}
150 
151         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
152     \}
153     \textcolor{keywordflow}{else}
154     \{
155         \textcolor{keywordtype}{size\_t} size = irene3000Config.size();
156         \textcolor{comment}{// Allocate a buffer to store contents of the file.}
157         std::unique\_ptr<char[]> buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
158             uint16\_t tempGain;
159         irene3000Config.readBytes(buf.get(), size);
160         DynamicJsonBuffer jsonBuffer;
161         JsonObject& json = jsonBuffer.parseObject(buf.get());
162         \textcolor{keywordflow}{if} (!json.success()) 
163         \{
164         
165 \textcolor{preprocessor}{        #if DEBUG == 1 }
166 
167             Serial.println( F(\textcolor{stringliteral}{"failed to parse json "}) );
168             Serial.println();
169         
170 \textcolor{preprocessor}{        #endif}
171             
172             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
173         \} 
174         \textcolor{keywordflow}{else}
175         \{
176         
177 \textcolor{preprocessor}{        #if DEBUG == 1 }
178     
179             Serial.println( F(\textcolor{stringliteral}{"read configuration file "}) );
180             json.printTo(Serial);
181             Serial.println();
182 
183             Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
184             Serial.println(jsonBuffer.size());
185             Serial.println();
186 
187         
188 
189 \textcolor{preprocessor}{        #endif          }
190             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"active"}].success() )
191             \{           
192                 this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active} = json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"active"}]; 
193             \}
194             \textcolor{keywordflow}{else}
195             \{
196                 this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active}=this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.
      \hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active};
197             \}
198             json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"active"}]=this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active};
199 
200             
201             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"gain"}].success() )
202             \{           
203                 tempGain = json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"gain"}]; 
204                 this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}=this->\hyperlink{classIrene3000_abcad62d1201a59f8dd3ba87048002728}{gainConvert}(tempGain);
205             \}
206             \textcolor{keywordflow}{else}
207             \{
208                 this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}=this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain};
209             \}
210             json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"gain"}]=this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain};
211 
212             
213             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"active"}].success())
214             \{
215                 this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active}=json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"active"}];
216             \}
217             \textcolor{keywordflow}{else}
218             \{
219                 this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active}=this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active};
220             \}
221             json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"active"}]=this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active};
222     
223             
224             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"gain"}].success() )
225             \{       
226                 tempGain=json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"gain"}];
227                 this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}=this->\hyperlink{classIrene3000_abcad62d1201a59f8dd3ba87048002728}{gainConvert}(tempGain);           
228             \}
229             \textcolor{keywordflow}{else}
230             \{
231                 this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}=this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain};
232             \}
233             json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"gain"}]=this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain};
234 
235             
236             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"active"}].success() )
237             \{
238                 this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active}=json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"active"}];
239             \}
240             \textcolor{keywordflow}{else}
241             \{
242                 this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active}=this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active};
243             \}
244             json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"active"}]=this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active};
245 
246             
247             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"gain"}].success() )
248             \{           
249                 tempGain=json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"gain"}];
250                 this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}=this->\hyperlink{classIrene3000_abcad62d1201a59f8dd3ba87048002728}{gainConvert}(tempGain);
251             \}
252             \textcolor{keywordflow}{else}
253             \{
254                 this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}=this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain};
255             \}
256             json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"gain"}]=this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain};
257 
258             
259             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"type"}].success() )
260             \{
261                 this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a9897a7e02727db6351d44006eec73799}{type}=json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"type"}].as<String>(); 
262             \}
263             \textcolor{keywordflow}{else}
264             \{
265                 this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a9897a7e02727db6351d44006eec73799}{type}=this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a9897a7e02727db6351d44006eec73799}{type};
266             \}
267             json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"type"}]=this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a9897a7e02727db6351d44006eec73799}{type};
268 
269             irene3000Config.close();
270             irene3000Config = SPIFFS.open(\textcolor{stringliteral}{"/irene3000Config.json"}, \textcolor{stringliteral}{"w"});
271 
272             \textcolor{keywordflow}{if}(!irene3000Config)
273             \{
274             
275 \textcolor{preprocessor}{            #if DEBUG == 1}
276 
277                 Serial.println( F(\textcolor{stringliteral}{"failed to write to /irene3000Config.json"}) );
278                 Serial.println();
279             
280 \textcolor{preprocessor}{            #endif }
281 
282                 \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
283             \}
284 
285             json.printTo(irene3000Config);
286             irene3000Config.close();
287             
288 \textcolor{preprocessor}{        #if DEBUG == 1 }
289 
290             Serial.println( F(\textcolor{stringliteral}{"saved configuration file :"})  );
291             json.printTo(Serial);
292             Serial.println();
293         
294 \textcolor{preprocessor}{        #endif}
295 
296             \textcolor{keywordflow}{return}(\textcolor{keyword}{true}); 
297         \}
298     \}   
299 
300 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=326pt]{classIrene3000_afed5c35e4b23963c157847ef27c11e9c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=300pt]{classIrene3000_afed5c35e4b23963c157847ef27c11e9c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_abcad62d1201a59f8dd3ba87048002728}\label{classIrene3000_abcad62d1201a59f8dd3ba87048002728}} 
\index{Irene3000@{Irene3000}!gain\+Convert@{gain\+Convert}}
\index{gain\+Convert@{gain\+Convert}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{gain\+Convert()}{gainConvert()}}
{\footnotesize\ttfamily ads\+Gain\+\_\+t Irene3000\+::gain\+Convert (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{temp\+Gain }\end{DoxyParamCaption})}

\hyperlink{classIrene3000_abcad62d1201a59f8dd3ba87048002728}{Irene3000\+::gain\+Convert}( gain \+: \{ 2/3,1,2,4,8,16 \} ) This method is provided to convert the gain to Internal Constants

\begin{DoxyReturn}{Returns}
internal representation of the A\+DS gain 
\end{DoxyReturn}


Definition at line 632 of file irene3000.\+cpp.



Referenced by config().


\begin{DoxyCode}
633 \{
634 
635 \textcolor{preprocessor}{#if DEBUG == 1 }
636 
637     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.gainConvert()"}) );
638     Serial.println();
639 
640 \textcolor{preprocessor}{#endif }
641     
642     \textcolor{keywordflow}{switch}(tempGain)
643     \{
644         \textcolor{keywordflow}{case}(2/3): \textcolor{keywordflow}{return}(GAIN\_TWOTHIRDS);
645         \textcolor{keywordflow}{case}(1): \textcolor{keywordflow}{return} (GAIN\_ONE);
646         \textcolor{keywordflow}{case}(2) : \textcolor{keywordflow}{return}(GAIN\_TWO);
647         \textcolor{keywordflow}{case}(4): \textcolor{keywordflow}{return}(GAIN\_FOUR) ;   
648         \textcolor{keywordflow}{case}(8):\textcolor{keywordflow}{return}(GAIN\_EIGHT)  ;  
649         \textcolor{keywordflow}{case}(16):\textcolor{keywordflow}{return}(GAIN\_SIXTEEN);  
650     \}
651 
652 
653 
654 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_abcad62d1201a59f8dd3ba87048002728_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a7bc2414100b5e19eacc6630fa34b2654}\label{classIrene3000_a7bc2414100b5e19eacc6630fa34b2654}} 
\index{Irene3000@{Irene3000}!print\+Conf@{print\+Conf}}
\index{print\+Conf@{print\+Conf}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{print\+Conf()}{printConf()}}
{\footnotesize\ttfamily void Irene3000\+::print\+Conf (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classIrene3000_a7bc2414100b5e19eacc6630fa34b2654}{Irene3000\+::print\+Conf()}\+: This method is provided to print the configuration to the Serial Monitor 

Definition at line 307 of file irene3000.\+cpp.



References Irene3000\+::state\+::active, adc2, Irene3000\+::state\+::gain, ph\+Probe, Irene3000\+::state\+::type, and water\+Temp.



Referenced by Cool\+Board\+::begin().


\begin{DoxyCode}
308 \{
309 
310 \textcolor{preprocessor}{#if DEBUG == 1 }
311 
312     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.printConf()"}) );
313     Serial.println();
314 
315 \textcolor{preprocessor}{#endif }
316 
317     Serial.println(\textcolor{stringliteral}{"Irene Configuration "});
318 
319     Serial.print(\textcolor{stringliteral}{"waterTemp.active : "});
320     Serial.println(\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active});
321 
322     Serial.print(\textcolor{stringliteral}{"waterTemp.gain : "});
323     Serial.println(\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain},HEX);    
324 
325     Serial.print(\textcolor{stringliteral}{"phProbe.active : "});
326     Serial.println(\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active});
327 
328     Serial.print(\textcolor{stringliteral}{"phProbe.gain : "});
329     Serial.println(\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain},HEX);
330     
331     Serial.print(\textcolor{stringliteral}{"adc2.active : "});
332     Serial.println(\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active});
333 
334     Serial.print(\textcolor{stringliteral}{"adc2.gain : "});
335     Serial.println(\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain},HEX);
336 
337     Serial.print(\textcolor{stringliteral}{"adc2.type : "});
338     Serial.println(\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a9897a7e02727db6351d44006eec73799}{type});
339 
340     Serial.println();
341 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=313pt]{classIrene3000_a7bc2414100b5e19eacc6630fa34b2654_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a852a170feea994ea1df01c6b245b5d9a}\label{classIrene3000_a852a170feea994ea1df01c6b245b5d9a}} 
\index{Irene3000@{Irene3000}!read@{read}}
\index{read@{read}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily String Irene3000\+::read (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\hyperlink{classIrene3000}{Irene3000}\+:\hyperlink{classIrene3000_a852a170feea994ea1df01c6b245b5d9a}{read()}\+: This method is provided to read the \hyperlink{classIrene3000}{Irene3000} sensors data

\begin{DoxyReturn}{Returns}
json string of the sensors data 
\end{DoxyReturn}


Definition at line 59 of file irene3000.\+cpp.



References Irene3000\+::state\+::active, adc2, Irene3000\+::state\+::gain, ph\+Probe, read\+A\+D\+S\+Channel2(), read\+Ph(), read\+Temp(), Irene3000\+::state\+::type, and water\+Temp.



Referenced by Cool\+Board\+::read\+Sensors().


\begin{DoxyCode}
60 \{
61 
62 \textcolor{preprocessor}{#if DEBUG == 1 }
63     
64     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.read()"}) );
65     Serial.println();
66 
67 \textcolor{preprocessor}{#endif }
68 
69     String data;
70     DynamicJsonBuffer jsonBuffer;
71     JsonObject& root = jsonBuffer.createObject();
72     \textcolor{keywordflow}{if}( !( root.success()) )
73     \{
74     
75 \textcolor{preprocessor}{    #if DEBUG == 1 }
76 
77         Serial.println( F(\textcolor{stringliteral}{"failed to create json"}) );
78     
79 \textcolor{preprocessor}{    #endif }
80 
81         \textcolor{keywordflow}{return}(\textcolor{stringliteral}{""});
82     \}
83 
84         
85     \textcolor{keywordflow}{if}(\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active})
86     \{
87         root[\textcolor{stringliteral}{"waterTemp"}] = this->\hyperlink{classIrene3000_a94ad40f281d83ad1be20bf1edd6fe802}{readTemp}(\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain});
88 
89         \textcolor{keywordflow}{if}(\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active})
90         \{
91             root[\textcolor{stringliteral}{"ph"}] =this->\hyperlink{classIrene3000_abf3db725fabb0634ec889b32068a5eec}{readPh}(\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}) ;
92         \}
93 
94     \}
95 
96     \textcolor{keywordflow}{if}(\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active})
97     \{
98         root[\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a9897a7e02727db6351d44006eec73799}{type}] =this->\hyperlink{classIrene3000_ae73bd2ed14a199a7e83f4d6458476a7c}{readADSChannel2}(\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.
      \hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain});
99     \}
100     
101     root.printTo(data);
102     
103 \textcolor{preprocessor}{#if DEBUG == 1 }
104 
105     Serial.println( F(\textcolor{stringliteral}{"Irene data : "}) );
106     Serial.println(data);
107     Serial.println();
108 
109     Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
110     Serial.println(jsonBuffer.size());
111     Serial.println();
112 
113 
114 \textcolor{preprocessor}{#endif}
115     
116     \textcolor{keywordflow}{return}(data);
117     
118     
119 
120 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_a852a170feea994ea1df01c6b245b5d9a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_a852a170feea994ea1df01c6b245b5d9a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_ae73bd2ed14a199a7e83f4d6458476a7c}\label{classIrene3000_ae73bd2ed14a199a7e83f4d6458476a7c}} 
\index{Irene3000@{Irene3000}!read\+A\+D\+S\+Channel2@{read\+A\+D\+S\+Channel2}}
\index{read\+A\+D\+S\+Channel2@{read\+A\+D\+S\+Channel2}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{read\+A\+D\+S\+Channel2()}{readADSChannel2()}}
{\footnotesize\ttfamily int Irene3000\+::read\+A\+D\+S\+Channel2 (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::read\+A\+D\+S\+Channel2(gain)\+: This method is provided to read from the A\+DS channel 2 . A\+DS Channel 2 is free and the user can connect another analog sensor to it.

\begin{DoxyReturn}{Returns}
the A\+DS Channel 2 value 
\end{DoxyReturn}


Definition at line 400 of file irene3000.\+cpp.



References ads, free\+Adc, and set\+Gain().



Referenced by read().


\begin{DoxyCode}
401 \{   
402 
403 \textcolor{preprocessor}{#if DEBUG == 1 }
404     
405     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.readADSChannel2()"}) );
406     Serial.println();
407 
408 \textcolor{preprocessor}{#endif}
409 
410     this->\hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
411 
412 \textcolor{preprocessor}{#if DEBUG == 1 }
413     
414     Serial.println( F(\textcolor{stringliteral}{"adc2 value : "}) );
415     Serial.println(this->\hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_a55497513af255250e464ed76543d46d7}{freeAdc}) );
416     Serial.println();
417 
418 \textcolor{preprocessor}{#endif}
419 
420     \textcolor{keywordflow}{return}( this->\hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_a55497513af255250e464ed76543d46d7}{freeAdc}) ) ;
421 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_ae73bd2ed14a199a7e83f4d6458476a7c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_ae73bd2ed14a199a7e83f4d6458476a7c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_ae0e0a5b773c3625b44c1d113c76a1540}\label{classIrene3000_ae0e0a5b773c3625b44c1d113c76a1540}} 
\index{Irene3000@{Irene3000}!read\+Button@{read\+Button}}
\index{read\+Button@{read\+Button}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{read\+Button()}{readButton()}}
{\footnotesize\ttfamily int Irene3000\+::read\+Button (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::read\+Button(gain)\+: This method is provided to read the \hyperlink{classIrene3000}{Irene3000} button

\begin{DoxyReturn}{Returns}
the button value 
\end{DoxyReturn}


Definition at line 350 of file irene3000.\+cpp.



References ads, button, and set\+Gain().


\begin{DoxyCode}
351 \{
352 
353 \textcolor{preprocessor}{#if DEBUG == 1 }
354 
355     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.readButton()"} ) );
356     Serial.println();
357 
358 \textcolor{preprocessor}{#endif }
359 
360     this->\hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
361 
362 \textcolor{preprocessor}{#if DEBUG == 1}
363     
364     Serial.println( F(\textcolor{stringliteral}{"button value : "}) );
365     Serial.println(this->\hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_a37976ee6fe1fb8546bfd6153b83ffa6c}{button}) );
366 
367 \textcolor{preprocessor}{#endif }
368 
369     \textcolor{keywordflow}{return}( this->\hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_a37976ee6fe1fb8546bfd6153b83ffa6c}{button}) );
370     
371 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=328pt]{classIrene3000_ae0e0a5b773c3625b44c1d113c76a1540_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_abf3db725fabb0634ec889b32068a5eec}\label{classIrene3000_abf3db725fabb0634ec889b32068a5eec}} 
\index{Irene3000@{Irene3000}!read\+Ph@{read\+Ph}}
\index{read\+Ph@{read\+Ph}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{read\+Ph()}{readPh()}}
{\footnotesize\ttfamily float Irene3000\+::read\+Ph (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::read\+Ph(gain)\+: This method is provided to read the PH probe note that for the best results, PH must be correlated to Temperature.

\begin{DoxyReturn}{Returns}
the PH probe value 
\end{DoxyReturn}


Definition at line 431 of file irene3000.\+cpp.



References A\+D\+C\+\_\+\+M\+A\+X\+I\+M\+U\+M\+\_\+\+V\+A\+L\+UE, ads, opamp\+Gain, params, ph, Irene3000\+::parameters\+\_\+\+T\+::p\+H7\+Cal, Irene3000\+::parameters\+\_\+\+T\+::p\+H\+Step, set\+Gain(), and v\+Ref.



Referenced by read().


\begin{DoxyCode}
432 \{
433 
434 \textcolor{preprocessor}{#if DEBUG == 1 }
435 
436     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.readPh()"}) );
437     Serial.println();
438 
439 \textcolor{preprocessor}{#endif }
440 
441     this->\hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
442 
443     \textcolor{keywordtype}{double} Voltage =  gain * ( \hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_af771ceafe0e6524dd8497d4305dfe778}{ph}) ) / 
      \hyperlink{Irene3000_8h_ae04444a85a37b5dce09107f2ce2b2c80}{ADC\_MAXIMUM\_VALUE};
444 
445     \textcolor{keywordtype}{float} miliVolts = Voltage * 1000;
446     \textcolor{keywordtype}{float} temporary = ((((\hyperlink{classIrene3000_a018e7ff9bee57e6d2b298667a668ba7e}{vRef} * (float)\hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a21265466a570d84bff914f26d2f7a03e}{pH7Cal}) / 32767) * 1000) - miliVolts) / 
      \hyperlink{classIrene3000_a4e588985ca74e5076029d5dee81034f2}{opampGain};
447 
448 \textcolor{preprocessor}{#if DEBUG == 1 }
449 
450     Serial.println( F(\textcolor{stringliteral}{"ph is : "}) );
451     Serial.println( 7 - (temporary / \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a61cfcc2539d5f630e9071f3753aba9fe}{pHStep}) ) ;
452 
453 \textcolor{preprocessor}{#endif }
454 
455     \textcolor{keywordflow}{return}( 7 - (temporary / \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a61cfcc2539d5f630e9071f3753aba9fe}{pHStep}) );
456 
457 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=311pt]{classIrene3000_abf3db725fabb0634ec889b32068a5eec_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_abf3db725fabb0634ec889b32068a5eec_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a94ad40f281d83ad1be20bf1edd6fe802}\label{classIrene3000_a94ad40f281d83ad1be20bf1edd6fe802}} 
\index{Irene3000@{Irene3000}!read\+Temp@{read\+Temp}}
\index{read\+Temp@{read\+Temp}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{read\+Temp()}{readTemp()}}
{\footnotesize\ttfamily double Irene3000\+::read\+Temp (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::read\+Temp(gain)\+: This method is provided to read the Temeperature probe

\begin{DoxyReturn}{Returns}
the Temperature probe value 
\end{DoxyReturn}


Definition at line 466 of file irene3000.\+cpp.



References ads, set\+Gain(), temp, and V\+\_\+\+G\+A\+I\+N\+\_\+8.



Referenced by read().


\begin{DoxyCode}
467 \{
468 
469 \textcolor{preprocessor}{#if DEBUG == 1 }
470 
471     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.readTemp()"}) );
472     Serial.println();
473 
474 \textcolor{preprocessor}{#endif}
475 
476     \textcolor{keyword}{const} \textcolor{keywordtype}{double} A = 3.9083E-3;
477     \textcolor{keyword}{const} \textcolor{keywordtype}{double} B = -5.775E-7;
478     \textcolor{keywordtype}{double} T;
479 
480     this->\hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
481     \textcolor{keywordtype}{double} adc0 = \hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp});
482 
483 
484     \textcolor{keywordtype}{double} R = ( ( adc0 * \hyperlink{Irene3000_8h_ab7ab16df599d3f0ce29e12791a504891}{V\_GAIN\_8} ) / 0.095 ) / 1000 ;
485 
486     T = 0.0 - A;
487     T += sqrt((A * A) - 4.0 * B * (1.0 - R));
488     T /= (2.0 * B);
489 
490     \textcolor{keywordflow}{if} (T > 0 && T < 200) 
491     \{
492 
493 \textcolor{preprocessor}{    #if DEBUG == 1 }
494 
495         Serial.print( F(\textcolor{stringliteral}{" temperature : "}) );
496         Serial.println(T);
497         Serial.println();
498     
499 \textcolor{preprocessor}{    #endif }
500         \textcolor{keywordflow}{if}(isnan(T))
501         \{
502             \textcolor{keywordflow}{return}(-300);           
503         \}
504 
505         \textcolor{keywordflow}{return} T;
506     \}
507     \textcolor{keywordflow}{else} 
508     \{
509         T = 0.0 - A;
510         T -= sqrt((A * A) - 4.0 * B * (1.0 - R));
511         T /= (2.0 * B);
512     
513 \textcolor{preprocessor}{    #if DEBUG == 1 }
514     
515         Serial.println( F(\textcolor{stringliteral}{"temperature : "}) );
516         Serial.println(T);
517         Serial.println();
518     
519 \textcolor{preprocessor}{    #endif}
520         \textcolor{keywordflow}{if}(isnan(T))
521         \{
522             \textcolor{keywordflow}{return}(-400);           
523         \}
524 
525         \textcolor{keywordflow}{return} T;
526     \}
527 
528 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=324pt]{classIrene3000_a94ad40f281d83ad1be20bf1edd6fe802_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_a94ad40f281d83ad1be20bf1edd6fe802_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a0fba280e8b7c881307efa31281aa691d}\label{classIrene3000_a0fba280e8b7c881307efa31281aa691d}} 
\index{Irene3000@{Irene3000}!reset\+Params@{reset\+Params}}
\index{reset\+Params@{reset\+Params}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{reset\+Params()}{resetParams()}}
{\footnotesize\ttfamily void Irene3000\+::reset\+Params (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\hyperlink{classIrene3000_a0fba280e8b7c881307efa31281aa691d}{Irene3000\+::reset\+Params()}\+: This method is provided to reset the PH configuration, assuming Ideal configuration 

Definition at line 606 of file irene3000.\+cpp.



References params, Irene3000\+::parameters\+\_\+\+T\+::p\+H4\+Cal, Irene3000\+::parameters\+\_\+\+T\+::p\+H7\+Cal, Irene3000\+::parameters\+\_\+\+T\+::p\+H\+Step, Write\+\_\+\+Check, and Irene3000\+::parameters\+\_\+\+T\+::\+Write\+Check.


\begin{DoxyCode}
607 \{
608 
609 \textcolor{preprocessor}{#if DEBUG == 1 }
610 
611     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.resetParams()"}) );
612     Serial.println();
613 
614 \textcolor{preprocessor}{#endif }
615 
616     \textcolor{comment}{//Restore to default set of parameters!}
617     \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a56f1f14d33a69300d580eda2dc52cecd}{WriteCheck} = \hyperlink{Irene3000_8h_a9fa3b8fd890fde289060ee254cd273d5}{Write\_Check};
618     \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a21265466a570d84bff914f26d2f7a03e}{pH7Cal} = 16384; \textcolor{comment}{//assume ideal probe and amp conditions 1/2 of 4096}
619     \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a1144de6fb54eb3e1dd2a3d8c2afc97dc}{pH4Cal} = 8192; \textcolor{comment}{//using ideal probe slope we end up this many 12bit units away on the
       4 scale}
620     \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a61cfcc2539d5f630e9071f3753aba9fe}{pHStep} = 59.16;\textcolor{comment}{//ideal probe slope}
621 
622 
623 \}
\end{DoxyCode}
\mbox{\Hypertarget{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}\label{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}} 
\index{Irene3000@{Irene3000}!set\+Gain@{set\+Gain}}
\index{set\+Gain@{set\+Gain}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{set\+Gain()}{setGain()}}
{\footnotesize\ttfamily void Irene3000\+::set\+Gain (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::set\+Gain(gain)\+: This method is provided to set the A\+DS chip gain 

Definition at line 378 of file irene3000.\+cpp.



References ads.



Referenced by calibratep\+H4(), calibratep\+H7(), read\+A\+D\+S\+Channel2(), read\+Button(), read\+Ph(), and read\+Temp().


\begin{DoxyCode}
379 \{
380 
381 \textcolor{preprocessor}{#if DEBUG == 1  }
382 
383     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.setGain()"}) );
384     Serial.println();
385 
386 \textcolor{preprocessor}{#endif}
387 
388     this->\hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.setGain(gain);
389 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_aff7c5da186b388e7272e63ff88a20c34_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}\label{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}} 
\index{Irene3000@{Irene3000}!adc2@{adc2}}
\index{adc2@{adc2}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{adc2}{adc2}}
{\footnotesize\ttfamily struct \hyperlink{structIrene3000_1_1state}{Irene3000\+::state} Irene3000\+::adc2\hspace{0.3cm}{\ttfamily [private]}}



Referenced by config(), print\+Conf(), and read().

\mbox{\Hypertarget{classIrene3000_a1215e77ba761c9908d80d691f149e135}\label{classIrene3000_a1215e77ba761c9908d80d691f149e135}} 
\index{Irene3000@{Irene3000}!ads@{ads}}
\index{ads@{ads}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{ads}{ads}}
{\footnotesize\ttfamily Adafruit\+\_\+\+A\+D\+S1115 Irene3000\+::ads\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 70 of file Irene3000.\+h.



Referenced by begin(), calibratep\+H4(), calibratep\+H7(), read\+A\+D\+S\+Channel2(), read\+Button(), read\+Ph(), read\+Temp(), and set\+Gain().

\mbox{\Hypertarget{classIrene3000_a4e588985ca74e5076029d5dee81034f2}\label{classIrene3000_a4e588985ca74e5076029d5dee81034f2}} 
\index{Irene3000@{Irene3000}!opamp\+Gain@{opamp\+Gain}}
\index{opamp\+Gain@{opamp\+Gain}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{opamp\+Gain}{opampGain}}
{\footnotesize\ttfamily const float Irene3000\+::opamp\+Gain = 5.\+25\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 89 of file Irene3000.\+h.



Referenced by calcp\+H\+Slope(), and read\+Ph().

\mbox{\Hypertarget{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}\label{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}} 
\index{Irene3000@{Irene3000}!params@{params}}
\index{params@{params}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{params}{params}}
{\footnotesize\ttfamily struct \hyperlink{structIrene3000_1_1parameters__T}{Irene3000\+::parameters\+\_\+T} Irene3000\+::params\hspace{0.3cm}{\ttfamily [private]}}



Referenced by calcp\+H\+Slope(), calibratep\+H4(), calibratep\+H7(), read\+Ph(), and reset\+Params().

\mbox{\Hypertarget{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}\label{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}} 
\index{Irene3000@{Irene3000}!ph\+Probe@{ph\+Probe}}
\index{ph\+Probe@{ph\+Probe}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{ph\+Probe}{phProbe}}
{\footnotesize\ttfamily struct \hyperlink{structIrene3000_1_1state}{Irene3000\+::state}  Irene3000\+::ph\+Probe\hspace{0.3cm}{\ttfamily [private]}}



Referenced by config(), print\+Conf(), and read().

\mbox{\Hypertarget{classIrene3000_a018e7ff9bee57e6d2b298667a668ba7e}\label{classIrene3000_a018e7ff9bee57e6d2b298667a668ba7e}} 
\index{Irene3000@{Irene3000}!v\+Ref@{v\+Ref}}
\index{v\+Ref@{v\+Ref}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{v\+Ref}{vRef}}
{\footnotesize\ttfamily const float Irene3000\+::v\+Ref = 1.\+024\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 87 of file Irene3000.\+h.



Referenced by calcp\+H\+Slope(), and read\+Ph().

\mbox{\Hypertarget{classIrene3000_af05612c78c758ce9db316c75ad937130}\label{classIrene3000_af05612c78c758ce9db316c75ad937130}} 
\index{Irene3000@{Irene3000}!water\+Temp@{water\+Temp}}
\index{water\+Temp@{water\+Temp}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{water\+Temp}{waterTemp}}
{\footnotesize\ttfamily struct \hyperlink{structIrene3000_1_1state}{Irene3000\+::state}  Irene3000\+::water\+Temp\hspace{0.3cm}{\ttfamily [private]}}



Referenced by config(), print\+Conf(), and read().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{Irene3000_8h}{Irene3000.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{irene3000_8cpp}{irene3000.\+cpp}\end{DoxyCompactItemize}
