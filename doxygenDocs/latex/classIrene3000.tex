\hypertarget{classIrene3000}{}\section{Irene3000 Class Reference}
\label{classIrene3000}\index{Irene3000@{Irene3000}}


This class is provided to manage the \hyperlink{classIrene3000}{Irene3000} Ph/\+Temperature Shield.  




{\ttfamily \#include $<$Irene3000.\+h$>$}



Collaboration diagram for Irene3000\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=310pt]{classIrene3000__coll__graph}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structIrene3000_1_1parameters__T}{parameters\+\_\+T}
\item 
struct \hyperlink{structIrene3000_1_1state}{state}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classIrene3000_ad5891806c500ae1007afe52b9e304c2b}{begin} ()
\item 
bool \hyperlink{classIrene3000_afed5c35e4b23963c157847ef27c11e9c}{config} ()
\item 
void \hyperlink{classIrene3000_a7bc2414100b5e19eacc6630fa34b2654}{print\+Conf} ()
\item 
String \hyperlink{classIrene3000_a852a170feea994ea1df01c6b245b5d9a}{read} ()
\item 
int \hyperlink{classIrene3000_ae0e0a5b773c3625b44c1d113c76a1540}{read\+Button} (ads\+Gain\+\_\+t gain)
\item 
void \hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{set\+Gain} (ads\+Gain\+\_\+t gain)
\item 
int \hyperlink{classIrene3000_ae73bd2ed14a199a7e83f4d6458476a7c}{read\+A\+D\+S\+Channel2} (ads\+Gain\+\_\+t gain)
\item 
float \hyperlink{classIrene3000_abf3db725fabb0634ec889b32068a5eec}{read\+Ph} (ads\+Gain\+\_\+t gain)
\item 
double \hyperlink{classIrene3000_a94ad40f281d83ad1be20bf1edd6fe802}{read\+Temp} (ads\+Gain\+\_\+t gain)
\item 
void \hyperlink{classIrene3000_a0fba280e8b7c881307efa31281aa691d}{reset\+Params} (void)
\item 
void \hyperlink{classIrene3000_a2e810ddfa8b95eaa2446a408761c6bdc}{calibratep\+H7} (ads\+Gain\+\_\+t gain)
\item 
void \hyperlink{classIrene3000_a9772eeea2305fad6236a82e33e93892e}{calibratep\+H4} (ads\+Gain\+\_\+t gain)
\item 
void \hyperlink{classIrene3000_a81f6a79e546679692053f7ac1af49613}{calcp\+H\+Slope} ()
\item 
ads\+Gain\+\_\+t \hyperlink{classIrene3000_abcad62d1201a59f8dd3ba87048002728}{gain\+Convert} (uint16\+\_\+t temp\+Gain)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
Adafruit\+\_\+\+A\+D\+S1115 \hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}
\item 
struct \hyperlink{structIrene3000_1_1parameters__T}{Irene3000\+::parameters\+\_\+T} \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}
\item 
struct \hyperlink{structIrene3000_1_1state}{Irene3000\+::state} \hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{water\+Temp}
\item 
struct \hyperlink{structIrene3000_1_1state}{Irene3000\+::state} \hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{ph\+Probe}
\item 
struct \hyperlink{structIrene3000_1_1state}{Irene3000\+::state} \hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}
\item 
int \hyperlink{classIrene3000_a6534710e4c81669dcc828d2c5450fabe}{irene\+Json\+Size} =100
\item 
const float \hyperlink{classIrene3000_a018e7ff9bee57e6d2b298667a668ba7e}{v\+Ref} = 1.\+024
\item 
const float \hyperlink{classIrene3000_a4e588985ca74e5076029d5dee81034f2}{opamp\+Gain} = 5.\+25
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class is provided to manage the \hyperlink{classIrene3000}{Irene3000} Ph/\+Temperature Shield. 

Definition at line 35 of file Irene3000.\+h.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classIrene3000_ad5891806c500ae1007afe52b9e304c2b}\label{classIrene3000_ad5891806c500ae1007afe52b9e304c2b}} 
\index{Irene3000@{Irene3000}!begin@{begin}}
\index{begin@{begin}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily void Irene3000\+::begin (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\hyperlink{classIrene3000_ad5891806c500ae1007afe52b9e304c2b}{Irene3000\+::begin()}\+: This method is provided to start the \hyperlink{classIrene3000}{Irene3000} A\+DS chip 

Definition at line 38 of file irene3000.\+cpp.



References ads.



Referenced by Cool\+Board\+::begin().


\begin{DoxyCode}
39 \{
40 
41 \textcolor{preprocessor}{#if DEBUG == 1 }
42 
43     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.begin()"}) );
44     Serial.println();
45 
46 \textcolor{preprocessor}{#endif}
47 
48     this->\hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.begin();
49 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=297pt]{classIrene3000_ad5891806c500ae1007afe52b9e304c2b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a81f6a79e546679692053f7ac1af49613}\label{classIrene3000_a81f6a79e546679692053f7ac1af49613}} 
\index{Irene3000@{Irene3000}!calcp\+H\+Slope@{calcp\+H\+Slope}}
\index{calcp\+H\+Slope@{calcp\+H\+Slope}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{calcp\+H\+Slope()}{calcpHSlope()}}
{\footnotesize\ttfamily void Irene3000\+::calcp\+H\+Slope (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Irene3000\+::calcp\+H\+Slop()\+: This method is provided to calculate th PH slope 

Definition at line 586 of file irene3000.\+cpp.



References opamp\+Gain, params, Irene3000\+::parameters\+\_\+\+T\+::p\+H4\+Cal, Irene3000\+::parameters\+\_\+\+T\+::p\+H7\+Cal, Irene3000\+::parameters\+\_\+\+T\+::p\+H\+Step, and v\+Ref.



Referenced by calibratep\+H4(), and calibratep\+H7().


\begin{DoxyCode}
587 \{
588 
589 \textcolor{preprocessor}{#if DEBUG == 1 }
590 
591     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.calcpHSlope()"}) );
592     Serial.println();
593 
594 \textcolor{preprocessor}{#endif }
595 
596     \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a61cfcc2539d5f630e9071f3753aba9fe}{pHStep} = ((((\hyperlink{classIrene3000_a018e7ff9bee57e6d2b298667a668ba7e}{vRef} * (float)(\hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a21265466a570d84bff914f26d2f7a03e}{pH7Cal} - 
      \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a1144de6fb54eb3e1dd2a3d8c2afc97dc}{pH4Cal})) / 32767) * 1000) / \hyperlink{classIrene3000_a4e588985ca74e5076029d5dee81034f2}{opampGain}) / 3;
597 
598  
599 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_a81f6a79e546679692053f7ac1af49613_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a9772eeea2305fad6236a82e33e93892e}\label{classIrene3000_a9772eeea2305fad6236a82e33e93892e}} 
\index{Irene3000@{Irene3000}!calibratep\+H4@{calibratep\+H4}}
\index{calibratep\+H4@{calibratep\+H4}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{calibratep\+H4()}{calibratepH4()}}
{\footnotesize\ttfamily void Irene3000\+::calibratep\+H4 (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::calibratep\+H4(gain)\+: This method is provided to calibrate the PH probe to 4 

Definition at line 561 of file irene3000.\+cpp.



References ads, calcp\+H\+Slope(), params, ph, Irene3000\+::parameters\+\_\+\+T\+::p\+H4\+Cal, and set\+Gain().


\begin{DoxyCode}
562 \{
563 
564 \textcolor{preprocessor}{#if DEBUG == 1 }
565 
566     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.calibraph4()"}) );
567     Serial.println();
568 
569 \textcolor{preprocessor}{#endif }
570     
571     this->\hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
572 
573     this->\hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a1144de6fb54eb3e1dd2a3d8c2afc97dc}{pH4Cal} =  \hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_af771ceafe0e6524dd8497d4305dfe778}{ph});
574 
575     this->\hyperlink{classIrene3000_a81f6a79e546679692053f7ac1af49613}{calcpHSlope}();
576 
577 
578 
579 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_a9772eeea2305fad6236a82e33e93892e_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a2e810ddfa8b95eaa2446a408761c6bdc}\label{classIrene3000_a2e810ddfa8b95eaa2446a408761c6bdc}} 
\index{Irene3000@{Irene3000}!calibratep\+H7@{calibratep\+H7}}
\index{calibratep\+H7@{calibratep\+H7}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{calibratep\+H7()}{calibratepH7()}}
{\footnotesize\ttfamily void Irene3000\+::calibratep\+H7 (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::calibratep\+H7(gain)\+: This method is provided to calibrate the PH probe to 7 

Definition at line 537 of file irene3000.\+cpp.



References ads, calcp\+H\+Slope(), params, ph, Irene3000\+::parameters\+\_\+\+T\+::p\+H7\+Cal, and set\+Gain().


\begin{DoxyCode}
538 \{
539 
540 \textcolor{preprocessor}{#if DEBUG == 1 }
541 
542     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.calibratepH7() "}) );
543     Serial.println();
544 
545 \textcolor{preprocessor}{#endif }
546 
547     this->\hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
548         
549     this->\hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a21265466a570d84bff914f26d2f7a03e}{pH7Cal} = \hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_af771ceafe0e6524dd8497d4305dfe778}{ph});
550  
551     this->\hyperlink{classIrene3000_a81f6a79e546679692053f7ac1af49613}{calcpHSlope}();
552 
553 
554 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_a2e810ddfa8b95eaa2446a408761c6bdc_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_afed5c35e4b23963c157847ef27c11e9c}\label{classIrene3000_afed5c35e4b23963c157847ef27c11e9c}} 
\index{Irene3000@{Irene3000}!config@{config}}
\index{config@{config}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{config()}{config()}}
{\footnotesize\ttfamily bool Irene3000\+::config (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classIrene3000_afed5c35e4b23963c157847ef27c11e9c}{Irene3000\+::config()}\+: This method is provided to configure the \hyperlink{classIrene3000}{Irene3000} shield through a configuration file

\begin{DoxyReturn}{Returns}
true if successful,false otherwise 
\end{DoxyReturn}


Definition at line 124 of file irene3000.\+cpp.



References Irene3000\+::state\+::active, adc2, Irene3000\+::state\+::gain, gain\+Convert(), irene\+Json\+Size, ph\+Probe, Irene3000\+::state\+::type, and water\+Temp.



Referenced by Cool\+Board\+::begin(), and Cool\+Board\+::update().


\begin{DoxyCode}
125 \{
126 
127 \textcolor{preprocessor}{#if DEBUG == 1 }
128 
129     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.config()"}) );
130     Serial.println();
131 
132 \textcolor{preprocessor}{#endif}
133 
134     File irene3000Config = SPIFFS.open(\textcolor{stringliteral}{"/irene3000Config.json"}, \textcolor{stringliteral}{"r"});
135 
136     \textcolor{keywordflow}{if} (!irene3000Config) 
137     \{
138     
139 \textcolor{preprocessor}{    #if DEBUG == 1 }
140 
141         Serial.println( F(\textcolor{stringliteral}{"failed to read /irene3000Config.json"}) );
142         Serial.println();
143     
144 \textcolor{preprocessor}{    #endif}
145 
146         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
147     \}
148     \textcolor{keywordflow}{else}
149     \{
150         \textcolor{keywordtype}{size\_t} size = irene3000Config.size();
151         \textcolor{comment}{// Allocate a buffer to store contents of the file.}
152         std::unique\_ptr<char[]> buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
153             uint16\_t tempGain;
154         irene3000Config.readBytes(buf.get(), size);
155         DynamicJsonBuffer jsonBuffer;
156         JsonObject& json = jsonBuffer.parseObject(buf.get());
157         \textcolor{keywordflow}{if} (!json.success()) 
158         \{
159         
160 \textcolor{preprocessor}{        #if DEBUG == 1 }
161 
162             Serial.println( F(\textcolor{stringliteral}{"failed to parse json "}) );
163             Serial.println();
164         
165 \textcolor{preprocessor}{        #endif}
166             
167             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
168         \} 
169         \textcolor{keywordflow}{else}
170         \{
171         
172 \textcolor{preprocessor}{        #if DEBUG == 1 }
173     
174             Serial.println( F(\textcolor{stringliteral}{"read configuration file "}) );
175             json.printTo(Serial);
176             Serial.println();
177         
178 \textcolor{preprocessor}{        #endif }
179             
180             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"ireneJsonSize"}].success() )
181             \{
182                 this->\hyperlink{classIrene3000_a6534710e4c81669dcc828d2c5450fabe}{ireneJsonSize}=json[\textcolor{stringliteral}{"ireneJsonSize"}];
183             \}
184             \textcolor{keywordflow}{else}
185             \{
186                 this->\hyperlink{classIrene3000_a6534710e4c81669dcc828d2c5450fabe}{ireneJsonSize}=this->\hyperlink{classIrene3000_a6534710e4c81669dcc828d2c5450fabe}{ireneJsonSize};
187             \}
188             json[\textcolor{stringliteral}{"ireneJsonSize"}]=this->\hyperlink{classIrene3000_a6534710e4c81669dcc828d2c5450fabe}{ireneJsonSize};
189 
190             
191             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"active"}].success() )
192             \{           
193                 this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active} = json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"active"}]; 
194             \}
195             \textcolor{keywordflow}{else}
196             \{
197                 this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active}=this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.
      \hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active};
198             \}
199             json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"active"}]=this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active};
200 
201             
202             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"gain"}].success() )
203             \{           
204                 tempGain = json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"gain"}]; 
205                 this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}=this->\hyperlink{classIrene3000_abcad62d1201a59f8dd3ba87048002728}{gainConvert}(tempGain);
206             \}
207             \textcolor{keywordflow}{else}
208             \{
209                 this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}=this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain};
210             \}
211             json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"gain"}]=this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain};
212 
213             
214             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"active"}].success())
215             \{
216                 this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active}=json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"active"}];
217             \}
218             \textcolor{keywordflow}{else}
219             \{
220                 this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active}=this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active};
221             \}
222             json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"active"}]=this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active};
223     
224             
225             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"gain"}].success() )
226             \{       
227                 tempGain=json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"gain"}];
228                 this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}=this->\hyperlink{classIrene3000_abcad62d1201a59f8dd3ba87048002728}{gainConvert}(tempGain);           
229             \}
230             \textcolor{keywordflow}{else}
231             \{
232                 this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}=this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain};
233             \}
234             json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"gain"}]=this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain};
235 
236             
237             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"active"}].success() )
238             \{
239                 this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active}=json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"active"}];
240             \}
241             \textcolor{keywordflow}{else}
242             \{
243                 this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active}=this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active};
244             \}
245             json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"active"}]=this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active};
246 
247             
248             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"gain"}].success() )
249             \{           
250                 tempGain=json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"gain"}];
251                 this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}=this->\hyperlink{classIrene3000_abcad62d1201a59f8dd3ba87048002728}{gainConvert}(tempGain);
252             \}
253             \textcolor{keywordflow}{else}
254             \{
255                 this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}=this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain};
256             \}
257             json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"gain"}]=this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain};
258 
259             
260             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"type"}].success() )
261             \{
262                 this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a9897a7e02727db6351d44006eec73799}{type}=json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"type"}].as<String>(); 
263             \}
264             \textcolor{keywordflow}{else}
265             \{
266                 this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a9897a7e02727db6351d44006eec73799}{type}=this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a9897a7e02727db6351d44006eec73799}{type};
267             \}
268             json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"type"}]=this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a9897a7e02727db6351d44006eec73799}{type};
269 
270             irene3000Config.close();
271             irene3000Config = SPIFFS.open(\textcolor{stringliteral}{"/irene3000Config.json"}, \textcolor{stringliteral}{"w"});
272 
273             \textcolor{keywordflow}{if}(!irene3000Config)
274             \{
275             
276 \textcolor{preprocessor}{            #if DEBUG == 1}
277 
278                 Serial.println( F(\textcolor{stringliteral}{"failed to write to /irene3000Config.json"}) );
279                 Serial.println();
280             
281 \textcolor{preprocessor}{            #endif }
282 
283                 \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
284             \}
285 
286             json.printTo(irene3000Config);
287             irene3000Config.close();
288             
289 \textcolor{preprocessor}{        #if DEBUG == 1 }
290 
291             Serial.println( F(\textcolor{stringliteral}{"saved configuration file :"})  );
292             json.printTo(Serial);
293             Serial.println();
294         
295 \textcolor{preprocessor}{        #endif}
296 
297             \textcolor{keywordflow}{return}(\textcolor{keyword}{true}); 
298         \}
299     \}   
300 
301 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=326pt]{classIrene3000_afed5c35e4b23963c157847ef27c11e9c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_afed5c35e4b23963c157847ef27c11e9c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_abcad62d1201a59f8dd3ba87048002728}\label{classIrene3000_abcad62d1201a59f8dd3ba87048002728}} 
\index{Irene3000@{Irene3000}!gain\+Convert@{gain\+Convert}}
\index{gain\+Convert@{gain\+Convert}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{gain\+Convert()}{gainConvert()}}
{\footnotesize\ttfamily ads\+Gain\+\_\+t Irene3000\+::gain\+Convert (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{temp\+Gain }\end{DoxyParamCaption})}

\hyperlink{classIrene3000_abcad62d1201a59f8dd3ba87048002728}{Irene3000\+::gain\+Convert}( gain \+: \{ 2/3,1,2,4,8,16 \} ) This method is provided to convert the gain to Internal Constants

\begin{DoxyReturn}{Returns}
internal representation of the A\+DS gain 
\end{DoxyReturn}


Definition at line 633 of file irene3000.\+cpp.



Referenced by config().


\begin{DoxyCode}
634 \{
635 
636 \textcolor{preprocessor}{#if DEBUG == 1 }
637 
638     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.gainConvert()"}) );
639     Serial.println();
640 
641 \textcolor{preprocessor}{#endif }
642     
643     \textcolor{keywordflow}{switch}(tempGain)
644     \{
645         \textcolor{keywordflow}{case}(2/3): \textcolor{keywordflow}{return}(GAIN\_TWOTHIRDS);
646         \textcolor{keywordflow}{case}(1): \textcolor{keywordflow}{return} (GAIN\_ONE);
647         \textcolor{keywordflow}{case}(2) : \textcolor{keywordflow}{return}(GAIN\_TWO);
648         \textcolor{keywordflow}{case}(4): \textcolor{keywordflow}{return}(GAIN\_FOUR) ;   
649         \textcolor{keywordflow}{case}(8):\textcolor{keywordflow}{return}(GAIN\_EIGHT)  ;  
650         \textcolor{keywordflow}{case}(16):\textcolor{keywordflow}{return}(GAIN\_SIXTEEN);  
651     \}
652 
653 
654 
655 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_abcad62d1201a59f8dd3ba87048002728_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a7bc2414100b5e19eacc6630fa34b2654}\label{classIrene3000_a7bc2414100b5e19eacc6630fa34b2654}} 
\index{Irene3000@{Irene3000}!print\+Conf@{print\+Conf}}
\index{print\+Conf@{print\+Conf}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{print\+Conf()}{printConf()}}
{\footnotesize\ttfamily void Irene3000\+::print\+Conf (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classIrene3000_a7bc2414100b5e19eacc6630fa34b2654}{Irene3000\+::print\+Conf()}\+: This method is provided to print the configuration to the Serial Monitor 

Definition at line 308 of file irene3000.\+cpp.



References Irene3000\+::state\+::active, adc2, Irene3000\+::state\+::gain, ph\+Probe, Irene3000\+::state\+::type, and water\+Temp.



Referenced by Cool\+Board\+::begin().


\begin{DoxyCode}
309 \{
310 
311 \textcolor{preprocessor}{#if DEBUG == 1 }
312 
313     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.printConf()"}) );
314     Serial.println();
315 
316 \textcolor{preprocessor}{#endif }
317 
318     Serial.println(\textcolor{stringliteral}{"Irene Configuration "});
319 
320     Serial.print(\textcolor{stringliteral}{"waterTemp.active : "});
321     Serial.println(\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active});
322 
323     Serial.print(\textcolor{stringliteral}{"waterTemp.gain : "});
324     Serial.println(\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain},HEX);    
325 
326     Serial.print(\textcolor{stringliteral}{"phProbe.active : "});
327     Serial.println(\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active});
328 
329     Serial.print(\textcolor{stringliteral}{"phProbe.gain : "});
330     Serial.println(\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain},HEX);
331     
332     Serial.print(\textcolor{stringliteral}{"adc2.active : "});
333     Serial.println(\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active});
334 
335     Serial.print(\textcolor{stringliteral}{"adc2.gain : "});
336     Serial.println(\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain},HEX);
337 
338     Serial.print(\textcolor{stringliteral}{"adc2.type : "});
339     Serial.println(\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a9897a7e02727db6351d44006eec73799}{type});
340 
341     Serial.println();
342 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=313pt]{classIrene3000_a7bc2414100b5e19eacc6630fa34b2654_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a852a170feea994ea1df01c6b245b5d9a}\label{classIrene3000_a852a170feea994ea1df01c6b245b5d9a}} 
\index{Irene3000@{Irene3000}!read@{read}}
\index{read@{read}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily String Irene3000\+::read (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\hyperlink{classIrene3000}{Irene3000}\+:\hyperlink{classIrene3000_a852a170feea994ea1df01c6b245b5d9a}{read()}\+: This method is provided to read the \hyperlink{classIrene3000}{Irene3000} sensors data

\begin{DoxyReturn}{Returns}
json string of the sensors data 
\end{DoxyReturn}


Definition at line 59 of file irene3000.\+cpp.



References Irene3000\+::state\+::active, adc2, Irene3000\+::state\+::gain, irene\+Json\+Size, ph\+Probe, read\+A\+D\+S\+Channel2(), read\+Ph(), read\+Temp(), Irene3000\+::state\+::type, and water\+Temp.



Referenced by Cool\+Board\+::read\+Sensors().


\begin{DoxyCode}
60 \{
61 
62 \textcolor{preprocessor}{#if DEBUG == 1 }
63     
64     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.read()"}) );
65     Serial.println();
66 
67 \textcolor{preprocessor}{#endif }
68 
69     String data;
70     DynamicJsonBuffer jsonBuffer(\hyperlink{classIrene3000_a6534710e4c81669dcc828d2c5450fabe}{ireneJsonSize});
71     JsonObject& root = jsonBuffer.createObject();
72     \textcolor{keywordflow}{if}( !( root.success()) )
73     \{
74     
75 \textcolor{preprocessor}{    #if DEBUG == 1 }
76 
77         Serial.println( F(\textcolor{stringliteral}{"failed to create json"}) );
78     
79 \textcolor{preprocessor}{    #endif }
80 
81         \textcolor{keywordflow}{return}(\textcolor{stringliteral}{""});
82     \}
83 
84         
85     \textcolor{keywordflow}{if}(\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active})
86     \{
87         root[\textcolor{stringliteral}{"waterTemp"}] = this->\hyperlink{classIrene3000_a94ad40f281d83ad1be20bf1edd6fe802}{readTemp}(\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain});
88 
89         \textcolor{keywordflow}{if}(\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active})
90         \{
91             root[\textcolor{stringliteral}{"ph"}] =this->\hyperlink{classIrene3000_abf3db725fabb0634ec889b32068a5eec}{readPh}(\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}) ;
92         \}
93 
94     \}
95 
96     \textcolor{keywordflow}{if}(\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active})
97     \{
98         root[\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a9897a7e02727db6351d44006eec73799}{type}] =this->\hyperlink{classIrene3000_ae73bd2ed14a199a7e83f4d6458476a7c}{readADSChannel2}(\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.
      \hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain});
99     \}
100     
101     root.printTo(data);
102     
103 \textcolor{preprocessor}{#if DEBUG == 1 }
104 
105     Serial.println( F(\textcolor{stringliteral}{"Irene data : "}) );
106     Serial.println(data);
107     Serial.println();
108 
109 \textcolor{preprocessor}{#endif}
110     
111     \textcolor{keywordflow}{return}(data);
112     
113     
114 
115 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_a852a170feea994ea1df01c6b245b5d9a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_a852a170feea994ea1df01c6b245b5d9a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_ae73bd2ed14a199a7e83f4d6458476a7c}\label{classIrene3000_ae73bd2ed14a199a7e83f4d6458476a7c}} 
\index{Irene3000@{Irene3000}!read\+A\+D\+S\+Channel2@{read\+A\+D\+S\+Channel2}}
\index{read\+A\+D\+S\+Channel2@{read\+A\+D\+S\+Channel2}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{read\+A\+D\+S\+Channel2()}{readADSChannel2()}}
{\footnotesize\ttfamily int Irene3000\+::read\+A\+D\+S\+Channel2 (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::read\+A\+D\+S\+Channel2(gain)\+: This method is provided to read from the A\+DS channel 2 . A\+DS Channel 2 is free and the user can connect another analog sensor to it.

\begin{DoxyReturn}{Returns}
the A\+DS Channel 2 value 
\end{DoxyReturn}


Definition at line 401 of file irene3000.\+cpp.



References ads, free\+Adc, and set\+Gain().



Referenced by read().


\begin{DoxyCode}
402 \{   
403 
404 \textcolor{preprocessor}{#if DEBUG == 1 }
405     
406     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.readADSChannel2()"}) );
407     Serial.println();
408 
409 \textcolor{preprocessor}{#endif}
410 
411     this->\hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
412 
413 \textcolor{preprocessor}{#if DEBUG == 1 }
414     
415     Serial.println( F(\textcolor{stringliteral}{"adc2 value : "}) );
416     Serial.println(this->\hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_a55497513af255250e464ed76543d46d7}{freeAdc}) );
417     Serial.println();
418 
419 \textcolor{preprocessor}{#endif}
420 
421     \textcolor{keywordflow}{return}( this->\hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_a55497513af255250e464ed76543d46d7}{freeAdc}) ) ;
422 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_ae73bd2ed14a199a7e83f4d6458476a7c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_ae73bd2ed14a199a7e83f4d6458476a7c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_ae0e0a5b773c3625b44c1d113c76a1540}\label{classIrene3000_ae0e0a5b773c3625b44c1d113c76a1540}} 
\index{Irene3000@{Irene3000}!read\+Button@{read\+Button}}
\index{read\+Button@{read\+Button}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{read\+Button()}{readButton()}}
{\footnotesize\ttfamily int Irene3000\+::read\+Button (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::read\+Button(gain)\+: This method is provided to read the \hyperlink{classIrene3000}{Irene3000} button

\begin{DoxyReturn}{Returns}
the button value 
\end{DoxyReturn}


Definition at line 351 of file irene3000.\+cpp.



References ads, button, and set\+Gain().


\begin{DoxyCode}
352 \{
353 
354 \textcolor{preprocessor}{#if DEBUG == 1 }
355 
356     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.readButton()"} ) );
357     Serial.println();
358 
359 \textcolor{preprocessor}{#endif }
360 
361     this->\hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
362 
363 \textcolor{preprocessor}{#if DEBUG == 1}
364     
365     Serial.println( F(\textcolor{stringliteral}{"button value : "}) );
366     Serial.println(this->\hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_a37976ee6fe1fb8546bfd6153b83ffa6c}{button}) );
367 
368 \textcolor{preprocessor}{#endif }
369 
370     \textcolor{keywordflow}{return}( this->\hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_a37976ee6fe1fb8546bfd6153b83ffa6c}{button}) );
371     
372 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=328pt]{classIrene3000_ae0e0a5b773c3625b44c1d113c76a1540_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_abf3db725fabb0634ec889b32068a5eec}\label{classIrene3000_abf3db725fabb0634ec889b32068a5eec}} 
\index{Irene3000@{Irene3000}!read\+Ph@{read\+Ph}}
\index{read\+Ph@{read\+Ph}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{read\+Ph()}{readPh()}}
{\footnotesize\ttfamily float Irene3000\+::read\+Ph (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::read\+Ph(gain)\+: This method is provided to read the PH probe note that for the best results, PH must be correlated to Temperature.

\begin{DoxyReturn}{Returns}
the PH probe value 
\end{DoxyReturn}


Definition at line 432 of file irene3000.\+cpp.



References A\+D\+C\+\_\+\+M\+A\+X\+I\+M\+U\+M\+\_\+\+V\+A\+L\+UE, ads, opamp\+Gain, params, ph, Irene3000\+::parameters\+\_\+\+T\+::p\+H7\+Cal, Irene3000\+::parameters\+\_\+\+T\+::p\+H\+Step, set\+Gain(), and v\+Ref.



Referenced by read().


\begin{DoxyCode}
433 \{
434 
435 \textcolor{preprocessor}{#if DEBUG == 1 }
436 
437     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.readPh()"}) );
438     Serial.println();
439 
440 \textcolor{preprocessor}{#endif }
441 
442     this->\hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
443 
444     \textcolor{keywordtype}{double} Voltage =  gain * ( \hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_af771ceafe0e6524dd8497d4305dfe778}{ph}) ) / 
      \hyperlink{Irene3000_8h_ae04444a85a37b5dce09107f2ce2b2c80}{ADC\_MAXIMUM\_VALUE};
445 
446     \textcolor{keywordtype}{float} miliVolts = Voltage * 1000;
447     \textcolor{keywordtype}{float} temporary = ((((\hyperlink{classIrene3000_a018e7ff9bee57e6d2b298667a668ba7e}{vRef} * (float)\hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a21265466a570d84bff914f26d2f7a03e}{pH7Cal}) / 32767) * 1000) - miliVolts) / 
      \hyperlink{classIrene3000_a4e588985ca74e5076029d5dee81034f2}{opampGain};
448 
449 \textcolor{preprocessor}{#if DEBUG == 1 }
450 
451     Serial.println( F(\textcolor{stringliteral}{"ph is : "}) );
452     Serial.println( 7 - (temporary / \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a61cfcc2539d5f630e9071f3753aba9fe}{pHStep}) ) ;
453 
454 \textcolor{preprocessor}{#endif }
455 
456     \textcolor{keywordflow}{return}( 7 - (temporary / \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a61cfcc2539d5f630e9071f3753aba9fe}{pHStep}) );
457 
458 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=311pt]{classIrene3000_abf3db725fabb0634ec889b32068a5eec_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_abf3db725fabb0634ec889b32068a5eec_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a94ad40f281d83ad1be20bf1edd6fe802}\label{classIrene3000_a94ad40f281d83ad1be20bf1edd6fe802}} 
\index{Irene3000@{Irene3000}!read\+Temp@{read\+Temp}}
\index{read\+Temp@{read\+Temp}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{read\+Temp()}{readTemp()}}
{\footnotesize\ttfamily double Irene3000\+::read\+Temp (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::read\+Temp(gain)\+: This method is provided to read the Temeperature probe

\begin{DoxyReturn}{Returns}
the Temperature probe value 
\end{DoxyReturn}


Definition at line 467 of file irene3000.\+cpp.



References ads, set\+Gain(), temp, and V\+\_\+\+G\+A\+I\+N\+\_\+8.



Referenced by read().


\begin{DoxyCode}
468 \{
469 
470 \textcolor{preprocessor}{#if DEBUG == 1 }
471 
472     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.readTemp()"}) );
473     Serial.println();
474 
475 \textcolor{preprocessor}{#endif}
476 
477     \textcolor{keyword}{const} \textcolor{keywordtype}{double} A = 3.9083E-3;
478     \textcolor{keyword}{const} \textcolor{keywordtype}{double} B = -5.775E-7;
479     \textcolor{keywordtype}{double} T;
480 
481     this->\hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
482     \textcolor{keywordtype}{double} adc0 = \hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp});
483 
484 
485     \textcolor{keywordtype}{double} R = ( ( adc0 * \hyperlink{Irene3000_8h_ab7ab16df599d3f0ce29e12791a504891}{V\_GAIN\_8} ) / 0.095 ) / 1000 ;
486 
487     T = 0.0 - A;
488     T += sqrt((A * A) - 4.0 * B * (1.0 - R));
489     T /= (2.0 * B);
490 
491     \textcolor{keywordflow}{if} (T > 0 && T < 200) 
492     \{
493 
494 \textcolor{preprocessor}{    #if DEBUG == 1 }
495 
496         Serial.print( F(\textcolor{stringliteral}{" temperature : "}) );
497         Serial.println(T);
498         Serial.println();
499     
500 \textcolor{preprocessor}{    #endif }
501         \textcolor{keywordflow}{if}(isnan(T))
502         \{
503             \textcolor{keywordflow}{return}(-300);           
504         \}
505 
506         \textcolor{keywordflow}{return} T;
507     \}
508     \textcolor{keywordflow}{else} 
509     \{
510         T = 0.0 - A;
511         T -= sqrt((A * A) - 4.0 * B * (1.0 - R));
512         T /= (2.0 * B);
513     
514 \textcolor{preprocessor}{    #if DEBUG == 1 }
515     
516         Serial.println( F(\textcolor{stringliteral}{"temperature : "}) );
517         Serial.println(T);
518         Serial.println();
519     
520 \textcolor{preprocessor}{    #endif}
521         \textcolor{keywordflow}{if}(isnan(T))
522         \{
523             \textcolor{keywordflow}{return}(-400);           
524         \}
525 
526         \textcolor{keywordflow}{return} T;
527     \}
528 
529 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=324pt]{classIrene3000_a94ad40f281d83ad1be20bf1edd6fe802_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_a94ad40f281d83ad1be20bf1edd6fe802_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a0fba280e8b7c881307efa31281aa691d}\label{classIrene3000_a0fba280e8b7c881307efa31281aa691d}} 
\index{Irene3000@{Irene3000}!reset\+Params@{reset\+Params}}
\index{reset\+Params@{reset\+Params}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{reset\+Params()}{resetParams()}}
{\footnotesize\ttfamily void Irene3000\+::reset\+Params (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\hyperlink{classIrene3000_a0fba280e8b7c881307efa31281aa691d}{Irene3000\+::reset\+Params()}\+: This method is provided to reset the PH configuration, assuming Ideal configuration 

Definition at line 607 of file irene3000.\+cpp.



References params, Irene3000\+::parameters\+\_\+\+T\+::p\+H4\+Cal, Irene3000\+::parameters\+\_\+\+T\+::p\+H7\+Cal, Irene3000\+::parameters\+\_\+\+T\+::p\+H\+Step, Write\+\_\+\+Check, and Irene3000\+::parameters\+\_\+\+T\+::\+Write\+Check.


\begin{DoxyCode}
608 \{
609 
610 \textcolor{preprocessor}{#if DEBUG == 1 }
611 
612     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.resetParams()"}) );
613     Serial.println();
614 
615 \textcolor{preprocessor}{#endif }
616 
617     \textcolor{comment}{//Restore to default set of parameters!}
618     \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a56f1f14d33a69300d580eda2dc52cecd}{WriteCheck} = \hyperlink{Irene3000_8h_a9fa3b8fd890fde289060ee254cd273d5}{Write\_Check};
619     \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a21265466a570d84bff914f26d2f7a03e}{pH7Cal} = 16384; \textcolor{comment}{//assume ideal probe and amp conditions 1/2 of 4096}
620     \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a1144de6fb54eb3e1dd2a3d8c2afc97dc}{pH4Cal} = 8192; \textcolor{comment}{//using ideal probe slope we end up this many 12bit units away on the
       4 scale}
621     \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a61cfcc2539d5f630e9071f3753aba9fe}{pHStep} = 59.16;\textcolor{comment}{//ideal probe slope}
622 
623 
624 \}
\end{DoxyCode}
\mbox{\Hypertarget{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}\label{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}} 
\index{Irene3000@{Irene3000}!set\+Gain@{set\+Gain}}
\index{set\+Gain@{set\+Gain}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{set\+Gain()}{setGain()}}
{\footnotesize\ttfamily void Irene3000\+::set\+Gain (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::set\+Gain(gain)\+: This method is provided to set the A\+DS chip gain 

Definition at line 379 of file irene3000.\+cpp.



References ads.



Referenced by calibratep\+H4(), calibratep\+H7(), read\+A\+D\+S\+Channel2(), read\+Button(), read\+Ph(), and read\+Temp().


\begin{DoxyCode}
380 \{
381 
382 \textcolor{preprocessor}{#if DEBUG == 1  }
383 
384     Serial.println( F(\textcolor{stringliteral}{"Entering Irene3000.setGain()"}) );
385     Serial.println();
386 
387 \textcolor{preprocessor}{#endif}
388 
389     this->\hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.setGain(gain);
390 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_aff7c5da186b388e7272e63ff88a20c34_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}\label{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}} 
\index{Irene3000@{Irene3000}!adc2@{adc2}}
\index{adc2@{adc2}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{adc2}{adc2}}
{\footnotesize\ttfamily struct \hyperlink{structIrene3000_1_1state}{Irene3000\+::state} Irene3000\+::adc2\hspace{0.3cm}{\ttfamily [private]}}



Referenced by config(), print\+Conf(), and read().

\mbox{\Hypertarget{classIrene3000_a1215e77ba761c9908d80d691f149e135}\label{classIrene3000_a1215e77ba761c9908d80d691f149e135}} 
\index{Irene3000@{Irene3000}!ads@{ads}}
\index{ads@{ads}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{ads}{ads}}
{\footnotesize\ttfamily Adafruit\+\_\+\+A\+D\+S1115 Irene3000\+::ads\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 69 of file Irene3000.\+h.



Referenced by begin(), calibratep\+H4(), calibratep\+H7(), read\+A\+D\+S\+Channel2(), read\+Button(), read\+Ph(), read\+Temp(), and set\+Gain().

\mbox{\Hypertarget{classIrene3000_a6534710e4c81669dcc828d2c5450fabe}\label{classIrene3000_a6534710e4c81669dcc828d2c5450fabe}} 
\index{Irene3000@{Irene3000}!irene\+Json\+Size@{irene\+Json\+Size}}
\index{irene\+Json\+Size@{irene\+Json\+Size}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{irene\+Json\+Size}{ireneJsonSize}}
{\footnotesize\ttfamily int Irene3000\+::irene\+Json\+Size =100\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 86 of file Irene3000.\+h.



Referenced by config(), and read().

\mbox{\Hypertarget{classIrene3000_a4e588985ca74e5076029d5dee81034f2}\label{classIrene3000_a4e588985ca74e5076029d5dee81034f2}} 
\index{Irene3000@{Irene3000}!opamp\+Gain@{opamp\+Gain}}
\index{opamp\+Gain@{opamp\+Gain}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{opamp\+Gain}{opampGain}}
{\footnotesize\ttfamily const float Irene3000\+::opamp\+Gain = 5.\+25\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 90 of file Irene3000.\+h.



Referenced by calcp\+H\+Slope(), and read\+Ph().

\mbox{\Hypertarget{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}\label{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}} 
\index{Irene3000@{Irene3000}!params@{params}}
\index{params@{params}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{params}{params}}
{\footnotesize\ttfamily struct \hyperlink{structIrene3000_1_1parameters__T}{Irene3000\+::parameters\+\_\+T} Irene3000\+::params\hspace{0.3cm}{\ttfamily [private]}}



Referenced by calcp\+H\+Slope(), calibratep\+H4(), calibratep\+H7(), read\+Ph(), and reset\+Params().

\mbox{\Hypertarget{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}\label{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}} 
\index{Irene3000@{Irene3000}!ph\+Probe@{ph\+Probe}}
\index{ph\+Probe@{ph\+Probe}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{ph\+Probe}{phProbe}}
{\footnotesize\ttfamily struct \hyperlink{structIrene3000_1_1state}{Irene3000\+::state}  Irene3000\+::ph\+Probe\hspace{0.3cm}{\ttfamily [private]}}



Referenced by config(), print\+Conf(), and read().

\mbox{\Hypertarget{classIrene3000_a018e7ff9bee57e6d2b298667a668ba7e}\label{classIrene3000_a018e7ff9bee57e6d2b298667a668ba7e}} 
\index{Irene3000@{Irene3000}!v\+Ref@{v\+Ref}}
\index{v\+Ref@{v\+Ref}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{v\+Ref}{vRef}}
{\footnotesize\ttfamily const float Irene3000\+::v\+Ref = 1.\+024\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 88 of file Irene3000.\+h.



Referenced by calcp\+H\+Slope(), and read\+Ph().

\mbox{\Hypertarget{classIrene3000_af05612c78c758ce9db316c75ad937130}\label{classIrene3000_af05612c78c758ce9db316c75ad937130}} 
\index{Irene3000@{Irene3000}!water\+Temp@{water\+Temp}}
\index{water\+Temp@{water\+Temp}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{water\+Temp}{waterTemp}}
{\footnotesize\ttfamily struct \hyperlink{structIrene3000_1_1state}{Irene3000\+::state}  Irene3000\+::water\+Temp\hspace{0.3cm}{\ttfamily [private]}}



Referenced by config(), print\+Conf(), and read().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{Irene3000_8h}{Irene3000.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{irene3000_8cpp}{irene3000.\+cpp}\end{DoxyCompactItemize}
