\hypertarget{classIrene3000}{}\section{Irene3000 Class Reference}
\label{classIrene3000}\index{Irene3000@{Irene3000}}


This class is provided to manage the \hyperlink{classIrene3000}{Irene3000} Ph/\+Temperature Shield.  




{\ttfamily \#include $<$Irene3000.\+h$>$}



Collaboration diagram for Irene3000\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=310pt]{classIrene3000__coll__graph}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structIrene3000_1_1parameters__T}{parameters\+\_\+T}
\item 
struct \hyperlink{structIrene3000_1_1state}{state}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classIrene3000_ad5891806c500ae1007afe52b9e304c2b}{begin} ()
\item 
bool \hyperlink{classIrene3000_afed5c35e4b23963c157847ef27c11e9c}{config} ()
\item 
void \hyperlink{classIrene3000_a7bc2414100b5e19eacc6630fa34b2654}{print\+Conf} ()
\item 
String \hyperlink{classIrene3000_a852a170feea994ea1df01c6b245b5d9a}{read} ()
\item 
int \hyperlink{classIrene3000_ae0e0a5b773c3625b44c1d113c76a1540}{read\+Button} (ads\+Gain\+\_\+t gain)
\item 
void \hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{set\+Gain} (ads\+Gain\+\_\+t gain)
\item 
int \hyperlink{classIrene3000_ae73bd2ed14a199a7e83f4d6458476a7c}{read\+A\+D\+S\+Channel2} (ads\+Gain\+\_\+t gain)
\item 
float \hyperlink{classIrene3000_abf3db725fabb0634ec889b32068a5eec}{read\+Ph} (ads\+Gain\+\_\+t gain)
\item 
double \hyperlink{classIrene3000_a94ad40f281d83ad1be20bf1edd6fe802}{read\+Temp} (ads\+Gain\+\_\+t gain)
\item 
void \hyperlink{classIrene3000_a0fba280e8b7c881307efa31281aa691d}{reset\+Params} (void)
\item 
void \hyperlink{classIrene3000_a2e810ddfa8b95eaa2446a408761c6bdc}{calibratep\+H7} (ads\+Gain\+\_\+t gain)
\item 
void \hyperlink{classIrene3000_a9772eeea2305fad6236a82e33e93892e}{calibratep\+H4} (ads\+Gain\+\_\+t gain)
\item 
void \hyperlink{classIrene3000_a81f6a79e546679692053f7ac1af49613}{calcp\+H\+Slope} ()
\item 
ads\+Gain\+\_\+t \hyperlink{classIrene3000_abcad62d1201a59f8dd3ba87048002728}{gain\+Convert} (uint16\+\_\+t temp\+Gain)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
Adafruit\+\_\+\+A\+D\+S1115 \hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}
\item 
struct \hyperlink{structIrene3000_1_1parameters__T}{Irene3000\+::parameters\+\_\+T} \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}
\item 
struct \hyperlink{structIrene3000_1_1state}{Irene3000\+::state} \hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{water\+Temp}
\item 
struct \hyperlink{structIrene3000_1_1state}{Irene3000\+::state} \hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{ph\+Probe}
\item 
struct \hyperlink{structIrene3000_1_1state}{Irene3000\+::state} \hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}
\item 
int \hyperlink{classIrene3000_a6534710e4c81669dcc828d2c5450fabe}{irene\+Json\+Size} =100
\item 
const float \hyperlink{classIrene3000_a018e7ff9bee57e6d2b298667a668ba7e}{v\+Ref} = 1.\+024
\item 
const float \hyperlink{classIrene3000_a4e588985ca74e5076029d5dee81034f2}{opamp\+Gain} = 5.\+25
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class is provided to manage the \hyperlink{classIrene3000}{Irene3000} Ph/\+Temperature Shield. 

Definition at line 35 of file Irene3000.\+h.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classIrene3000_ad5891806c500ae1007afe52b9e304c2b}\label{classIrene3000_ad5891806c500ae1007afe52b9e304c2b}} 
\index{Irene3000@{Irene3000}!begin@{begin}}
\index{begin@{begin}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily void Irene3000\+::begin (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\hyperlink{classIrene3000_ad5891806c500ae1007afe52b9e304c2b}{Irene3000\+::begin()}\+: This method is provided to start the \hyperlink{classIrene3000}{Irene3000} A\+DS chip 

Definition at line 22 of file irene3000.\+cpp.



References ads.



Referenced by Cool\+Board\+::begin().


\begin{DoxyCode}
23 \{
24     Serial.println(\textcolor{stringliteral}{"Entering Irene3000.begin()"});
25     Serial.println();
26 
27     this->\hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.begin();
28 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=297pt]{classIrene3000_ad5891806c500ae1007afe52b9e304c2b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a81f6a79e546679692053f7ac1af49613}\label{classIrene3000_a81f6a79e546679692053f7ac1af49613}} 
\index{Irene3000@{Irene3000}!calcp\+H\+Slope@{calcp\+H\+Slope}}
\index{calcp\+H\+Slope@{calcp\+H\+Slope}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{calcp\+H\+Slope()}{calcpHSlope()}}
{\footnotesize\ttfamily void Irene3000\+::calcp\+H\+Slope (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Irene3000\+::calcp\+H\+Slop()\+: This method is provided to calculate th PH slope 

Definition at line 454 of file irene3000.\+cpp.



References opamp\+Gain, params, Irene3000\+::parameters\+\_\+\+T\+::p\+H4\+Cal, Irene3000\+::parameters\+\_\+\+T\+::p\+H7\+Cal, Irene3000\+::parameters\+\_\+\+T\+::p\+H\+Step, and v\+Ref.



Referenced by calibratep\+H4(), and calibratep\+H7().


\begin{DoxyCode}
455 \{
456     Serial.println(\textcolor{stringliteral}{"Entering Irene3000.calcpHSlope()"});
457     Serial.println();
458 
459     \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a61cfcc2539d5f630e9071f3753aba9fe}{pHStep} = ((((\hyperlink{classIrene3000_a018e7ff9bee57e6d2b298667a668ba7e}{vRef} * (float)(\hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a21265466a570d84bff914f26d2f7a03e}{pH7Cal} - 
      \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a1144de6fb54eb3e1dd2a3d8c2afc97dc}{pH4Cal})) / 32767) * 1000) / \hyperlink{classIrene3000_a4e588985ca74e5076029d5dee81034f2}{opampGain}) / 3;
460 
461  
462 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_a81f6a79e546679692053f7ac1af49613_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a9772eeea2305fad6236a82e33e93892e}\label{classIrene3000_a9772eeea2305fad6236a82e33e93892e}} 
\index{Irene3000@{Irene3000}!calibratep\+H4@{calibratep\+H4}}
\index{calibratep\+H4@{calibratep\+H4}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{calibratep\+H4()}{calibratepH4()}}
{\footnotesize\ttfamily void Irene3000\+::calibratep\+H4 (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::calibratep\+H4(gain)\+: This method is provided to calibrate the PH probe to 4 

Definition at line 434 of file irene3000.\+cpp.



References ads, calcp\+H\+Slope(), params, ph, Irene3000\+::parameters\+\_\+\+T\+::p\+H4\+Cal, and set\+Gain().


\begin{DoxyCode}
435 \{
436     Serial.println(\textcolor{stringliteral}{"Entering Irene3000.calibraph4()"});
437     Serial.println();
438     
439     this->\hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
440 
441     this->\hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a1144de6fb54eb3e1dd2a3d8c2afc97dc}{pH4Cal} =  \hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_af771ceafe0e6524dd8497d4305dfe778}{ph});
442 
443     this->\hyperlink{classIrene3000_a81f6a79e546679692053f7ac1af49613}{calcpHSlope}();
444 
445 
446 
447 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_a9772eeea2305fad6236a82e33e93892e_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a2e810ddfa8b95eaa2446a408761c6bdc}\label{classIrene3000_a2e810ddfa8b95eaa2446a408761c6bdc}} 
\index{Irene3000@{Irene3000}!calibratep\+H7@{calibratep\+H7}}
\index{calibratep\+H7@{calibratep\+H7}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{calibratep\+H7()}{calibratepH7()}}
{\footnotesize\ttfamily void Irene3000\+::calibratep\+H7 (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::calibratep\+H7(gain)\+: This method is provided to calibrate the PH probe to 7 

Definition at line 415 of file irene3000.\+cpp.



References ads, calcp\+H\+Slope(), params, ph, Irene3000\+::parameters\+\_\+\+T\+::p\+H7\+Cal, and set\+Gain().


\begin{DoxyCode}
416 \{
417     Serial.println(\textcolor{stringliteral}{"Entering Irene3000.calibratepH7() "});
418     Serial.println();
419 
420     this->\hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
421         
422     this->\hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a21265466a570d84bff914f26d2f7a03e}{pH7Cal} = \hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_af771ceafe0e6524dd8497d4305dfe778}{ph});
423  
424     this->\hyperlink{classIrene3000_a81f6a79e546679692053f7ac1af49613}{calcpHSlope}();
425 
426 
427 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_a2e810ddfa8b95eaa2446a408761c6bdc_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_afed5c35e4b23963c157847ef27c11e9c}\label{classIrene3000_afed5c35e4b23963c157847ef27c11e9c}} 
\index{Irene3000@{Irene3000}!config@{config}}
\index{config@{config}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{config()}{config()}}
{\footnotesize\ttfamily bool Irene3000\+::config (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classIrene3000_afed5c35e4b23963c157847ef27c11e9c}{Irene3000\+::config()}\+: This method is provided to configure the \hyperlink{classIrene3000}{Irene3000} shield through a configuration file

\begin{DoxyReturn}{Returns}
true if successful,false otherwise 
\end{DoxyReturn}


Definition at line 88 of file irene3000.\+cpp.



References Irene3000\+::state\+::active, adc2, Irene3000\+::state\+::gain, gain\+Convert(), irene\+Json\+Size, ph\+Probe, Irene3000\+::state\+::type, and water\+Temp.



Referenced by Cool\+Board\+::begin(), and Cool\+Board\+::update().


\begin{DoxyCode}
89 \{
90 
91     Serial.println(\textcolor{stringliteral}{"Entering Irene3000.config()"});
92     Serial.println();
93 
94     File irene3000Config = SPIFFS.open(\textcolor{stringliteral}{"/irene3000Config.json"}, \textcolor{stringliteral}{"r"});
95 
96     \textcolor{keywordflow}{if} (!irene3000Config) 
97     \{
98         Serial.println(\textcolor{stringliteral}{"failed to read /irene3000Config.json"});
99         Serial.println();
100 
101         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
102     \}
103     \textcolor{keywordflow}{else}
104     \{
105         \textcolor{keywordtype}{size\_t} size = irene3000Config.size();
106         \textcolor{comment}{// Allocate a buffer to store contents of the file.}
107         std::unique\_ptr<char[]> buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
108             uint16\_t tempGain;
109         irene3000Config.readBytes(buf.get(), size);
110         DynamicJsonBuffer jsonBuffer;
111         JsonObject& json = jsonBuffer.parseObject(buf.get());
112         \textcolor{keywordflow}{if} (!json.success()) 
113         \{
114             Serial.println(\textcolor{stringliteral}{"failed to parse json "});
115             Serial.println();
116             
117             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
118         \} 
119         \textcolor{keywordflow}{else}
120         \{   
121             Serial.println(\textcolor{stringliteral}{"read configuration file "});
122             json.printTo(Serial);
123             Serial.println();
124             
125             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"ireneJsonSize"}].success() )
126             \{
127                 this->\hyperlink{classIrene3000_a6534710e4c81669dcc828d2c5450fabe}{ireneJsonSize}=json[\textcolor{stringliteral}{"ireneJsonSize"}];
128             \}
129             \textcolor{keywordflow}{else}
130             \{
131                 this->\hyperlink{classIrene3000_a6534710e4c81669dcc828d2c5450fabe}{ireneJsonSize}=this->\hyperlink{classIrene3000_a6534710e4c81669dcc828d2c5450fabe}{ireneJsonSize};
132             \}
133             json[\textcolor{stringliteral}{"ireneJsonSize"}]=this->\hyperlink{classIrene3000_a6534710e4c81669dcc828d2c5450fabe}{ireneJsonSize};
134 
135             
136             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"active"}].success() )
137             \{           
138                 this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active} = json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"active"}]; 
139             \}
140             \textcolor{keywordflow}{else}
141             \{
142                 this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active}=this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.
      \hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active};
143             \}
144             json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"active"}]=this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active};
145 
146             
147             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"gain"}].success() )
148             \{           
149                 tempGain = json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"gain"}]; 
150                 this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}=this->\hyperlink{classIrene3000_abcad62d1201a59f8dd3ba87048002728}{gainConvert}(tempGain);
151             \}
152             \textcolor{keywordflow}{else}
153             \{
154                 this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}=this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain};
155             \}
156             json[\textcolor{stringliteral}{"waterTemp"}][\textcolor{stringliteral}{"gain"}]=this->\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain};
157 
158             
159             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"active"}].success())
160             \{
161                 this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active}=json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"active"}];
162             \}
163             \textcolor{keywordflow}{else}
164             \{
165                 this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active}=this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active};
166             \}
167             json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"active"}]=this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active};
168     
169             
170             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"gain"}].success() )
171             \{       
172                 tempGain=json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"gain"}];
173                 this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}=this->\hyperlink{classIrene3000_abcad62d1201a59f8dd3ba87048002728}{gainConvert}(tempGain);           
174             \}
175             \textcolor{keywordflow}{else}
176             \{
177                 this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}=this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain};
178             \}
179             json[\textcolor{stringliteral}{"phProbe"}][\textcolor{stringliteral}{"gain"}]=this->\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain};
180 
181             
182             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"active"}].success() )
183             \{
184                 this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active}=json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"active"}];
185             \}
186             \textcolor{keywordflow}{else}
187             \{
188                 this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active}=this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active};
189             \}
190             json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"active"}]=this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active};
191 
192             
193             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"gain"}].success() )
194             \{           
195                 tempGain=json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"gain"}];
196                 this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}=this->\hyperlink{classIrene3000_abcad62d1201a59f8dd3ba87048002728}{gainConvert}(tempGain);
197             \}
198             \textcolor{keywordflow}{else}
199             \{
200                 this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}=this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain};
201             \}
202             json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"gain"}]=this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain};
203 
204             
205             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"type"}].success() )
206             \{
207                 this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a9897a7e02727db6351d44006eec73799}{type}=json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"type"}].as<String>(); 
208             \}
209             \textcolor{keywordflow}{else}
210             \{
211                 this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a9897a7e02727db6351d44006eec73799}{type}=this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a9897a7e02727db6351d44006eec73799}{type};
212             \}
213             json[\textcolor{stringliteral}{"adc2"}][\textcolor{stringliteral}{"type"}]=this->\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a9897a7e02727db6351d44006eec73799}{type};
214 
215             irene3000Config.close();
216             irene3000Config = SPIFFS.open(\textcolor{stringliteral}{"/irene3000Config.json"}, \textcolor{stringliteral}{"w"});
217 
218             \textcolor{keywordflow}{if}(!irene3000Config)
219             \{
220                 Serial.println(\textcolor{stringliteral}{"failed to write to /irene3000Config.json"});
221                 Serial.println();
222 
223                 \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
224             \}
225 
226             json.printTo(irene3000Config);
227             irene3000Config.close();
228             
229             Serial.println(\textcolor{stringliteral}{"saved configuration file :"} );
230             json.printTo(Serial);
231             Serial.println();
232 
233             \textcolor{keywordflow}{return}(\textcolor{keyword}{true}); 
234         \}
235     \}   
236 
237 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=326pt]{classIrene3000_afed5c35e4b23963c157847ef27c11e9c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_afed5c35e4b23963c157847ef27c11e9c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_abcad62d1201a59f8dd3ba87048002728}\label{classIrene3000_abcad62d1201a59f8dd3ba87048002728}} 
\index{Irene3000@{Irene3000}!gain\+Convert@{gain\+Convert}}
\index{gain\+Convert@{gain\+Convert}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{gain\+Convert()}{gainConvert()}}
{\footnotesize\ttfamily ads\+Gain\+\_\+t Irene3000\+::gain\+Convert (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{temp\+Gain }\end{DoxyParamCaption})}

\hyperlink{classIrene3000_abcad62d1201a59f8dd3ba87048002728}{Irene3000\+::gain\+Convert}( gain \+: \{ 2/3,1,2,4,8,16 \} ) This method is provided to convert the gain to Internal Constants

\begin{DoxyReturn}{Returns}
internal representation of the A\+DS gain 
\end{DoxyReturn}


Definition at line 491 of file irene3000.\+cpp.



Referenced by config().


\begin{DoxyCode}
492 \{
493     Serial.println(\textcolor{stringliteral}{"Entering Irene3000.gainConvert()"});
494     Serial.println();
495     
496     \textcolor{keywordflow}{switch}(tempGain)
497     \{
498         \textcolor{keywordflow}{case}(2/3): \textcolor{keywordflow}{return}(GAIN\_TWOTHIRDS);
499         \textcolor{keywordflow}{case}(1): \textcolor{keywordflow}{return} (GAIN\_ONE);
500         \textcolor{keywordflow}{case}(2) : \textcolor{keywordflow}{return}(GAIN\_TWO);
501         \textcolor{keywordflow}{case}(4): \textcolor{keywordflow}{return}(GAIN\_FOUR) ;   
502         \textcolor{keywordflow}{case}(8):\textcolor{keywordflow}{return}(GAIN\_EIGHT)  ;  
503         \textcolor{keywordflow}{case}(16):\textcolor{keywordflow}{return}(GAIN\_SIXTEEN);  
504     \}
505 
506 
507 
508 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_abcad62d1201a59f8dd3ba87048002728_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a7bc2414100b5e19eacc6630fa34b2654}\label{classIrene3000_a7bc2414100b5e19eacc6630fa34b2654}} 
\index{Irene3000@{Irene3000}!print\+Conf@{print\+Conf}}
\index{print\+Conf@{print\+Conf}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{print\+Conf()}{printConf()}}
{\footnotesize\ttfamily void Irene3000\+::print\+Conf (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classIrene3000_a7bc2414100b5e19eacc6630fa34b2654}{Irene3000\+::print\+Conf()}\+: This method is provided to print the configuration to the Serial Monitor 

Definition at line 244 of file irene3000.\+cpp.



References Irene3000\+::state\+::active, adc2, Irene3000\+::state\+::gain, ph\+Probe, Irene3000\+::state\+::type, and water\+Temp.



Referenced by Cool\+Board\+::begin().


\begin{DoxyCode}
245 \{
246     Serial.println(\textcolor{stringliteral}{"Entering Irene3000.printConf()"});
247     Serial.println();
248 
249     Serial.println(\textcolor{stringliteral}{"Irene Configuration "});
250 
251     Serial.print(\textcolor{stringliteral}{"waterTemp.active : "});
252     Serial.println(\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active});
253 
254     Serial.print(\textcolor{stringliteral}{"waterTemp.gain : "});
255     Serial.println(\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain},HEX);    
256 
257     Serial.print(\textcolor{stringliteral}{"phProbe.active : "});
258     Serial.println(\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active});
259 
260     Serial.print(\textcolor{stringliteral}{"phProbe.gain : "});
261     Serial.println(\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain},HEX);
262     
263     Serial.print(\textcolor{stringliteral}{"adc2.active : "});
264     Serial.println(\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active});
265 
266     Serial.print(\textcolor{stringliteral}{"adc2.gain : "});
267     Serial.println(\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain},HEX);
268 
269     Serial.print(\textcolor{stringliteral}{"adc2.type : "});
270     Serial.println(\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a9897a7e02727db6351d44006eec73799}{type});
271 
272     Serial.println();
273 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=313pt]{classIrene3000_a7bc2414100b5e19eacc6630fa34b2654_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a852a170feea994ea1df01c6b245b5d9a}\label{classIrene3000_a852a170feea994ea1df01c6b245b5d9a}} 
\index{Irene3000@{Irene3000}!read@{read}}
\index{read@{read}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily String Irene3000\+::read (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\hyperlink{classIrene3000}{Irene3000}\+:\hyperlink{classIrene3000_a852a170feea994ea1df01c6b245b5d9a}{read()}\+: This method is provided to read the \hyperlink{classIrene3000}{Irene3000} sensors data

\begin{DoxyReturn}{Returns}
json string of the sensors data 
\end{DoxyReturn}


Definition at line 38 of file irene3000.\+cpp.



References Irene3000\+::state\+::active, adc2, Irene3000\+::state\+::gain, irene\+Json\+Size, ph\+Probe, read\+A\+D\+S\+Channel2(), read\+Ph(), read\+Temp(), Irene3000\+::state\+::type, and water\+Temp.



Referenced by Cool\+Board\+::read\+Sensors().


\begin{DoxyCode}
39 \{   
40     Serial.println(\textcolor{stringliteral}{"Entering Irene3000.read()"});
41     Serial.println();
42 
43     String data;
44     DynamicJsonBuffer jsonBuffer(\hyperlink{classIrene3000_a6534710e4c81669dcc828d2c5450fabe}{ireneJsonSize});
45     JsonObject& root = jsonBuffer.createObject();
46     \textcolor{keywordflow}{if}( !( root.success()) )
47     \{
48         Serial.println(\textcolor{stringliteral}{"failed to create json"});
49         \textcolor{keywordflow}{return}(\textcolor{stringliteral}{""});
50     \}
51 
52         
53     \textcolor{keywordflow}{if}(\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active})
54     \{
55         root[\textcolor{stringliteral}{"waterTemp"}] = this->\hyperlink{classIrene3000_a94ad40f281d83ad1be20bf1edd6fe802}{readTemp}(\hyperlink{classIrene3000_af05612c78c758ce9db316c75ad937130}{waterTemp}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain});
56 
57         \textcolor{keywordflow}{if}(\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active})
58         \{
59             root[\textcolor{stringliteral}{"ph"}] =this->\hyperlink{classIrene3000_abf3db725fabb0634ec889b32068a5eec}{readPh}(\hyperlink{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}{phProbe}.\hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain}) ;
60         \}
61 
62     \}
63 
64     \textcolor{keywordflow}{if}(\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_af7ff649f20b9a2fb6ca0f949ee9a25ce}{active})
65     \{
66         root[\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.\hyperlink{structIrene3000_1_1state_a9897a7e02727db6351d44006eec73799}{type}] =this->\hyperlink{classIrene3000_ae73bd2ed14a199a7e83f4d6458476a7c}{readADSChannel2}(\hyperlink{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}{adc2}.
      \hyperlink{structIrene3000_1_1state_a1ecf69d38cb31ecaf6b3602a3f3e93cb}{gain});
67     \}
68     
69     root.printTo(data);
70 
71     Serial.println(\textcolor{stringliteral}{"Irene data : "});
72     Serial.println(data);
73     Serial.println();
74     
75     \textcolor{keywordflow}{return}(data);
76     
77     
78 
79 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_a852a170feea994ea1df01c6b245b5d9a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_a852a170feea994ea1df01c6b245b5d9a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_ae73bd2ed14a199a7e83f4d6458476a7c}\label{classIrene3000_ae73bd2ed14a199a7e83f4d6458476a7c}} 
\index{Irene3000@{Irene3000}!read\+A\+D\+S\+Channel2@{read\+A\+D\+S\+Channel2}}
\index{read\+A\+D\+S\+Channel2@{read\+A\+D\+S\+Channel2}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{read\+A\+D\+S\+Channel2()}{readADSChannel2()}}
{\footnotesize\ttfamily int Irene3000\+::read\+A\+D\+S\+Channel2 (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::read\+A\+D\+S\+Channel2(gain)\+: This method is provided to read from the A\+DS channel 2 . A\+DS Channel 2 is free and the user can connect another analog sensor to it.

\begin{DoxyReturn}{Returns}
the A\+DS Channel 2 value 
\end{DoxyReturn}


Definition at line 318 of file irene3000.\+cpp.



References ads, free\+Adc, and set\+Gain().



Referenced by read().


\begin{DoxyCode}
319 \{   
320     Serial.println(\textcolor{stringliteral}{"Entering Irene3000.readADSChannel2()"});
321     Serial.println();
322 
323     this->\hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
324     
325     Serial.println(\textcolor{stringliteral}{"adc2 value : "});
326     Serial.println(this->\hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_a55497513af255250e464ed76543d46d7}{freeAdc}) );
327     Serial.println();
328 
329     \textcolor{keywordflow}{return}( this->\hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_a55497513af255250e464ed76543d46d7}{freeAdc}) ) ;
330 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_ae73bd2ed14a199a7e83f4d6458476a7c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_ae73bd2ed14a199a7e83f4d6458476a7c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_ae0e0a5b773c3625b44c1d113c76a1540}\label{classIrene3000_ae0e0a5b773c3625b44c1d113c76a1540}} 
\index{Irene3000@{Irene3000}!read\+Button@{read\+Button}}
\index{read\+Button@{read\+Button}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{read\+Button()}{readButton()}}
{\footnotesize\ttfamily int Irene3000\+::read\+Button (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::read\+Button(gain)\+: This method is provided to read the \hyperlink{classIrene3000}{Irene3000} button

\begin{DoxyReturn}{Returns}
the button value 
\end{DoxyReturn}


Definition at line 282 of file irene3000.\+cpp.



References ads, button, and set\+Gain().


\begin{DoxyCode}
283 \{
284     Serial.println(\textcolor{stringliteral}{"Entering Irene3000.readButton()"});
285     Serial.println();
286 
287     this->\hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
288     
289     Serial.println(\textcolor{stringliteral}{"button value : "});
290     Serial.println(this->\hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_a37976ee6fe1fb8546bfd6153b83ffa6c}{button}) );
291 
292     \textcolor{keywordflow}{return}( this->\hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_a37976ee6fe1fb8546bfd6153b83ffa6c}{button}) );
293     
294 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=328pt]{classIrene3000_ae0e0a5b773c3625b44c1d113c76a1540_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_abf3db725fabb0634ec889b32068a5eec}\label{classIrene3000_abf3db725fabb0634ec889b32068a5eec}} 
\index{Irene3000@{Irene3000}!read\+Ph@{read\+Ph}}
\index{read\+Ph@{read\+Ph}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{read\+Ph()}{readPh()}}
{\footnotesize\ttfamily float Irene3000\+::read\+Ph (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::read\+Ph(gain)\+: This method is provided to read the PH probe note that for the best results, PH must be correlated to Temperature.

\begin{DoxyReturn}{Returns}
the PH probe value 
\end{DoxyReturn}


Definition at line 340 of file irene3000.\+cpp.



References A\+D\+C\+\_\+\+M\+A\+X\+I\+M\+U\+M\+\_\+\+V\+A\+L\+UE, ads, opamp\+Gain, params, ph, Irene3000\+::parameters\+\_\+\+T\+::p\+H7\+Cal, Irene3000\+::parameters\+\_\+\+T\+::p\+H\+Step, set\+Gain(), and v\+Ref.



Referenced by read().


\begin{DoxyCode}
341 \{
342     Serial.println(\textcolor{stringliteral}{"Entering Irene3000.readPh()"});
343     Serial.println();
344 
345     this->\hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
346 
347     \textcolor{keywordtype}{double} Voltage =  gain * ( \hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_af771ceafe0e6524dd8497d4305dfe778}{ph}) ) / 
      \hyperlink{Irene3000_8h_ae04444a85a37b5dce09107f2ce2b2c80}{ADC\_MAXIMUM\_VALUE};
348 
349     \textcolor{keywordtype}{float} miliVolts = Voltage * 1000;
350     \textcolor{keywordtype}{float} temporary = ((((\hyperlink{classIrene3000_a018e7ff9bee57e6d2b298667a668ba7e}{vRef} * (float)\hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a21265466a570d84bff914f26d2f7a03e}{pH7Cal}) / 32767) * 1000) - miliVolts) / 
      \hyperlink{classIrene3000_a4e588985ca74e5076029d5dee81034f2}{opampGain};
351 
352     Serial.println(\textcolor{stringliteral}{"ph is : "});
353     Serial.println( 7 - (temporary / \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a61cfcc2539d5f630e9071f3753aba9fe}{pHStep}) ) ;
354 
355     \textcolor{keywordflow}{return}( 7 - (temporary / \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a61cfcc2539d5f630e9071f3753aba9fe}{pHStep}) );
356 
357 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=311pt]{classIrene3000_abf3db725fabb0634ec889b32068a5eec_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_abf3db725fabb0634ec889b32068a5eec_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a94ad40f281d83ad1be20bf1edd6fe802}\label{classIrene3000_a94ad40f281d83ad1be20bf1edd6fe802}} 
\index{Irene3000@{Irene3000}!read\+Temp@{read\+Temp}}
\index{read\+Temp@{read\+Temp}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{read\+Temp()}{readTemp()}}
{\footnotesize\ttfamily double Irene3000\+::read\+Temp (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::read\+Temp(gain)\+: This method is provided to read the Temeperature probe

\begin{DoxyReturn}{Returns}
the Temperature probe value 
\end{DoxyReturn}


Definition at line 366 of file irene3000.\+cpp.



References ads, set\+Gain(), temp, and V\+\_\+\+G\+A\+I\+N\+\_\+8.



Referenced by read().


\begin{DoxyCode}
367 \{
368 
369     Serial.println(\textcolor{stringliteral}{"Entering Irene3000.readTemp()"});
370     Serial.println();
371 
372     \textcolor{keyword}{const} \textcolor{keywordtype}{double} A = 3.9083E-3;
373     \textcolor{keyword}{const} \textcolor{keywordtype}{double} B = -5.775E-7;
374     \textcolor{keywordtype}{double} T;
375 
376     this->\hyperlink{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}{setGain}(gain);
377     \textcolor{keywordtype}{int} adc0 = \hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.readADC\_SingleEnded(\hyperlink{Irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp});
378 
379 
380     \textcolor{keywordtype}{double} R = ((adc0 * \hyperlink{Irene3000_8h_ab7ab16df599d3f0ce29e12791a504891}{V\_GAIN\_8}) / 0.095) / 1000;
381 
382     T = 0.0 - A;
383     T += sqrt((A * A) - 4.0 * B * (1.0 - R));
384     T /= (2.0 * B);
385 
386     \textcolor{keywordflow}{if} (T > 0 && T < 200) 
387     \{
388         Serial.print(\textcolor{stringliteral}{"temperature : "});
389         Serial.println(T);
390         Serial.println();
391 
392         \textcolor{keywordflow}{return} T;
393     \}
394     \textcolor{keywordflow}{else} 
395     \{
396         T = 0.0 - A;
397         T -= sqrt((A * A) - 4.0 * B * (1.0 - R));
398         T /= (2.0 * B);
399         
400         Serial.println(\textcolor{stringliteral}{"temperature : "});
401         Serial.println(T);
402         Serial.println();
403 
404         \textcolor{keywordflow}{return} T;
405     \}
406 
407 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=324pt]{classIrene3000_a94ad40f281d83ad1be20bf1edd6fe802_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_a94ad40f281d83ad1be20bf1edd6fe802_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classIrene3000_a0fba280e8b7c881307efa31281aa691d}\label{classIrene3000_a0fba280e8b7c881307efa31281aa691d}} 
\index{Irene3000@{Irene3000}!reset\+Params@{reset\+Params}}
\index{reset\+Params@{reset\+Params}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{reset\+Params()}{resetParams()}}
{\footnotesize\ttfamily void Irene3000\+::reset\+Params (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\hyperlink{classIrene3000_a0fba280e8b7c881307efa31281aa691d}{Irene3000\+::reset\+Params()}\+: This method is provided to reset the PH configuration, assuming Ideal configuration 

Definition at line 470 of file irene3000.\+cpp.



References params, Irene3000\+::parameters\+\_\+\+T\+::p\+H4\+Cal, Irene3000\+::parameters\+\_\+\+T\+::p\+H7\+Cal, Irene3000\+::parameters\+\_\+\+T\+::p\+H\+Step, Write\+\_\+\+Check, and Irene3000\+::parameters\+\_\+\+T\+::\+Write\+Check.


\begin{DoxyCode}
471 \{
472     Serial.println(\textcolor{stringliteral}{"Entering Irene3000.resetParams()"});
473     Serial.println();
474 
475     \textcolor{comment}{//Restore to default set of parameters!}
476     \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a56f1f14d33a69300d580eda2dc52cecd}{WriteCheck} = \hyperlink{Irene3000_8h_a9fa3b8fd890fde289060ee254cd273d5}{Write\_Check};
477     \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a21265466a570d84bff914f26d2f7a03e}{pH7Cal} = 16384; \textcolor{comment}{//assume ideal probe and amp conditions 1/2 of 4096}
478     \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a1144de6fb54eb3e1dd2a3d8c2afc97dc}{pH4Cal} = 8192; \textcolor{comment}{//using ideal probe slope we end up this many 12bit units away on the
       4 scale}
479     \hyperlink{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}{params}.\hyperlink{structIrene3000_1_1parameters__T_a61cfcc2539d5f630e9071f3753aba9fe}{pHStep} = 59.16;\textcolor{comment}{//ideal probe slope}
480 
481 
482 \}
\end{DoxyCode}
\mbox{\Hypertarget{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}\label{classIrene3000_aff7c5da186b388e7272e63ff88a20c34}} 
\index{Irene3000@{Irene3000}!set\+Gain@{set\+Gain}}
\index{set\+Gain@{set\+Gain}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{set\+Gain()}{setGain()}}
{\footnotesize\ttfamily void Irene3000\+::set\+Gain (\begin{DoxyParamCaption}\item[{ads\+Gain\+\_\+t}]{gain }\end{DoxyParamCaption})}

Irene3000\+::set\+Gain(gain)\+: This method is provided to set the A\+DS chip gain 

Definition at line 301 of file irene3000.\+cpp.



References ads.



Referenced by calibratep\+H4(), calibratep\+H7(), read\+A\+D\+S\+Channel2(), read\+Button(), read\+Ph(), and read\+Temp().


\begin{DoxyCode}
302 \{
303     Serial.println(\textcolor{stringliteral}{"Entering Irene3000.setGain()"});
304     Serial.println();
305 
306     this->\hyperlink{classIrene3000_a1215e77ba761c9908d80d691f149e135}{ads}.setGain(gain);
307 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classIrene3000_aff7c5da186b388e7272e63ff88a20c34_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}\label{classIrene3000_aae3a95a1c83c766cd2f299ce471c337e}} 
\index{Irene3000@{Irene3000}!adc2@{adc2}}
\index{adc2@{adc2}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{adc2}{adc2}}
{\footnotesize\ttfamily struct \hyperlink{structIrene3000_1_1state}{Irene3000\+::state} Irene3000\+::adc2\hspace{0.3cm}{\ttfamily [private]}}



Referenced by config(), print\+Conf(), and read().

\mbox{\Hypertarget{classIrene3000_a1215e77ba761c9908d80d691f149e135}\label{classIrene3000_a1215e77ba761c9908d80d691f149e135}} 
\index{Irene3000@{Irene3000}!ads@{ads}}
\index{ads@{ads}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{ads}{ads}}
{\footnotesize\ttfamily Adafruit\+\_\+\+A\+D\+S1115 Irene3000\+::ads\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 69 of file Irene3000.\+h.



Referenced by begin(), calibratep\+H4(), calibratep\+H7(), read\+A\+D\+S\+Channel2(), read\+Button(), read\+Ph(), read\+Temp(), and set\+Gain().

\mbox{\Hypertarget{classIrene3000_a6534710e4c81669dcc828d2c5450fabe}\label{classIrene3000_a6534710e4c81669dcc828d2c5450fabe}} 
\index{Irene3000@{Irene3000}!irene\+Json\+Size@{irene\+Json\+Size}}
\index{irene\+Json\+Size@{irene\+Json\+Size}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{irene\+Json\+Size}{ireneJsonSize}}
{\footnotesize\ttfamily int Irene3000\+::irene\+Json\+Size =100\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 86 of file Irene3000.\+h.



Referenced by config(), and read().

\mbox{\Hypertarget{classIrene3000_a4e588985ca74e5076029d5dee81034f2}\label{classIrene3000_a4e588985ca74e5076029d5dee81034f2}} 
\index{Irene3000@{Irene3000}!opamp\+Gain@{opamp\+Gain}}
\index{opamp\+Gain@{opamp\+Gain}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{opamp\+Gain}{opampGain}}
{\footnotesize\ttfamily const float Irene3000\+::opamp\+Gain = 5.\+25\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 90 of file Irene3000.\+h.



Referenced by calcp\+H\+Slope(), and read\+Ph().

\mbox{\Hypertarget{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}\label{classIrene3000_a136585a5ee7f9ac6ab52175fa153f8e3}} 
\index{Irene3000@{Irene3000}!params@{params}}
\index{params@{params}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{params}{params}}
{\footnotesize\ttfamily struct \hyperlink{structIrene3000_1_1parameters__T}{Irene3000\+::parameters\+\_\+T} Irene3000\+::params\hspace{0.3cm}{\ttfamily [private]}}



Referenced by calcp\+H\+Slope(), calibratep\+H4(), calibratep\+H7(), read\+Ph(), and reset\+Params().

\mbox{\Hypertarget{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}\label{classIrene3000_a997a4ee466fa1d5416e07e444965dc9e}} 
\index{Irene3000@{Irene3000}!ph\+Probe@{ph\+Probe}}
\index{ph\+Probe@{ph\+Probe}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{ph\+Probe}{phProbe}}
{\footnotesize\ttfamily struct \hyperlink{structIrene3000_1_1state}{Irene3000\+::state}  Irene3000\+::ph\+Probe\hspace{0.3cm}{\ttfamily [private]}}



Referenced by config(), print\+Conf(), and read().

\mbox{\Hypertarget{classIrene3000_a018e7ff9bee57e6d2b298667a668ba7e}\label{classIrene3000_a018e7ff9bee57e6d2b298667a668ba7e}} 
\index{Irene3000@{Irene3000}!v\+Ref@{v\+Ref}}
\index{v\+Ref@{v\+Ref}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{v\+Ref}{vRef}}
{\footnotesize\ttfamily const float Irene3000\+::v\+Ref = 1.\+024\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 88 of file Irene3000.\+h.



Referenced by calcp\+H\+Slope(), and read\+Ph().

\mbox{\Hypertarget{classIrene3000_af05612c78c758ce9db316c75ad937130}\label{classIrene3000_af05612c78c758ce9db316c75ad937130}} 
\index{Irene3000@{Irene3000}!water\+Temp@{water\+Temp}}
\index{water\+Temp@{water\+Temp}!Irene3000@{Irene3000}}
\subsubsection{\texorpdfstring{water\+Temp}{waterTemp}}
{\footnotesize\ttfamily struct \hyperlink{structIrene3000_1_1state}{Irene3000\+::state}  Irene3000\+::water\+Temp\hspace{0.3cm}{\ttfamily [private]}}



Referenced by config(), print\+Conf(), and read().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{Irene3000_8h}{Irene3000.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{irene3000_8cpp}{irene3000.\+cpp}\end{DoxyCompactItemize}
