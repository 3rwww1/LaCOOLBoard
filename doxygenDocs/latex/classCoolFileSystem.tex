\hypertarget{classCoolFileSystem}{}\section{Cool\+File\+System Class Reference}
\label{classCoolFileSystem}\index{Cool\+File\+System@{Cool\+File\+System}}


This class handles the file system.  




{\ttfamily \#include $<$Cool\+File\+System.\+h$>$}



Collaboration diagram for Cool\+File\+System\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=205pt]{classCoolFileSystem__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}{begin} ()
\item 
bool \hyperlink{classCoolFileSystem_adfa8e2e80641ae6f0cceabd348a9b841}{update\+Config\+Files} (String answer)
\item 
bool \hyperlink{classCoolFileSystem_a13f2958f5b87757c31fc53797a30d23a}{file\+Update} (String update, const char $\ast$path)
\item 
bool \hyperlink{classCoolFileSystem_afa3a4feae94871d4d3b6bebb701c2e67}{save\+Sensor\+Data} (const char $\ast$data)
\item 
bool \hyperlink{classCoolFileSystem_ab78704d5d21ce10fc6f1138ab5ab46c8}{save\+Sensor\+Data\+C\+SV} (const char $\ast$data)
\item 
bool \hyperlink{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}{is\+Data\+Saved} ()
\item 
String $\ast$ \hyperlink{classCoolFileSystem_a3223ffff4266a6300988fab956d6b4b2}{get\+Sensor\+Saved\+Data} (int \&size)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{saved\+Data} =0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class handles the file system. 

Definition at line 23 of file Cool\+File\+System.\+h.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}\label{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}} 
\index{Cool\+File\+System@{Cool\+File\+System}!begin@{begin}}
\index{begin@{begin}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::begin (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}{Cool\+File\+System\+::begin()}\+: This method is provided to start the S\+P\+I\+F\+FS object.

\begin{DoxyReturn}{Returns}
true if S\+P\+I\+F\+FS was initialized correctly, false otherwise 
\end{DoxyReturn}


Definition at line 33 of file Cool\+File\+System.\+cpp.



Referenced by Cool\+Board\+::config().


\begin{DoxyCode}
34 \{
35 
36 \textcolor{preprocessor}{#if DEBUG == 1}
37 
38     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.begin()"}) );
39     Serial.println();   
40     Serial.print( F(\textcolor{stringliteral}{"SPIFFS success ? "}) );
41     Serial.println(SPIFFS.begin());
42     Serial.println();
43 
44 \textcolor{preprocessor}{#endif}
45 
46     \textcolor{keywordflow}{return}( SPIFFS.begin() );                                   \textcolor{comment}{//Initialize Filesystem}
47 
48 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=327pt]{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a13f2958f5b87757c31fc53797a30d23a}\label{classCoolFileSystem_a13f2958f5b87757c31fc53797a30d23a}} 
\index{Cool\+File\+System@{Cool\+File\+System}!file\+Update@{file\+Update}}
\index{file\+Update@{file\+Update}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{file\+Update()}{fileUpdate()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::file\+Update (\begin{DoxyParamCaption}\item[{String}]{update,  }\item[{const char $\ast$}]{path }\end{DoxyParamCaption})}

Cool\+File\+System\+::file\+Update( update msg, file path)\+: This method is provided to ensure the correct update for each configuration file in the File system

\begin{DoxyReturn}{Returns}
true if successful , false otherwise 
\end{DoxyReturn}


Definition at line 975 of file Cool\+File\+System.\+cpp.



Referenced by update\+Config\+Files().


\begin{DoxyCode}
976 \{
977 
978 \textcolor{preprocessor}{#if DEBUG == 1}
979 
980     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.fileUpdate()"}) );
981     Serial.println();
982     
983     Serial.println(F(\textcolor{stringliteral}{"update msg is :"}));
984     Serial.println(update);
985     
986     Serial.println(F(\textcolor{stringliteral}{"file path is : "}));
987     Serial.println(path);   
988 
989 \textcolor{preprocessor}{#endif}
990     \textcolor{comment}{//transfer update String to json}
991     DynamicJsonBuffer updateBuffer;
992     JsonObject& updateJson = updateBuffer.parseObject(update.c\_str() );
993     
994     \textcolor{keywordflow}{if}(updateJson.success())
995     \{
996     
997 \textcolor{preprocessor}{    #if DEBUG ==1}
998         
999         Serial.println(F(\textcolor{stringliteral}{"root parsing success :"}));
1000         updateJson.printTo(Serial);
1001     
1002 \textcolor{preprocessor}{    #endif}
1003 
1004     \}
1005     \textcolor{keywordflow}{else}
1006     \{
1007     
1008 \textcolor{preprocessor}{    #if DEBUG == 1 }
1009     
1010         Serial.println(F(\textcolor{stringliteral}{"root parsing failure "}));
1011     
1012 \textcolor{preprocessor}{    #endif}
1013         
1014         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});  
1015 
1016     \}
1017     
1018     \textcolor{comment}{//open file in read mode}
1019     File configFile = SPIFFS.open( path , \textcolor{stringliteral}{"r"});
1020     
1021     \textcolor{keywordflow}{if}(!configFile)
1022     \{   
1023 \textcolor{preprocessor}{    #if DEBUG == 1}
1024         
1025         Serial.print( F(\textcolor{stringliteral}{"failed to read "}) );
1026         Serial.println(path);
1027 
1028 \textcolor{preprocessor}{    #endif}
1029         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
1030     \}
1031 
1032     \textcolor{comment}{//copy file to a json}
1033     \textcolor{keywordtype}{size\_t} size = configFile.size();
1034 
1035     \textcolor{comment}{// Allocate a buffer to store contents of the file.}
1036     std::unique\_ptr < char[] > buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
1037 
1038     configFile.readBytes(buf.get(), size);
1039 
1040     DynamicJsonBuffer fileBuffer;
1041 
1042     JsonObject & fileJson = fileBuffer.parseObject(buf.get());
1043 
1044     \textcolor{keywordflow}{if} (!fileJson.success())
1045     \{
1046 
1047 \textcolor{preprocessor}{    #if DEBUG == 1}
1048 
1049         Serial.println( F(\textcolor{stringliteral}{"failed to parse json"}) );
1050 
1051 \textcolor{preprocessor}{    #endif}
1052 
1053         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
1054     \}
1055     
1056     \textcolor{comment}{//modify root to contain all the json keys: updated ones and non updated ones}
1057     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} kv : fileJson) 
1058     \{
1059         \textcolor{keywordflow}{if}( updateJson[kv.key].success() )
1060         \{
1061             fileJson[kv.key]=updateJson[kv.key];            
1062         \}
1063         \textcolor{keywordflow}{else}
1064         \{
1065             fileJson[kv.key]=fileJson[kv.key];
1066         \}
1067 
1068                 
1069     \}
1070 
1071 \textcolor{preprocessor}{#if DEBUG == 1}
1072 
1073     Serial.println(F(\textcolor{stringliteral}{"fileJson is now : "}));
1074     fileJson.printTo(Serial);
1075 
1076 \textcolor{preprocessor}{#endif}
1077 
1078     \textcolor{comment}{//close the file}
1079     configFile.close();
1080 
1081     \textcolor{comment}{//open file in w mode}
1082     configFile = SPIFFS.open( path , \textcolor{stringliteral}{"w"});
1083     
1084     \textcolor{keywordflow}{if}(!configFile)
1085     \{   
1086 \textcolor{preprocessor}{    #if DEBUG == 1}
1087         
1088         Serial.print( F(\textcolor{stringliteral}{"failed to open "}) );
1089         Serial.println(path);
1090 
1091 \textcolor{preprocessor}{    #endif}
1092         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
1093     \}
1094     \textcolor{comment}{//print json to file    }
1095     
1096     fileJson.printTo(configFile);
1097     
1098     \textcolor{comment}{//close file}
1099     configFile.close();
1100 
1101 
1102 \textcolor{preprocessor}{#if DEBUG == 1}
1103 
1104     Serial.println( F(\textcolor{stringliteral}{"config is"}) );
1105     fileJson.printTo(Serial);
1106     Serial.println();
1107 
1108 \textcolor{preprocessor}{#endif}
1109     
1110     \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
1111     
1112 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a13f2958f5b87757c31fc53797a30d23a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a3223ffff4266a6300988fab956d6b4b2}\label{classCoolFileSystem_a3223ffff4266a6300988fab956d6b4b2}} 
\index{Cool\+File\+System@{Cool\+File\+System}!get\+Sensor\+Saved\+Data@{get\+Sensor\+Saved\+Data}}
\index{get\+Sensor\+Saved\+Data@{get\+Sensor\+Saved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{get\+Sensor\+Saved\+Data()}{getSensorSavedData()}}
{\footnotesize\ttfamily String $\ast$ Cool\+File\+System\+::get\+Sensor\+Saved\+Data (\begin{DoxyParamCaption}\item[{int \&}]{size }\end{DoxyParamCaption})}

Cool\+File\+System\+::get\+Sensor\+Data()\+: This method is provided to return the sensor data saved in the File System

\begin{DoxyReturn}{Returns}
String\mbox{[}\mbox{]} of the saved sensor data file 
\end{DoxyReturn}


Definition at line 790 of file Cool\+File\+System.\+cpp.



References saved\+Data, and temp.



Referenced by Cool\+Board\+::on\+Line\+Mode().


\begin{DoxyCode}
791 \{
792     \textcolor{keywordtype}{int} memorySize=10;
793     
794     String* sensorsDataArrayPointer=\textcolor{keyword}{new} String[memorySize];
795     
796     
797 
798     size=0;
799 
800 \textcolor{preprocessor}{#if DEBUG == 1 }
801 
802     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.getSensorSavedData()"}) );
803     Serial.println();
804 
805 \textcolor{preprocessor}{#endif}
806 
807     \textcolor{comment}{//open sensors data file}
808     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"r"});
809     
810     \textcolor{keywordflow}{if} (!sensorsData)
811     \{
812 
813 \textcolor{preprocessor}{    #if DEBUG == 1 }
814 
815         Serial.println( F(\textcolor{stringliteral}{"Failed to read /sensorsData.json"}) );
816 
817 \textcolor{preprocessor}{    #endif}
818          
819         sensorsDataArrayPointer[size]=\textcolor{stringliteral}{"Failed to read /sensorsData.json"};
820         size++;
821 
822         \textcolor{comment}{//result=sensorsDataArrayPointer;}
823         \textcolor{keywordflow}{return}(sensorsDataArrayPointer);
824 
825     \}
826 
827     \textcolor{keywordflow}{else}
828     \{
829         \textcolor{comment}{//read the file line by line and put it in the String array(aka String*)        }
830 
831         \textcolor{comment}{//while loop until EOF is reached}
832         String \hyperlink{Irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp};
833         \textcolor{keywordflow}{while}(sensorsData.available())
834         \{
835             yield();
836 
837             temp=sensorsData.readStringUntil(\textcolor{charliteral}{'\(\backslash\)r'});
838 
839 \textcolor{preprocessor}{        #if DEBUG == 1}
840 
841             Serial.println(F(\textcolor{stringliteral}{"temp String : "}));
842             Serial.println(temp);
843             Serial.println();
844             
845 \textcolor{preprocessor}{        #endif}
846             sensorsDataArrayPointer[size]=\hyperlink{Irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp};
847             sensorsData.read();
848             
849             
850         
851 \textcolor{preprocessor}{        #if DEBUG== 1}
852  
853             Serial.print(F(\textcolor{stringliteral}{"read String N°"}));
854             Serial.print(size);
855             Serial.println(F(\textcolor{stringliteral}{" is : "}));
856             Serial.println( sensorsDataArrayPointer[size] );
857             Serial.println();
858             Serial.println(F(\textcolor{stringliteral}{"next char is : "}));
859             Serial.println((\textcolor{keywordtype}{char})sensorsData.peek());
860             Serial.println();           
861             
862 \textcolor{preprocessor}{        #endif}
863             size++;
864             
865             \textcolor{comment}{//resize}
866             \textcolor{keywordflow}{if}(size>(memorySize-1))
867             \{
868                 
869                 \textcolor{keywordtype}{size\_t} newSize = memorySize * 2;
870                 
871                 String* newArr=\textcolor{keyword}{new} String[newSize];
872                 
873                 \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} j=0;j<memorySize;j++)
874                 \{
875                     newArr[j]=sensorsDataArrayPointer[j];               
876                 \}
877 
878             
879 \textcolor{preprocessor}{            #if DEBUG== 1}
880             
881                 \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<memorySize;i++)
882                 \{               
883                     Serial.print(F(\textcolor{stringliteral}{"newArr String N°"}));
884                     Serial.print(i);
885                     Serial.println(F(\textcolor{stringliteral}{" is : "}));
886                     Serial.println( newArr[i] );
887                     Serial.println();   
888                 \}       
889             
890 \textcolor{preprocessor}{            #endif}
891 
892                 memorySize = newSize;       
893         
894                 \textcolor{keyword}{delete}[] sensorsDataArrayPointer;
895                 
896                 sensorsDataArrayPointer=newArr;         
897                 
898 \textcolor{preprocessor}{            #if DEBUG== 1}
899         
900                 \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<memorySize;i++)
901                 \{               
902                     Serial.print(F(\textcolor{stringliteral}{"sensorsDataArray String N°"}));
903                     Serial.print(i);
904                     Serial.println(F(\textcolor{stringliteral}{" is : "}));
905                     Serial.println( sensorsDataArrayPointer[i] );
906                     Serial.println();   
907                 \}       
908             
909 \textcolor{preprocessor}{            #endif}
910 
911             
912             \}
913             
914             yield();
915 
916         \}
917         
918                     
919         \textcolor{comment}{//close the file}
920         sensorsData.close();
921 
922         \textcolor{comment}{//delete data in the file}
923         File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"w"});
924         File sensorsDataCSV=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"w"});
925         \textcolor{keywordflow}{if}( (!sensorsData)||(!sensorsDataCSV) ) 
926         \{
927 \textcolor{preprocessor}{        #if DEBUG == 1}
928     
929             Serial.println( F(\textcolor{stringliteral}{"failed to delete data in the file"}) );
930     
931 \textcolor{preprocessor}{        #endif}
932             size++;
933             sensorsDataArrayPointer[size]=\textcolor{stringliteral}{"failed to delete data in the file"};
934 
935             \textcolor{keywordflow}{return}(sensorsDataArrayPointer);
936 
937         \}
938 
939         sensorsData.close();
940         sensorsDataCSV.close();
941 
942         \textcolor{comment}{//position the saved data flag to false}
943         this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{false}; 
944         
945 
946         \textcolor{comment}{//return the string}
947 \textcolor{preprocessor}{        #if DEBUG == 1}
948         
949             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<size;i++)
950             \{
951                 Serial.print(F(\textcolor{stringliteral}{"String N°"}));
952                 Serial.println(i);
953                 Serial.println(sensorsDataArrayPointer[i]);
954                 Serial.println();           
955             \}
956     
957 \textcolor{preprocessor}{        #endif}
958         \textcolor{keywordflow}{return}(sensorsDataArrayPointer);
959         
960         
961         
962     \}
963 
964 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a3223ffff4266a6300988fab956d6b4b2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}\label{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}} 
\index{Cool\+File\+System@{Cool\+File\+System}!is\+Data\+Saved@{is\+Data\+Saved}}
\index{is\+Data\+Saved@{is\+Data\+Saved}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{is\+Data\+Saved()}{isDataSaved()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::is\+Data\+Saved (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}{Cool\+File\+System\+::is\+Data\+Saved()}\+: This method is provided to report wether there is sensor data saved in the File System.

\begin{DoxyReturn}{Returns}
true if there is data saved, false otherwise 
\end{DoxyReturn}


Definition at line 724 of file Cool\+File\+System.\+cpp.



References saved\+Data.



Referenced by Cool\+Board\+::on\+Line\+Mode().


\begin{DoxyCode}
725 \{
726 
727 \textcolor{preprocessor}{#if DEBUG == 1 }
728 
729     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.isDataSaved()"}) );
730     Serial.println();
731 \textcolor{preprocessor}{#endif}
732 
733     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"r"});
734     File sensorsDataCSV=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"r"});
735     
736     \textcolor{keywordflow}{if}( (!sensorsData)||(!sensorsDataCSV) ) 
737     \{
738 \textcolor{preprocessor}{    #if DEBUG == 1}
739 
740         Serial.println( F(\textcolor{stringliteral}{"failed to open files"}) );
741 
742 \textcolor{preprocessor}{    #endif}
743         
744         this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{false};
745     \}
746     \textcolor{keywordflow}{else}
747     \{       
748 \textcolor{preprocessor}{        #if DEBUG == 1}
749 
750             Serial.print(F(\textcolor{stringliteral}{"sensors Data file size : "}));
751             Serial.println(sensorsData.size());
752             Serial.println();
753             
754             Serial.print(F(\textcolor{stringliteral}{"sensors Data CSV file size : "}));               
755             Serial.println(sensorsDataCSV.size());
756             Serial.println();
757 \textcolor{preprocessor}{        #endif  }
758 
759         \textcolor{keywordflow}{if}( (sensorsData.size()!=0) || (sensorsDataCSV.size()!=0) )
760         \{
761             this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{true};
762         \}
763         \textcolor{keywordflow}{else}
764         \{
765 
766             this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{false};     
767         
768         \}   
769     \}
770 
771 \textcolor{preprocessor}{#if DEBUG == 1 }
772 
773     Serial.print( F(\textcolor{stringliteral}{"savedData : "}) );
774     Serial.println(this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData});
775 
776 \textcolor{preprocessor}{#endif}
777 
778     \textcolor{keywordflow}{return}( this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData} );
779 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_afa3a4feae94871d4d3b6bebb701c2e67}\label{classCoolFileSystem_afa3a4feae94871d4d3b6bebb701c2e67}} 
\index{Cool\+File\+System@{Cool\+File\+System}!save\+Sensor\+Data@{save\+Sensor\+Data}}
\index{save\+Sensor\+Data@{save\+Sensor\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{save\+Sensor\+Data()}{saveSensorData()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::save\+Sensor\+Data (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data }\end{DoxyParamCaption})}

Cool\+File\+System\+::save\+Sensor\+Data( data )\+: This method is provided to save the data on the local memory when there is no internet available

sets the saved data flag to T\+R\+UE when successful

\begin{DoxyReturn}{Returns}
true if the data was saved, false otherwise 
\end{DoxyReturn}


Definition at line 60 of file Cool\+File\+System.\+cpp.



References saved\+Data, and save\+Sensor\+Data\+C\+S\+V().



Referenced by Cool\+Board\+::off\+Line\+Mode().


\begin{DoxyCode}
61 \{
62 
63 \textcolor{preprocessor}{#if DEBUG == 1}
64 
65     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.saveSensorData()"}) );
66     Serial.println();
67 
68 \textcolor{preprocessor}{#endif}
69     
70     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"a"});
71 
72     \textcolor{keywordflow}{if}(!sensorsData)
73     \{
74     
75 \textcolor{preprocessor}{    #if DEBUG == 1}
76     
77         Serial.println( F(\textcolor{stringliteral}{"failed to append to /sensorsData.json"}) );
78         Serial.println();
79     
80 \textcolor{preprocessor}{    #endif}
81 
82         this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{false};
83         \textcolor{keywordflow}{return} (\textcolor{keyword}{false}); 
84     \}   
85 
86     DynamicJsonBuffer jsonBuffer;
87     JsonObject& root = jsonBuffer.parseObject(data);
88 
89     \textcolor{keywordflow}{if}( root.success() )
90     \{
91         root.printTo(sensorsData);
92         sensorsData.println();
93         sensorsData.close();
94 
95 
96 \textcolor{preprocessor}{    #if DEBUG == 1}
97         
98         Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
99         Serial.println(jsonBuffer.size());
100         Serial.println();
101 
102         sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"r"});
103         
104         \textcolor{keywordflow}{if}(!sensorsData)
105         \{
106             
107             Serial.println(F(\textcolor{stringliteral}{"failed to reopen /sensorsData.json"}));
108                         
109         \}
110     
111         Serial.println( F(\textcolor{stringliteral}{"saved data is : "}) );
112         root.printTo(Serial);
113         Serial.println();
114 
115         Serial.println(F(\textcolor{stringliteral}{"/sensorsData.json"}) );
116         \textcolor{keywordflow}{while} (sensorsData.available()) 
117         \{
118             Serial.println(sensorsData.readString()) ;
119         \}
120         
121         Serial.println();
122         
123         sensorsData.close();
124     
125 \textcolor{preprocessor}{    #endif}
126 
127         this->\hyperlink{classCoolFileSystem_ab78704d5d21ce10fc6f1138ab5ab46c8}{saveSensorDataCSV}(data);     
128 
129         this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{true};
130         \textcolor{keywordflow}{return} (\textcolor{keyword}{true});      
131     \}
132     \textcolor{keywordflow}{else}
133     \{
134     
135 \textcolor{preprocessor}{    #if DEBUG == 1}
136 
137         Serial.println( F(\textcolor{stringliteral}{"failed to parse json"}) );
138     
139 \textcolor{preprocessor}{    #endif}
140 
141         this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{false};
142         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
143     \}
144     
145 
146 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_afa3a4feae94871d4d3b6bebb701c2e67_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_afa3a4feae94871d4d3b6bebb701c2e67_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_ab78704d5d21ce10fc6f1138ab5ab46c8}\label{classCoolFileSystem_ab78704d5d21ce10fc6f1138ab5ab46c8}} 
\index{Cool\+File\+System@{Cool\+File\+System}!save\+Sensor\+Data\+C\+SV@{save\+Sensor\+Data\+C\+SV}}
\index{save\+Sensor\+Data\+C\+SV@{save\+Sensor\+Data\+C\+SV}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{save\+Sensor\+Data\+C\+S\+V()}{saveSensorDataCSV()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::save\+Sensor\+Data\+C\+SV (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data }\end{DoxyParamCaption})}

Cool\+File\+System\+::save\+Sensor\+Data\+C\+S\+V( data )\+: This method is provided to save the data on the local memory in C\+SV format.

\begin{DoxyReturn}{Returns}
true if the data was saved, false otherwise 
\end{DoxyReturn}


Definition at line 157 of file Cool\+File\+System.\+cpp.



Referenced by save\+Sensor\+Data().


\begin{DoxyCode}
158 \{
159 \textcolor{preprocessor}{#if DEBUG == 1}
160 
161     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.saveSensorDataCSV()"}) );
162     Serial.println();
163 
164 \textcolor{preprocessor}{#endif}
165     \textcolor{comment}{//parsing json}
166     DynamicJsonBuffer jsonBuffer;
167     JsonObject& root = jsonBuffer.parseObject(data);
168     String header=\textcolor{stringliteral}{""},values=\textcolor{stringliteral}{""};
169     
170     \textcolor{comment}{//if json parse success}
171     \textcolor{keywordflow}{if}( root.success() )
172     \{       
173         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} kv : root) 
174         \{
175             \textcolor{comment}{//print the header(json keys ) to header string}
176             header+=kv.key;
177             header+=\textcolor{charliteral}{','};
178             
179             \textcolor{comment}{//print the values to header string}
180             values+=( kv.value.as<\textcolor{keywordtype}{char}*>() );
181             values+=\textcolor{charliteral}{','};
182         \}
183 
184         header.remove(header.lastIndexOf(\textcolor{charliteral}{','}), 1);
185         values.remove(values.lastIndexOf(\textcolor{charliteral}{','}), 1);      
186     
187 \textcolor{preprocessor}{    #if DEBUG == 1}
188     
189         Serial.println( F(\textcolor{stringliteral}{" data is : "}) );
190         root.printTo(Serial);
191         Serial.println();
192         
193         Serial.println(F(\textcolor{stringliteral}{" header is :"} ) ) ;
194         Serial.println(header);
195         Serial.println(F(\textcolor{stringliteral}{" values are : "}));
196         Serial.println(values);
197         
198         Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
199         Serial.println(jsonBuffer.size());
200         Serial.println();
201 
202     
203 \textcolor{preprocessor}{    #endif}
204     
205     \}
206     \textcolor{comment}{//failed to parse json}
207     \textcolor{keywordflow}{else}
208     \{
209     
210 \textcolor{preprocessor}{    #if DEBUG == 1}
211 
212         Serial.println( F(\textcolor{stringliteral}{"failed to parse json"}) );
213     
214 \textcolor{preprocessor}{    #endif}
215 
216         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
217     \}
218 
219     \textcolor{comment}{//check if file exists}
220     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"r"});
221     
222     \textcolor{comment}{//file doesn't exist}
223     \textcolor{keywordflow}{if}( (!sensorsData) || (sensorsData.size()==0 ) )
224     \{
225     
226 \textcolor{preprocessor}{    #if DEBUG == 1}
227     
228         Serial.println( F(\textcolor{stringliteral}{"/sensorsData.csv not found"}) );
229         Serial.println( F(\textcolor{stringliteral}{"creating /sensorsData.csv"}) );
230         Serial.println();
231     
232 \textcolor{preprocessor}{    #endif}
233         \textcolor{comment}{//create file}
234         sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"w"});
235         
236         \textcolor{keywordflow}{if}(!sensorsData)
237         \{
238 
239 \textcolor{preprocessor}{        #if DEBUG == 1}
240         
241             Serial.println( F(\textcolor{stringliteral}{"failed to create /sensorsData.csv"}) );
242             Serial.println();
243         
244 \textcolor{preprocessor}{        #endif}
245         
246             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
247 
248         \}
249         
250         \textcolor{comment}{//print the header(json keys ) to the CSV file}
251         sensorsData.println(header);
252 
253         \textcolor{comment}{//print the values to the CSV file}
254         sensorsData.println(values);
255         
256         sensorsData.close();
257     
258 \textcolor{preprocessor}{    #if DEBUG == 1}
259 
260         sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"r"});
261         
262         \textcolor{keywordflow}{if}(!sensorsData)
263         \{
264             Serial.println(F(\textcolor{stringliteral}{"failed to reopen /sensorsData.csv "}));
265             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});      
266         \}
267 
268         Serial.println( F(\textcolor{stringliteral}{"/sensorsData.csv : "}) );
269 
270         \textcolor{keywordflow}{while} (sensorsData.available()) 
271         \{
272             Serial.print(sensorsData.readString()) ;
273         \}
274         Serial.println();
275 
276         \textcolor{comment}{//close the file}
277         sensorsData.close();
278 
279 \textcolor{preprocessor}{    #endif}
280         
281 
282         
283         \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
284         
285     \}
286 
287     \textcolor{comment}{//file exist}
288     \textcolor{keywordflow}{else}
289     \{
290 
291 \textcolor{preprocessor}{    #if DEBUG == 1}
292     
293         Serial.println( F(\textcolor{stringliteral}{"/sensorsData.csv  found"}) );
294         Serial.println( F(\textcolor{stringliteral}{"appending to /sensorsData.csv"}) );
295         Serial.println();
296     
297 \textcolor{preprocessor}{    #endif}
298 
299         \textcolor{comment}{//append to file}
300         sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"a"});
301         
302         \textcolor{keywordflow}{if}(!sensorsData)
303         \{
304         
305 \textcolor{preprocessor}{        #if DEBUG == 1}
306             
307             Serial.println( F(\textcolor{stringliteral}{"failed to open /sensorsData.csv"}) );
308             Serial.println();
309 
310 \textcolor{preprocessor}{        #endif}
311             
312             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
313         
314         \}
315 
316         \textcolor{comment}{//print the values to the CSV file}
317         sensorsData.println(values);
318         
319         sensorsData.close();
320 
321 \textcolor{preprocessor}{    #if DEBUG == 1}
322 
323         sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"r"});
324         
325         \textcolor{keywordflow}{if}(!sensorsData)
326         \{
327             Serial.println(F(\textcolor{stringliteral}{"failed to reopen /sensorsData.csv "}));
328             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});      
329         \}
330 
331         
332         Serial.println( F(\textcolor{stringliteral}{"/sensorsData.csv : "}) );
333 
334         \textcolor{keywordflow}{while} (sensorsData.available()) 
335         \{
336             Serial.println(sensorsData.readString()) ;
337         \}
338         
339         Serial.println();
340         
341         sensorsData.close();
342         
343 \textcolor{preprocessor}{    #endif      }
344         
345         \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
346     
347     \}   
348 
349 
350 
351 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_ab78704d5d21ce10fc6f1138ab5ab46c8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_adfa8e2e80641ae6f0cceabd348a9b841}\label{classCoolFileSystem_adfa8e2e80641ae6f0cceabd348a9b841}} 
\index{Cool\+File\+System@{Cool\+File\+System}!update\+Config\+Files@{update\+Config\+Files}}
\index{update\+Config\+Files@{update\+Config\+Files}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{update\+Config\+Files()}{updateConfigFiles()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::update\+Config\+Files (\begin{DoxyParamCaption}\item[{String}]{answer }\end{DoxyParamCaption})}

Cool\+File\+System\+::update\+Config\+Files( mqtt answer )\+: This method is provided to update the configuration files when the appropriate mqtt answer is received

\begin{DoxyReturn}{Returns}
true if the files are updated correctly, false otherwise 
\end{DoxyReturn}


Definition at line 362 of file Cool\+File\+System.\+cpp.



References file\+Update(), and temp.



Referenced by Cool\+Board\+::update().


\begin{DoxyCode}
363 \{
364 
365 \textcolor{preprocessor}{#if DEBUG == 1}
366 
367     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.updateConfigFiles"}) );
368     Serial.println();
369     
370     Serial.println( F(\textcolor{stringliteral}{"input answer : "}) );
371     Serial.println(answer);
372 \textcolor{preprocessor}{#endif}
373 
374     \textcolor{comment}{//total json object }
375     DynamicJsonBuffer jsonBuffer;
376     JsonObject& root = jsonBuffer.parseObject( answer.c\_str() );
377 
378 \textcolor{preprocessor}{#if DEBUG == 1}
379     
380     Serial.println( F(\textcolor{stringliteral}{"json object : "}) );  
381     root.printTo(Serial);
382     Serial.println();
383     
384     Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
385     Serial.println(jsonBuffer.size());
386     Serial.println();
387 
388 
389 \textcolor{preprocessor}{#endif}
390 
391     \textcolor{keywordflow}{if}(! ( root.success() ))
392     \{
393     
394 \textcolor{preprocessor}{    #if DEBUG == 1}
395 
396         Serial.println( F(\textcolor{stringliteral}{"failed to parse root "}) );
397         Serial.println();
398     
399 \textcolor{preprocessor}{    #endif}
400 
401         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
402     \}
403     \textcolor{keywordflow}{else}
404     \{
405 \textcolor{preprocessor}{    #if DEBUG == 1}
406         
407         Serial.println( F(\textcolor{stringliteral}{"success to parse root "}) );
408         Serial.println();
409         
410 \textcolor{preprocessor}{    #endif  }
411     \}
412     
413 \textcolor{preprocessor}{#if DEBUG == 1}
414 
415     Serial.println( F(\textcolor{stringliteral}{"input message is : "}) );
416     root.printTo(Serial);
417     Serial.println();
418 
419 \textcolor{preprocessor}{#endif}
420     \textcolor{comment}{//temp string}
421     String \hyperlink{Irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp};
422 
423     \textcolor{comment}{//CoolBoard Configuration File}
424 
425         JsonObject& jsonCoolBoard=root[\textcolor{stringliteral}{"CoolBoard"}];
426 
427 \textcolor{preprocessor}{#if DEBUG == 1}
428 
429     Serial.println( F(\textcolor{stringliteral}{"before config CoolBoard json"}) );
430     jsonCoolBoard.printTo(Serial);
431 
432 \textcolor{preprocessor}{#endif}
433 
434     \textcolor{keywordflow}{if}(jsonCoolBoard.success())
435     \{
436         String update;
437     
438         jsonCoolBoard.printTo(update);
439 
440         this->\hyperlink{classCoolFileSystem_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/coolBoardConfig.json"});     
441         
442     \}
443     \textcolor{keywordflow}{else}
444     \{
445     
446 \textcolor{preprocessor}{    #if DEBUG == 1 }
447 
448         Serial.println( F(\textcolor{stringliteral}{"failed to parse CoolBoard "}) );
449     
450 \textcolor{preprocessor}{    #endif}
451 
452     \}       
453 
454     
455     \textcolor{comment}{//Cool Board Sensors Configuration File}
456         JsonObject& jsonSensorsBoard=root[\textcolor{stringliteral}{"CoolSensorsBoard"}];
457 
458 \textcolor{preprocessor}{#if DEBUG == 1 }
459 
460     Serial.println( F(\textcolor{stringliteral}{"before config CoolSensorsBoard json"}) );
461     jsonSensorsBoard.printTo(Serial);
462 
463 \textcolor{preprocessor}{#endif }
464     
465     \textcolor{keywordflow}{if}(jsonSensorsBoard.success())
466     \{   
467         String update;
468     
469         jsonSensorsBoard.printTo(update);
470 
471         this->\hyperlink{classCoolFileSystem_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/coolBoardSensorsConfig.json"});      
472 
473     \}
474     \textcolor{keywordflow}{else}
475     \{
476 
477 \textcolor{preprocessor}{    #if DEBUG == 1}
478 
479         Serial.println( F(\textcolor{stringliteral}{"failed to parse CoolSensorsBoard sensors "}) );   
480     
481 \textcolor{preprocessor}{    #endif}
482 
483     \}
484 
485     
486     \textcolor{comment}{//rtc configuration file}
487         JsonObject& jsonRTC=root[\textcolor{stringliteral}{"rtc"}];
488 
489 \textcolor{preprocessor}{#if DEBUG == 1 }
490     
491     Serial.println( F(\textcolor{stringliteral}{"before config rtc json"}) );
492     jsonRTC.printTo(Serial);
493 
494 \textcolor{preprocessor}{#endif}
495     \textcolor{keywordflow}{if}(jsonRTC.success() )
496     \{
497         String update;
498 
499         jsonRTC.printTo(update);
500 
501         this->\hyperlink{classCoolFileSystem_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/rtcConfig.json"});           
502     \}
503     \textcolor{keywordflow}{else}
504     \{
505     
506 \textcolor{preprocessor}{    #if DEBUG == 1 }
507 
508         Serial.println( F(\textcolor{stringliteral}{"failed to parse rtc "}) );
509     
510 \textcolor{preprocessor}{    #endif}
511 
512     \}
513     
514     
515         \textcolor{comment}{//cool board led configuration}
516         JsonObject& jsonLedBoard=root[\textcolor{stringliteral}{"led"}];
517     
518 \textcolor{preprocessor}{#if DEBUG == 1 }
519 
520     Serial.println( F(\textcolor{stringliteral}{"before config Led json"}) );
521     jsonLedBoard.printTo(Serial);
522 
523 \textcolor{preprocessor}{#endif}
524 
525     \textcolor{keywordflow}{if}(jsonLedBoard.success())
526     \{   
527         String update;
528     
529         jsonLedBoard.printTo(update);
530 
531         this->\hyperlink{classCoolFileSystem_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/coolBoardLedConfig.json"});      
532 
533     
534     \}
535     \textcolor{keywordflow}{else}
536     \{
537     
538 \textcolor{preprocessor}{    #if DEBUG == 1 }
539 
540         Serial.println( F(\textcolor{stringliteral}{"failed to parse led"}) );
541     
542 \textcolor{preprocessor}{    #endif }
543 
544     \}
545         
546 
547     
548 
549     \textcolor{comment}{//jetpack configuration}
550         JsonObject& jsonJetpack=root[\textcolor{stringliteral}{"jetPack"}];
551 
552 \textcolor{preprocessor}{#if DEBUG == 1 }
553 
554     Serial.println( F(\textcolor{stringliteral}{"before config jetpack json"}) );
555     jsonJetpack.printTo(Serial);
556 
557 \textcolor{preprocessor}{#endif}
558 
559     \textcolor{keywordflow}{if}(jsonJetpack.success())
560     \{
561     
562         String update;
563     
564         jsonJetpack.printTo(update);
565 
566         this->\hyperlink{classCoolFileSystem_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/jetPackConfig.json"});       
567 
568     \}
569 
570     \textcolor{keywordflow}{else}
571     \{
572     
573 \textcolor{preprocessor}{    #if DEBUG == 1 }
574 
575         Serial.println( F(\textcolor{stringliteral}{"failed to parse jetpack"}) ); 
576     
577 \textcolor{preprocessor}{    #endif}
578 
579     \}
580     
581     \textcolor{comment}{//irene configuration   }
582         JsonObject& jsonIrene=root[\textcolor{stringliteral}{"irene3000"}];
583     
584 \textcolor{preprocessor}{#if DEBUG == 1 }
585 
586     Serial.println( F(\textcolor{stringliteral}{"before config irene json"}) );    
587     jsonIrene.printTo(Serial);
588 
589 \textcolor{preprocessor}{#endif }
590 
591     \textcolor{keywordflow}{if}(jsonIrene.success())
592     \{
593 
594         String update;
595     
596         jsonIrene.printTo(update);
597 
598         this->\hyperlink{classCoolFileSystem_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/irene3000Config.json"});     
599     
600     \}
601     \textcolor{keywordflow}{else}
602     \{
603     
604 \textcolor{preprocessor}{    #if DEBUG == 1 }
605 
606         Serial.println( F(\textcolor{stringliteral}{"failed to parse irene"}) );   
607     
608 \textcolor{preprocessor}{    #endif }
609 
610 
611     \}
612     
613     \textcolor{comment}{//external sensors}
614         JsonObject& jsonExternalSensors=root[\textcolor{stringliteral}{"externalSensors"}];
615 
616 \textcolor{preprocessor}{#if DEBUG == 1 }
617 
618     Serial.println( F(\textcolor{stringliteral}{"before config external Sensors json"}) );
619     jsonExternalSensors.printTo(Serial);
620 
621 \textcolor{preprocessor}{#endif}
622 
623     \textcolor{keywordflow}{if}(jsonExternalSensors.success())
624     \{
625 
626         String update;
627     
628         jsonExternalSensors.printTo(update);
629 
630         this->\hyperlink{classCoolFileSystem_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/externalSensorsConfig.json"});       
631 
632     \}
633 
634     \textcolor{keywordflow}{else}
635     \{   
636 
637 \textcolor{preprocessor}{    #if DEBUG == 1}
638         
639         Serial.println( F(\textcolor{stringliteral}{"failed to parse external sensors"}) );
640 
641 \textcolor{preprocessor}{    #endif}
642 
643 
644     \}
645 
646     
647     \textcolor{comment}{//mqtt config}
648         JsonObject& jsonMQTT=root[\textcolor{stringliteral}{"mqtt"}];
649     
650 \textcolor{preprocessor}{#if DEBUG == 1 }
651 
652     Serial.println( F(\textcolor{stringliteral}{"before config mqtt json"}) );
653     jsonMQTT.printTo(Serial);
654 
655 \textcolor{preprocessor}{#endif}
656 
657     \textcolor{keywordflow}{if}(jsonMQTT.success())
658     \{
659 
660         String update;
661     
662         jsonMQTT.printTo(update);
663 
664         this->\hyperlink{classCoolFileSystem_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/mqttConfig.json"});      
665 
666     \}
667     \textcolor{keywordflow}{else}
668     \{
669 
670 \textcolor{preprocessor}{    #if DEBUG == 1 }
671 
672         Serial.println( F(\textcolor{stringliteral}{"failed to parse mqtt"}) );
673     
674 \textcolor{preprocessor}{    #endif}
675 
676     
677     \}   
678 
679     \textcolor{comment}{//wifi config}
680         JsonObject& jsonWifi=root[\textcolor{stringliteral}{"wifi"}];
681     
682 \textcolor{preprocessor}{#if DEBUG == 1 }
683 
684     Serial.println( F(\textcolor{stringliteral}{"before config wifi json"}) );
685     jsonWifi.printTo(Serial);
686 
687 \textcolor{preprocessor}{#endif}
688 
689     \textcolor{keywordflow}{if}(jsonWifi.success())
690     \{
691 
692         String update;
693     
694         jsonWifi.printTo(update);
695 
696         this->\hyperlink{classCoolFileSystem_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/wifiConfig.json"});      
697 
698     \}
699     \textcolor{keywordflow}{else}
700     \{
701 
702 \textcolor{preprocessor}{    #if DEBUG == 1 }
703 
704         Serial.println( F(\textcolor{stringliteral}{"failed to parse wifi"}) );
705     
706 \textcolor{preprocessor}{    #endif}
707 
708     
709     \}   
710         
711     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
712 
713 \}   
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_adfa8e2e80641ae6f0cceabd348a9b841_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_adfa8e2e80641ae6f0cceabd348a9b841_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}\label{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}} 
\index{Cool\+File\+System@{Cool\+File\+System}!saved\+Data@{saved\+Data}}
\index{saved\+Data@{saved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{saved\+Data}{savedData}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::saved\+Data =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 43 of file Cool\+File\+System.\+h.



Referenced by get\+Sensor\+Saved\+Data(), is\+Data\+Saved(), and save\+Sensor\+Data().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{CoolFileSystem_8h}{Cool\+File\+System.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{CoolFileSystem_8cpp}{Cool\+File\+System.\+cpp}\end{DoxyCompactItemize}
