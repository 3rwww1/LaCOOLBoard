\hypertarget{classCoolFileSystem}{}\section{Cool\+File\+System Class Reference}
\label{classCoolFileSystem}\index{Cool\+File\+System@{Cool\+File\+System}}


This class handles the file system.  




{\ttfamily \#include $<$Cool\+File\+System.\+h$>$}



Collaboration diagram for Cool\+File\+System\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=205pt]{classCoolFileSystem__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}{begin} ()
\item 
bool \hyperlink{classCoolFileSystem_a32dad79ae80182a83e2e8f52286b7c7b}{update\+Config\+Files} (String answer, int J\+S\+O\+N\+\_\+\+S\+I\+ZE)
\item 
bool \hyperlink{classCoolFileSystem_a4c560c2ddd40b74b7758e6ceb2c58957}{save\+Sensor\+Data} (const char $\ast$data, int Sensor\+\_\+\+J\+S\+O\+N\+\_\+\+S\+I\+ZE)
\item 
bool \hyperlink{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}{is\+Data\+Saved} ()
\item 
String \hyperlink{classCoolFileSystem_a5c58bca3735c0ed3efb268d70ef998ef}{get\+Sensor\+Saved\+Data} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{saved\+Data} =0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class handles the file system. 

Definition at line 22 of file Cool\+File\+System.\+h.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}\label{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}} 
\index{Cool\+File\+System@{Cool\+File\+System}!begin@{begin}}
\index{begin@{begin}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::begin (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}{Cool\+File\+System\+::begin()}\+: This method is provided to start the S\+P\+I\+F\+FS object.

\begin{DoxyReturn}{Returns}
true if S\+P\+I\+F\+FS was initialized correctly, false otherwise 
\end{DoxyReturn}


Definition at line 22 of file Cool\+File\+System.\+cpp.



Referenced by Cool\+Board\+::begin(), and Cool\+Board\+::config().


\begin{DoxyCode}
23 \{
24     Serial.println(\textcolor{stringliteral}{"Entering CoolFileSystem.begin()"});
25     Serial.println();
26     
27     Serial.print(\textcolor{stringliteral}{"SPIFFS success ? "});
28     Serial.println(SPIFFS.begin());
29     Serial.println();
30     
31     \textcolor{keywordflow}{return}( SPIFFS.begin() );                                   \textcolor{comment}{//Initialize Filesystem}
32 
33 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a5c58bca3735c0ed3efb268d70ef998ef}\label{classCoolFileSystem_a5c58bca3735c0ed3efb268d70ef998ef}} 
\index{Cool\+File\+System@{Cool\+File\+System}!get\+Sensor\+Saved\+Data@{get\+Sensor\+Saved\+Data}}
\index{get\+Sensor\+Saved\+Data@{get\+Sensor\+Saved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{get\+Sensor\+Saved\+Data()}{getSensorSavedData()}}
{\footnotesize\ttfamily String Cool\+File\+System\+::get\+Sensor\+Saved\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Cool\+File\+System\+::get\+Sensor\+Data()\+: This method is provided to return the sensor data saved in the File System

\begin{DoxyReturn}{Returns}
string json of the saved sensor data file 
\end{DoxyReturn}


Definition at line 356 of file Cool\+File\+System.\+cpp.



References saved\+Data.



Referenced by Cool\+Board\+::on\+Line\+Mode().


\begin{DoxyCode}
357 \{
358     Serial.println(\textcolor{stringliteral}{"Entering CoolFileSystem.getSensorSavedData()"});
359     Serial.println();
360 
361     \textcolor{comment}{//open sensors data file}
362     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"r"});
363     
364     \textcolor{keywordflow}{if} (!sensorsData)
365     \{
366         Serial.println(\textcolor{stringliteral}{"Failed to read /sensorsData.json"}); 
367         \textcolor{keywordflow}{return}(\textcolor{stringliteral}{"failed to open file"});
368     \}
369     \textcolor{keywordflow}{else}
370     \{
371         \textcolor{keywordtype}{size\_t} size = sensorsData.size();
372 
373         \textcolor{comment}{// Allocate a buffer to store contents of the file.}
374         std::unique\_ptr < char[] > buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
375 
376         sensorsData.readBytes(buf.get(), size);
377 
378         DynamicJsonBuffer jsonBuffer;
379 
380         JsonObject & json = jsonBuffer.parseObject(buf.get());
381         
382         \textcolor{keywordflow}{if} (!json.success())
383         \{
384             \textcolor{keywordflow}{return}(\textcolor{stringliteral}{"failed to parse json"});
385         \}
386         \textcolor{keywordflow}{else}
387         \{   
388             \textcolor{comment}{//the return string}
389             String sensorDataString;
390             
391             \textcolor{comment}{//print the json to the string}
392             json.printTo(sensorDataString);
393             
394             \textcolor{comment}{//close the file}
395             sensorsData.close();
396 
397             \textcolor{comment}{//delete data in the file}
398             File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"w"});
399             \textcolor{keywordflow}{if} (!sensorsData)   
400             \{
401                 \textcolor{keywordflow}{return}(\textcolor{stringliteral}{"failed to delete data in the file"});
402             \}
403 
404             sensorsData.close();
405             
406             \textcolor{comment}{//position the saved data flag to false}
407             this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{false}; 
408         
409             Serial.println(\textcolor{stringliteral}{"saved data : "});
410             Serial.println(sensorDataString);
411             Serial.println();
412 
413             \textcolor{comment}{//return the string}
414             \textcolor{keywordflow}{return}(sensorDataString);       
415         \}
416         
417         
418     \}
419 
420 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a5c58bca3735c0ed3efb268d70ef998ef_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}\label{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}} 
\index{Cool\+File\+System@{Cool\+File\+System}!is\+Data\+Saved@{is\+Data\+Saved}}
\index{is\+Data\+Saved@{is\+Data\+Saved}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{is\+Data\+Saved()}{isDataSaved()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::is\+Data\+Saved (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}{Cool\+File\+System\+::is\+Data\+Saved()}\+: This method is provided to report wether there is sensor data saved in the File System.

\begin{DoxyReturn}{Returns}
true if there is data saved, false otherwise 
\end{DoxyReturn}


Definition at line 337 of file Cool\+File\+System.\+cpp.



References saved\+Data.



Referenced by Cool\+Board\+::on\+Line\+Mode().


\begin{DoxyCode}
338 \{
339     Serial.println(\textcolor{stringliteral}{"Entering CoolFileSystem.isDataSaved()"});
340     Serial.println();
341     
342     Serial.print(\textcolor{stringliteral}{"savedData : "});
343     Serial.println(this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData});
344 
345     \textcolor{keywordflow}{return}( this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData} );
346 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a4c560c2ddd40b74b7758e6ceb2c58957}\label{classCoolFileSystem_a4c560c2ddd40b74b7758e6ceb2c58957}} 
\index{Cool\+File\+System@{Cool\+File\+System}!save\+Sensor\+Data@{save\+Sensor\+Data}}
\index{save\+Sensor\+Data@{save\+Sensor\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{save\+Sensor\+Data()}{saveSensorData()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::save\+Sensor\+Data (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data,  }\item[{int}]{Sensor\+\_\+\+J\+S\+O\+N\+\_\+\+S\+I\+ZE }\end{DoxyParamCaption})}

Cool\+File\+System\+::save\+Sensor\+Data( data, data size )\+: This method is provided to save the data on the local memory when there is no internet available

sets the saved data flag to T\+R\+UE when successful

\begin{DoxyReturn}{Returns}
true if the data was saved, false otherwise 
\end{DoxyReturn}


Definition at line 45 of file Cool\+File\+System.\+cpp.



References saved\+Data.



Referenced by Cool\+Board\+::off\+Line\+Mode().


\begin{DoxyCode}
46 \{
47     Serial.println(\textcolor{stringliteral}{"Entering CoolFileSystem.saveSensorData()"});
48     Serial.println();
49 
50     
51     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"a+"});
52     \textcolor{keywordflow}{if}(!sensorsData)
53     \{
54         Serial.println(\textcolor{stringliteral}{"failed to append to /sensorsData.json"});
55         Serial.println();
56 
57         this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{false};
58         \textcolor{keywordflow}{return} (\textcolor{keyword}{false}); 
59     \}   
60 
61     DynamicJsonBuffer jsonBuffer(Sensor\_JSON\_SIZE);
62     JsonObject& root = jsonBuffer.parseObject(data);
63 
64     \textcolor{keywordflow}{if}( root.success() )
65     \{
66         root.printTo(sensorsData);
67         sensorsData.close();
68 
69         Serial.println(\textcolor{stringliteral}{"saved data is : "});
70         root.printTo(Serial);
71         Serial.println();
72 
73         this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{true};
74         \textcolor{keywordflow}{return} (\textcolor{keyword}{true});      
75     \}
76     \textcolor{keywordflow}{else}
77     \{
78         Serial.println(\textcolor{stringliteral}{"failed to parse json"});
79         this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{false};
80         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
81     \}
82     
83 
84 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a4c560c2ddd40b74b7758e6ceb2c58957_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a32dad79ae80182a83e2e8f52286b7c7b}\label{classCoolFileSystem_a32dad79ae80182a83e2e8f52286b7c7b}} 
\index{Cool\+File\+System@{Cool\+File\+System}!update\+Config\+Files@{update\+Config\+Files}}
\index{update\+Config\+Files@{update\+Config\+Files}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{update\+Config\+Files()}{updateConfigFiles()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::update\+Config\+Files (\begin{DoxyParamCaption}\item[{String}]{answer,  }\item[{int}]{J\+S\+O\+N\+\_\+\+S\+I\+ZE }\end{DoxyParamCaption})}

Cool\+File\+Syste\+::update\+Config\+Files( mqtt answer, answer size)\+: This method is provided to update the configuration files when the appropriate mqtt answer is received\+: -\/update \+: 1

\begin{DoxyReturn}{Returns}
true if the files are updated correctly, false otherwise 
\end{DoxyReturn}


Definition at line 94 of file Cool\+File\+System.\+cpp.



References temp.



Referenced by Cool\+Board\+::update().


\begin{DoxyCode}
95 \{
96     Serial.println(\textcolor{stringliteral}{"Entering CoolFileSystem.updateConfigFiles"});
97     Serial.println();
98 
99     \textcolor{comment}{//String conversion to char*}
100     \textcolor{comment}{//char jsonRoot = new char(answer.length() + 1);}
101     \textcolor{comment}{//strcpy(jsonRoot, answer.c\_str());}
102     \textcolor{comment}{//total json object }
103     DynamicJsonBuffer jsonBuffer(JSON\_SIZE);
104     JsonObject& root = jsonBuffer.parseObject( answer.c\_str() );
105     
106     \textcolor{keywordflow}{if}(! ( root.success() ))
107     \{
108         Serial.println(\textcolor{stringliteral}{"failed to parse root "});
109         Serial.println();
110         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
111     \}
112     \textcolor{keywordflow}{else}
113     \{
114         Serial.println(\textcolor{stringliteral}{"success to parse root "});
115         Serial.println();   
116     \}
117     
118     Serial.println(\textcolor{stringliteral}{"input message is : "});
119     root.printTo(Serial);
120     Serial.println();
121 
122     \textcolor{comment}{//temp string}
123     String \hyperlink{Irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp};
124 
125     \textcolor{comment}{//CoolBoard Configuration File}
126 
127         JsonObject& jsonCoolBoard=root[\textcolor{stringliteral}{"CoolBoard"}];
128     \textcolor{keywordflow}{if}(jsonCoolBoard.success())
129     \{
130         File coolBoardConfig = SPIFFS.open(\textcolor{stringliteral}{"/coolBoardConfig.json"}, \textcolor{stringliteral}{"w"});   
131         \textcolor{keywordflow}{if}(!coolBoardConfig)
132         \{   
133             Serial.println(\textcolor{stringliteral}{"failed to write to coolBoardConfig.json"});
134             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
135         \}
136         Serial.println(\textcolor{stringliteral}{"CoolBoard Config"});
137         jsonCoolBoard.printTo(Serial);
138         
139         jsonCoolBoard.printTo(coolBoardConfig);
140         
141         coolBoardConfig.close();
142     \}
143     \textcolor{keywordflow}{else}
144     \{
145         Serial.println(\textcolor{stringliteral}{"failed to parse CoolBoard "});
146     \}       
147 
148     
149     \textcolor{comment}{//Cool Board Sensors Configuration File}
150     DynamicJsonBuffer jsonSBoard;
151         JsonObject& jsonSensorsBoard=root[\textcolor{stringliteral}{"CoolSensorsBoard"}];  
152     \textcolor{keywordflow}{if}(jsonSensorsBoard.success())
153     \{   
154         File coolBoardSensorsConfig = SPIFFS.open(\textcolor{stringliteral}{"/coolBoardSensorsConfig.json"}, \textcolor{stringliteral}{"w"}); 
155         \textcolor{keywordflow}{if}(!coolBoardSensorsConfig)
156         \{
157             Serial.println(\textcolor{stringliteral}{"failed to write coolBoardSensors.json"});
158             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
159         \}
160         
161         Serial.println(\textcolor{stringliteral}{"CoolBoardSensors Config"});
162         jsonSensorsBoard.printTo(coolBoardSensorsConfig);
163         jsonSensorsBoard.printTo(Serial);
164         coolBoardSensorsConfig.close();
165     \}
166     \textcolor{keywordflow}{else}
167     \{
168         Serial.println(\textcolor{stringliteral}{"failed to parse CoolSensorsBoard sensors "});    
169     \}
170     
171     
172     
173     \textcolor{comment}{//rtc configuration file}
174     DynamicJsonBuffer jsonR;
175         JsonObject& jsonRTC=root[\textcolor{stringliteral}{"rtc"}];
176     Serial.println(\textcolor{stringliteral}{"before config rtc json"});
177     jsonRTC.printTo(Serial);
178     \textcolor{keywordflow}{if}(jsonRTC.success() )
179     \{
180         File rtcConfig = SPIFFS.open(\textcolor{stringliteral}{"/rtcConfig.json"}, \textcolor{stringliteral}{"w"});   
181         \textcolor{keywordflow}{if}(!rtcConfig)
182         \{
183             Serial.println(\textcolor{stringliteral}{"failed to write rtcConfig.json"});
184             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
185         \}
186         Serial.println(\textcolor{stringliteral}{"RTC Config"});
187         jsonRTC.printTo(rtcConfig);
188         jsonRTC.printTo(Serial);
189         rtcConfig.close();
190     
191     \}
192     \textcolor{keywordflow}{else}
193     \{
194         Serial.println(\textcolor{stringliteral}{"failed to parse rtc "});
195     \}
196 
197     
198     
199     
200     
201         \textcolor{comment}{//cool board led configuration}
202     DynamicJsonBuffer jsonLBoard;
203         JsonObject& jsonLedBoard=root[\textcolor{stringliteral}{"led"}];
204     Serial.println(\textcolor{stringliteral}{"before config Led json"});
205     jsonLedBoard.printTo(Serial);
206     \textcolor{keywordflow}{if}(jsonLedBoard.success())
207     \{   
208         File coolBoardLedConfig = SPIFFS.open(\textcolor{stringliteral}{"/coolBoardLedConfig.json"}, \textcolor{stringliteral}{"w"}); 
209         \textcolor{keywordflow}{if}(!coolBoardLedConfig)
210         \{
211             Serial.println(\textcolor{stringliteral}{"failed to write led config"});
212             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
213         \}
214         Serial.println(\textcolor{stringliteral}{"CoolBoardLed Config"});
215         jsonLedBoard.printTo(coolBoardLedConfig);
216         jsonLedBoard.printTo(Serial);
217         coolBoardLedConfig.close();
218     
219     \}
220     \textcolor{keywordflow}{else}
221     \{
222         Serial.println(\textcolor{stringliteral}{"failed to parse led"});
223     \}
224         
225 
226     
227 
228     \textcolor{comment}{//jetpack configuration}
229     DynamicJsonBuffer jsonJBoard;
230         JsonObject& jsonJetpack=root[\textcolor{stringliteral}{"jetPack"}];
231     Serial.println(\textcolor{stringliteral}{"before config jetpack json"});
232     jsonJetpack.printTo(Serial);
233     \textcolor{keywordflow}{if}(jsonJetpack.success())
234     \{   
235         File jetPackConfig = SPIFFS.open(\textcolor{stringliteral}{"/jetPackConfig.json"}, \textcolor{stringliteral}{"w"});   
236         \textcolor{keywordflow}{if}(!jetPackConfig)
237         \{
238             Serial.println(\textcolor{stringliteral}{"failed to write jetpack file"});
239             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
240         \}
241         Serial.println(\textcolor{stringliteral}{"jetpack Config"});   
242         jsonJetpack.printTo(jetPackConfig);
243         jsonJetpack.printTo(Serial);
244         jetPackConfig.close();
245     \}
246     \textcolor{keywordflow}{else}
247     \{
248         Serial.println(\textcolor{stringliteral}{"failed to parse jetpack"});  
249     \}
250     
251     \textcolor{comment}{//irene configuration   }
252     DynamicJsonBuffer jsonIBoard;
253         JsonObject& jsonIrene=root[\textcolor{stringliteral}{"irene3000"}];
254     Serial.println(\textcolor{stringliteral}{"before config irene json"}); 
255     jsonIrene.printTo(Serial);
256     \textcolor{keywordflow}{if}(jsonIrene.success())
257     \{
258         File irene3000Config = SPIFFS.open(\textcolor{stringliteral}{"/irene3000Config.json"}, \textcolor{stringliteral}{"w"});   
259         \textcolor{keywordflow}{if}(!irene3000Config)
260         \{
261             Serial.println(\textcolor{stringliteral}{"failed to write irene file"});
262             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
263         \}
264         Serial.println(\textcolor{stringliteral}{"irene3000 Config"});
265         jsonIrene.printTo(irene3000Config);
266         jsonIrene.printTo(Serial);
267         irene3000Config.close();
268     
269     \}
270     \textcolor{keywordflow}{else}
271     \{
272         Serial.println(\textcolor{stringliteral}{"failed to parse irene"});    
273     \}
274     
275     \textcolor{comment}{//external sensors}
276     DynamicJsonBuffer jsonESBoard;
277         JsonObject& jsonExternalSensors=root[\textcolor{stringliteral}{"externalSensors"}];
278     Serial.println(\textcolor{stringliteral}{"before config external Sensors json"});
279     jsonExternalSensors.printTo(Serial);
280     \textcolor{keywordflow}{if}(jsonExternalSensors.success())
281     \{
282         File externalSensorsConfig = SPIFFS.open(\textcolor{stringliteral}{"/externalSensorsConfig.json"}, \textcolor{stringliteral}{"w"});   
283         \textcolor{keywordflow}{if}(!externalSensorsConfig)
284         \{
285             Serial.println(\textcolor{stringliteral}{"failed to open external sensors file "});
286             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
287         \}
288         Serial.println(\textcolor{stringliteral}{"externalSensors Config"});
289         jsonExternalSensors.printTo(externalSensorsConfig);
290         jsonExternalSensors.printTo(Serial);
291     
292         externalSensorsConfig.close();
293 
294     \}
295     \textcolor{keywordflow}{else}
296     \{
297         Serial.println(\textcolor{stringliteral}{"failed to parse external sensors"}); 
298     \}
299 
300     
301     \textcolor{comment}{//mqtt config}
302     DynamicJsonBuffer jsonMQ;
303         JsonObject& jsonMQTT=root[\textcolor{stringliteral}{"mqtt"}];
304     Serial.println(\textcolor{stringliteral}{"before config mqtt json"});
305     jsonMQTT.printTo(Serial);
306     \textcolor{keywordflow}{if}(jsonMQTT.success())
307     \{
308         File mqttConfig = SPIFFS.open(\textcolor{stringliteral}{"/mqttConfig.json"}, \textcolor{stringliteral}{"w"}); 
309         \textcolor{keywordflow}{if}(!mqttConfig)
310         \{
311             Serial.println(\textcolor{stringliteral}{"failed to open mqtt file "});        
312             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
313         \}
314         Serial.println(\textcolor{stringliteral}{"mqtt config"});
315         jsonMQTT.printTo(mqttConfig);
316         jsonMQTT.printTo(Serial);
317         mqttConfig.close();
318     \}
319     \textcolor{keywordflow}{else}
320     \{
321         Serial.println(\textcolor{stringliteral}{"failed to parse mqtt"}); 
322     \}   
323         
324     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
325 
326 \}   
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a32dad79ae80182a83e2e8f52286b7c7b_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}\label{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}} 
\index{Cool\+File\+System@{Cool\+File\+System}!saved\+Data@{saved\+Data}}
\index{saved\+Data@{saved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{saved\+Data}{savedData}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::saved\+Data =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 38 of file Cool\+File\+System.\+h.



Referenced by get\+Sensor\+Saved\+Data(), is\+Data\+Saved(), and save\+Sensor\+Data().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{CoolFileSystem_8h}{Cool\+File\+System.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{CoolFileSystem_8cpp}{Cool\+File\+System.\+cpp}\end{DoxyCompactItemize}
