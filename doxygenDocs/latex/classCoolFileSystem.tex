\hypertarget{classCoolFileSystem}{}\section{Cool\+File\+System Class Reference}
\label{classCoolFileSystem}\index{Cool\+File\+System@{Cool\+File\+System}}


This class handles the file system.  




{\ttfamily \#include $<$Cool\+File\+System.\+h$>$}



Collaboration diagram for Cool\+File\+System\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=205pt]{classCoolFileSystem__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}{begin} ()
\item 
bool \hyperlink{classCoolFileSystem_a32dad79ae80182a83e2e8f52286b7c7b}{update\+Config\+Files} (String answer, int J\+S\+O\+N\+\_\+\+S\+I\+ZE)
\item 
bool \hyperlink{classCoolFileSystem_a4c560c2ddd40b74b7758e6ceb2c58957}{save\+Sensor\+Data} (const char $\ast$data, int Sensor\+\_\+\+J\+S\+O\+N\+\_\+\+S\+I\+ZE)
\item 
bool \hyperlink{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}{is\+Data\+Saved} ()
\item 
String \hyperlink{classCoolFileSystem_a5c58bca3735c0ed3efb268d70ef998ef}{get\+Sensor\+Saved\+Data} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{saved\+Data} =0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class handles the file system. 

Definition at line 22 of file Cool\+File\+System.\+h.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}\label{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}} 
\index{Cool\+File\+System@{Cool\+File\+System}!begin@{begin}}
\index{begin@{begin}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::begin (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}{Cool\+File\+System\+::begin()}\+: This method is provided to start the S\+P\+I\+F\+FS object.

\begin{DoxyReturn}{Returns}
true if S\+P\+I\+F\+FS was initialized correctly, false otherwise 
\end{DoxyReturn}


Definition at line 33 of file Cool\+File\+System.\+cpp.



Referenced by Cool\+Board\+::begin(), and Cool\+Board\+::config().


\begin{DoxyCode}
34 \{
35 
36 \textcolor{preprocessor}{#if DEBUG == 1}
37 
38     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.begin()"}) );
39     Serial.println();   
40     Serial.print( F(\textcolor{stringliteral}{"SPIFFS success ? "}) );
41     Serial.println(SPIFFS.begin());
42     Serial.println();
43 
44 \textcolor{preprocessor}{#endif}
45 
46     \textcolor{keywordflow}{return}( SPIFFS.begin() );                                   \textcolor{comment}{//Initialize Filesystem}
47 
48 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a5c58bca3735c0ed3efb268d70ef998ef}\label{classCoolFileSystem_a5c58bca3735c0ed3efb268d70ef998ef}} 
\index{Cool\+File\+System@{Cool\+File\+System}!get\+Sensor\+Saved\+Data@{get\+Sensor\+Saved\+Data}}
\index{get\+Sensor\+Saved\+Data@{get\+Sensor\+Saved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{get\+Sensor\+Saved\+Data()}{getSensorSavedData()}}
{\footnotesize\ttfamily String Cool\+File\+System\+::get\+Sensor\+Saved\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Cool\+File\+System\+::get\+Sensor\+Data()\+: This method is provided to return the sensor data saved in the File System

\begin{DoxyReturn}{Returns}
string json of the saved sensor data file 
\end{DoxyReturn}


Definition at line 670 of file Cool\+File\+System.\+cpp.



References saved\+Data.



Referenced by Cool\+Board\+::on\+Line\+Mode().


\begin{DoxyCode}
671 \{
672 
673 \textcolor{preprocessor}{#if DEBUG == 1 }
674 
675     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.getSensorSavedData()"}) );
676     Serial.println();
677 
678 \textcolor{preprocessor}{#endif}
679 
680     \textcolor{comment}{//open sensors data file}
681     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"r"});
682     
683     \textcolor{keywordflow}{if} (!sensorsData)
684     \{
685 
686 \textcolor{preprocessor}{    #if DEBUG == 1 }
687 
688         Serial.println( F(\textcolor{stringliteral}{"Failed to read /sensorsData.json"}) );
689 
690 \textcolor{preprocessor}{    #endif}
691  
692         \textcolor{keywordflow}{return}(\textcolor{stringliteral}{"failed to open file"});
693     \}
694 
695     \textcolor{keywordflow}{else}
696     \{
697         \textcolor{keywordtype}{size\_t} size = sensorsData.size();
698 
699         \textcolor{comment}{// Allocate a buffer to store contents of the file.}
700         std::unique\_ptr < char[] > buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
701 
702         sensorsData.readBytes(buf.get(), size);
703 
704         DynamicJsonBuffer jsonBuffer;
705 
706         JsonObject & json = jsonBuffer.parseObject(buf.get());
707         
708         \textcolor{keywordflow}{if} (!json.success())
709         \{
710 
711 \textcolor{preprocessor}{        #if DEBUG == 1}
712         
713             Serial.println( F(\textcolor{stringliteral}{"failed to parse json"}) );
714         
715 \textcolor{preprocessor}{        #endif}
716         
717             \textcolor{keywordflow}{return}(\textcolor{stringliteral}{"failed to parse json"});
718         \}
719         \textcolor{keywordflow}{else}
720         \{   
721             \textcolor{comment}{//the return string}
722             String sensorDataString;
723             
724             \textcolor{comment}{//print the json to the string}
725             json.printTo(sensorDataString);
726             
727             \textcolor{comment}{//close the file}
728             sensorsData.close();
729 
730             \textcolor{comment}{//delete data in the file}
731             File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"w"});
732             \textcolor{keywordflow}{if} (!sensorsData)   
733             \{
734 \textcolor{preprocessor}{            #if DEBUG == 1}
735         
736                 Serial.println( F(\textcolor{stringliteral}{"failed to delete data in the file"}) );
737         
738 \textcolor{preprocessor}{            #endif}
739 
740                 \textcolor{keywordflow}{return}(\textcolor{stringliteral}{"failed to delete data in the file"});
741             \}
742 
743             sensorsData.close();
744             
745             \textcolor{comment}{//position the saved data flag to false}
746             this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{false}; 
747             
748 \textcolor{preprocessor}{        #if DEBUG == 1 }
749 
750             Serial.println( F(\textcolor{stringliteral}{"saved data : "}) );
751             Serial.println(sensorDataString);
752             Serial.println();
753         
754 \textcolor{preprocessor}{        #endif}
755 
756             \textcolor{comment}{//return the string}
757             \textcolor{keywordflow}{return}(sensorDataString);       
758         \}
759         
760         
761     \}
762 
763 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a5c58bca3735c0ed3efb268d70ef998ef_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}\label{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}} 
\index{Cool\+File\+System@{Cool\+File\+System}!is\+Data\+Saved@{is\+Data\+Saved}}
\index{is\+Data\+Saved@{is\+Data\+Saved}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{is\+Data\+Saved()}{isDataSaved()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::is\+Data\+Saved (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}{Cool\+File\+System\+::is\+Data\+Saved()}\+: This method is provided to report wether there is sensor data saved in the File System.

\begin{DoxyReturn}{Returns}
true if there is data saved, false otherwise 
\end{DoxyReturn}


Definition at line 647 of file Cool\+File\+System.\+cpp.



References saved\+Data.



Referenced by Cool\+Board\+::on\+Line\+Mode().


\begin{DoxyCode}
648 \{
649 
650 \textcolor{preprocessor}{#if DEBUG == 1 }
651 
652     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.isDataSaved()"}) );
653     Serial.println();
654     Serial.print( F(\textcolor{stringliteral}{"savedData : "}) );
655     Serial.println(this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData});
656 
657 \textcolor{preprocessor}{#endif}
658 
659     \textcolor{keywordflow}{return}( this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData} );
660 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a4c560c2ddd40b74b7758e6ceb2c58957}\label{classCoolFileSystem_a4c560c2ddd40b74b7758e6ceb2c58957}} 
\index{Cool\+File\+System@{Cool\+File\+System}!save\+Sensor\+Data@{save\+Sensor\+Data}}
\index{save\+Sensor\+Data@{save\+Sensor\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{save\+Sensor\+Data()}{saveSensorData()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::save\+Sensor\+Data (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data,  }\item[{int}]{Sensor\+\_\+\+J\+S\+O\+N\+\_\+\+S\+I\+ZE }\end{DoxyParamCaption})}

Cool\+File\+System\+::save\+Sensor\+Data( data, data size )\+: This method is provided to save the data on the local memory when there is no internet available

sets the saved data flag to T\+R\+UE when successful

\begin{DoxyReturn}{Returns}
true if the data was saved, false otherwise 
\end{DoxyReturn}


Definition at line 60 of file Cool\+File\+System.\+cpp.



References saved\+Data.



Referenced by Cool\+Board\+::off\+Line\+Mode().


\begin{DoxyCode}
61 \{
62 
63 \textcolor{preprocessor}{#if DEBUG == 1}
64 
65     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.saveSensorData()"}) );
66     Serial.println();
67 
68 \textcolor{preprocessor}{#endif}
69     
70     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"a+"});
71     \textcolor{keywordflow}{if}(!sensorsData)
72     \{
73     
74 \textcolor{preprocessor}{    #if DEBUG == 1}
75     
76         Serial.println( F(\textcolor{stringliteral}{"failed to append to /sensorsData.json"}) );
77         Serial.println();
78     
79 \textcolor{preprocessor}{    #endif}
80 
81         this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{false};
82         \textcolor{keywordflow}{return} (\textcolor{keyword}{false}); 
83     \}   
84 
85     DynamicJsonBuffer jsonBuffer(Sensor\_JSON\_SIZE);
86     JsonObject& root = jsonBuffer.parseObject(data);
87 
88     \textcolor{keywordflow}{if}( root.success() )
89     \{
90         root.printTo(sensorsData);
91         sensorsData.close();
92     
93 \textcolor{preprocessor}{    #if DEBUG == 1}
94     
95         Serial.println( F(\textcolor{stringliteral}{"saved data is : "}) );
96         root.printTo(Serial);
97         Serial.println();
98     
99 \textcolor{preprocessor}{    #endif}
100 
101         this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{true};
102         \textcolor{keywordflow}{return} (\textcolor{keyword}{true});      
103     \}
104     \textcolor{keywordflow}{else}
105     \{
106     
107 \textcolor{preprocessor}{    #if DEBUG == 1}
108 
109         Serial.println( F(\textcolor{stringliteral}{"failed to parse json"}) );
110     
111 \textcolor{preprocessor}{    #endif}
112 
113         this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{false};
114         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
115     \}
116     
117 
118 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a4c560c2ddd40b74b7758e6ceb2c58957_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a32dad79ae80182a83e2e8f52286b7c7b}\label{classCoolFileSystem_a32dad79ae80182a83e2e8f52286b7c7b}} 
\index{Cool\+File\+System@{Cool\+File\+System}!update\+Config\+Files@{update\+Config\+Files}}
\index{update\+Config\+Files@{update\+Config\+Files}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{update\+Config\+Files()}{updateConfigFiles()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::update\+Config\+Files (\begin{DoxyParamCaption}\item[{String}]{answer,  }\item[{int}]{J\+S\+O\+N\+\_\+\+S\+I\+ZE }\end{DoxyParamCaption})}

Cool\+File\+Syste\+::update\+Config\+Files( mqtt answer, answer size)\+: This method is provided to update the configuration files when the appropriate mqtt answer is received\+: -\/update \+: 1

\begin{DoxyReturn}{Returns}
true if the files are updated correctly, false otherwise 
\end{DoxyReturn}


Definition at line 128 of file Cool\+File\+System.\+cpp.



References temp.



Referenced by Cool\+Board\+::update().


\begin{DoxyCode}
129 \{
130 
131 \textcolor{preprocessor}{#if DEBUG == 1}
132 
133     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.updateConfigFiles"}) );
134     Serial.println();
135     
136     Serial.println( F(\textcolor{stringliteral}{"input answer : "}) );
137     Serial.println(answer);
138 \textcolor{preprocessor}{#endif}
139     \textcolor{comment}{//test}
140     \textcolor{keywordtype}{char} buffer[ answer.length()+2 ];
141     answer.toCharArray( buffer, answer.length()+2  );
142     \textcolor{comment}{//total json object }
143     DynamicJsonBuffer jsonBuffer(JSON\_SIZE);
144     JsonObject& root = jsonBuffer.parseObject( buffer );
145 
146 \textcolor{preprocessor}{#if DEBUG == 1}
147 
148     Serial.println( F(\textcolor{stringliteral}{"json object : "}) );  
149     root.printTo(Serial);
150 
151 \textcolor{preprocessor}{#endif}
152 
153     \textcolor{keywordflow}{if}(! ( root.success() ))
154     \{
155     
156 \textcolor{preprocessor}{    #if DEBUG == 1}
157 
158         Serial.println( F(\textcolor{stringliteral}{"failed to parse root "}) );
159         Serial.println();
160     
161 \textcolor{preprocessor}{    #endif}
162 
163         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
164     \}
165     \textcolor{keywordflow}{else}
166     \{
167 \textcolor{preprocessor}{    #if DEBUG == 1}
168         
169         Serial.println( F(\textcolor{stringliteral}{"success to parse root "}) );
170         Serial.println();
171         
172 \textcolor{preprocessor}{    #endif  }
173     \}
174     
175 \textcolor{preprocessor}{#if DEBUG == 1}
176 
177     Serial.println( F(\textcolor{stringliteral}{"input message is : "}) );
178     root.printTo(Serial);
179     Serial.println();
180 
181 \textcolor{preprocessor}{#endif}
182     \textcolor{comment}{//temp string}
183     String \hyperlink{Irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp};
184 
185     \textcolor{comment}{//CoolBoard Configuration File}
186 
187         JsonObject& jsonCoolBoard=root[\textcolor{stringliteral}{"CoolBoard"}];
188 
189 \textcolor{preprocessor}{#if DEBUG == 1}
190 
191     Serial.println( F(\textcolor{stringliteral}{"before config CoolBoard json"}) );
192     jsonCoolBoard.printTo(Serial);
193 
194 \textcolor{preprocessor}{#endif}
195 
196     \textcolor{keywordflow}{if}(jsonCoolBoard.success())
197     \{
198         File coolBoardConfig = SPIFFS.open(\textcolor{stringliteral}{"/coolBoardConfig.json"}, \textcolor{stringliteral}{"w"});   
199         \textcolor{keywordflow}{if}(!coolBoardConfig)
200         \{   
201 \textcolor{preprocessor}{        #if DEBUG == 1}
202             
203             Serial.println( F(\textcolor{stringliteral}{"failed to write to coolBoardConfig.json"}) );
204 
205 \textcolor{preprocessor}{        #endif}
206             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
207         \}
208         
209         jsonCoolBoard.printTo(coolBoardConfig);
210         
211         coolBoardConfig.close();
212 
213 
214 \textcolor{preprocessor}{    #if DEBUG == 1}
215 
216         Serial.println( F(\textcolor{stringliteral}{"CoolBoard Config"}) );
217         jsonCoolBoard.printTo(Serial);
218         Serial.println();
219     
220 \textcolor{preprocessor}{    #endif}
221         
222     \}
223     \textcolor{keywordflow}{else}
224     \{
225     
226 \textcolor{preprocessor}{    #if DEBUG == 1 }
227 
228         Serial.println( F(\textcolor{stringliteral}{"failed to parse CoolBoard "}) );
229     
230 \textcolor{preprocessor}{    #endif}
231 
232     \}       
233 
234     
235     \textcolor{comment}{//Cool Board Sensors Configuration File}
236         JsonObject& jsonSensorsBoard=root[\textcolor{stringliteral}{"CoolSensorsBoard"}];
237 
238 \textcolor{preprocessor}{#if DEBUG == 1 }
239 
240     Serial.println( F(\textcolor{stringliteral}{"before config CoolSensorsBoard json"}) );
241     jsonSensorsBoard.printTo(Serial);
242 
243 \textcolor{preprocessor}{#endif }
244     
245     \textcolor{keywordflow}{if}(jsonSensorsBoard.success())
246     \{   
247         File coolBoardSensorsConfig = SPIFFS.open(\textcolor{stringliteral}{"/coolBoardSensorsConfig.json"}, \textcolor{stringliteral}{"w"}); 
248         \textcolor{keywordflow}{if}(!coolBoardSensorsConfig)
249         \{
250 \textcolor{preprocessor}{        #if DEBUG == 1 }
251         
252             Serial.println( F(\textcolor{stringliteral}{"failed to write coolBoardSensors.json"}) );
253 
254 \textcolor{preprocessor}{        #endif}
255 
256             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
257         \}
258         
259         jsonSensorsBoard.printTo(coolBoardSensorsConfig);
260         coolBoardSensorsConfig.close();
261 
262 \textcolor{preprocessor}{    #if DEBUG == 1}
263 
264         Serial.println(\textcolor{stringliteral}{"CoolBoardSensors Config"});
265         jsonSensorsBoard.printTo(Serial);
266         Serial.println();
267 
268 \textcolor{preprocessor}{    #endif}
269 
270     \}
271     \textcolor{keywordflow}{else}
272     \{
273 
274 \textcolor{preprocessor}{    #if DEBUG == 1}
275 
276         Serial.println( F(\textcolor{stringliteral}{"failed to parse CoolSensorsBoard sensors "}) );   
277     
278 \textcolor{preprocessor}{    #endif}
279 
280     \}
281     
282     
283     
284     \textcolor{comment}{//rtc configuration file}
285         JsonObject& jsonRTC=root[\textcolor{stringliteral}{"rtc"}];
286 
287 \textcolor{preprocessor}{#if DEBUG == 1 }
288     
289     Serial.println( F(\textcolor{stringliteral}{"before config rtc json"}) );
290     jsonRTC.printTo(Serial);
291 
292 \textcolor{preprocessor}{#endif}
293     \textcolor{keywordflow}{if}(jsonRTC.success() )
294     \{
295         File rtcConfig = SPIFFS.open(\textcolor{stringliteral}{"/rtcConfig.json"}, \textcolor{stringliteral}{"w"});   
296         \textcolor{keywordflow}{if}(!rtcConfig)
297         \{
298         
299 \textcolor{preprocessor}{        #if DEBUG == 1 }
300 
301             Serial.println( F(\textcolor{stringliteral}{"failed to write rtcConfig.json"}) );
302 
303 \textcolor{preprocessor}{        #endif}
304 
305             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
306         \}
307 
308         jsonRTC.printTo(rtcConfig);
309         rtcConfig.close();
310 
311 \textcolor{preprocessor}{    #if DEBUG == 1 }
312 
313         Serial.println( F(\textcolor{stringliteral}{"RTC Config"}) );
314         jsonRTC.printTo(Serial);
315         Serial.println();
316     
317 \textcolor{preprocessor}{    #endif}
318 
319     
320     \}
321     \textcolor{keywordflow}{else}
322     \{
323     
324 \textcolor{preprocessor}{    #if DEBUG == 1 }
325 
326         Serial.println( F(\textcolor{stringliteral}{"failed to parse rtc "}) );
327     
328 \textcolor{preprocessor}{    #endif}
329 
330     \}
331 
332     
333     
334     
335     
336         \textcolor{comment}{//cool board led configuration}
337         JsonObject& jsonLedBoard=root[\textcolor{stringliteral}{"led"}];
338     
339 \textcolor{preprocessor}{#if DEBUG == 1 }
340 
341     Serial.println( F(\textcolor{stringliteral}{"before config Led json"}) );
342     jsonLedBoard.printTo(Serial);
343 
344 \textcolor{preprocessor}{#endif}
345 
346     \textcolor{keywordflow}{if}(jsonLedBoard.success())
347     \{   
348         File coolBoardLedConfig = SPIFFS.open(\textcolor{stringliteral}{"/coolBoardLedConfig.json"}, \textcolor{stringliteral}{"w"}); 
349         \textcolor{keywordflow}{if}(!coolBoardLedConfig)
350         \{
351         
352 \textcolor{preprocessor}{        #if DEBUG == 1 }
353         
354             Serial.println( F(\textcolor{stringliteral}{"failed to write led config"}) );
355         
356 \textcolor{preprocessor}{        #endif}
357 
358             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
359         \}
360         
361         jsonLedBoard.printTo(coolBoardLedConfig);
362         coolBoardLedConfig.close();
363 
364 
365 \textcolor{preprocessor}{    #if DEBUG == 1 }
366 
367         Serial.println( F(\textcolor{stringliteral}{"CoolBoardLed Config"}) );     
368         jsonLedBoard.printTo(Serial);
369         Serial.println();
370     
371 \textcolor{preprocessor}{    #endif}
372 
373     
374     \}
375     \textcolor{keywordflow}{else}
376     \{
377     
378 \textcolor{preprocessor}{    #if DEBUG == 1 }
379 
380         Serial.println( F(\textcolor{stringliteral}{"failed to parse led"}) );
381     
382 \textcolor{preprocessor}{    #endif }
383 
384     \}
385         
386 
387     
388 
389     \textcolor{comment}{//jetpack configuration}
390         JsonObject& jsonJetpack=root[\textcolor{stringliteral}{"jetPack"}];
391 
392 \textcolor{preprocessor}{#if DEBUG == 1 }
393 
394     Serial.println( F(\textcolor{stringliteral}{"before config jetpack json"}) );
395     jsonJetpack.printTo(Serial);
396 
397 \textcolor{preprocessor}{#endif}
398 
399     \textcolor{keywordflow}{if}(jsonJetpack.success())
400     \{   
401         File jetPackConfig = SPIFFS.open(\textcolor{stringliteral}{"/jetPackConfig.json"}, \textcolor{stringliteral}{"w"});   
402         \textcolor{keywordflow}{if}(!jetPackConfig)
403         \{
404 \textcolor{preprocessor}{        #if DEBUG == 1}
405 
406             Serial.println( F(\textcolor{stringliteral}{"failed to write jetpack file"}) );
407         
408 \textcolor{preprocessor}{        #endif}
409 
410             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
411         \}
412 
413         jsonJetpack.printTo(jetPackConfig);
414         jetPackConfig.close();
415 
416 \textcolor{preprocessor}{    #if DEBUG == 1}
417 
418         Serial.println( F(\textcolor{stringliteral}{"jetpack Config"}) );  
419         jsonJetpack.printTo(Serial);
420         Serial.println();
421     
422 \textcolor{preprocessor}{    #endif}
423 
424     \}
425 
426     \textcolor{keywordflow}{else}
427     \{
428     
429 \textcolor{preprocessor}{    #if DEBUG == 1 }
430 
431         Serial.println( F(\textcolor{stringliteral}{"failed to parse jetpack"}) ); 
432     
433 \textcolor{preprocessor}{    #endif}
434 
435     \}
436     
437     \textcolor{comment}{//irene configuration   }
438         JsonObject& jsonIrene=root[\textcolor{stringliteral}{"irene3000"}];
439     
440 \textcolor{preprocessor}{#if DEBUG == 1 }
441 
442     Serial.println( F(\textcolor{stringliteral}{"before config irene json"}) );    
443     jsonIrene.printTo(Serial);
444 
445 \textcolor{preprocessor}{#endif }
446 
447     \textcolor{keywordflow}{if}(jsonIrene.success())
448     \{
449         File irene3000Config = SPIFFS.open(\textcolor{stringliteral}{"/irene3000Config.json"}, \textcolor{stringliteral}{"w"});   
450         \textcolor{keywordflow}{if}(!irene3000Config)
451         \{
452 
453 \textcolor{preprocessor}{        #if DEBUG == 1 }
454 
455             Serial.println( F(\textcolor{stringliteral}{"failed to write irene file"}) );
456         
457 \textcolor{preprocessor}{        #endif}
458 
459             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
460         \}
461 
462         jsonIrene.printTo(irene3000Config);
463         irene3000Config.close();
464     
465 \textcolor{preprocessor}{    #if DEBUG == 1 }
466         
467         Serial.println( F(\textcolor{stringliteral}{"irene3000 Config"}) );
468         jsonIrene.printTo(Serial);
469         Serial.println();
470     
471 \textcolor{preprocessor}{    #endif}
472     
473     \}
474     \textcolor{keywordflow}{else}
475     \{
476     
477 \textcolor{preprocessor}{    #if DEBUG == 1 }
478 
479         Serial.println( F(\textcolor{stringliteral}{"failed to parse irene"}) );   
480     
481 \textcolor{preprocessor}{    #endif }
482 
483 
484     \}
485     
486     \textcolor{comment}{//external sensors}
487         JsonObject& jsonExternalSensors=root[\textcolor{stringliteral}{"externalSensors"}];
488 
489 \textcolor{preprocessor}{#if DEBUG == 1 }
490 
491     Serial.println( F(\textcolor{stringliteral}{"before config external Sensors json"}) );
492     jsonExternalSensors.printTo(Serial);
493 
494 \textcolor{preprocessor}{#endif}
495 
496     \textcolor{keywordflow}{if}(jsonExternalSensors.success())
497     \{
498         File externalSensorsConfig = SPIFFS.open(\textcolor{stringliteral}{"/externalSensorsConfig.json"}, \textcolor{stringliteral}{"w"});   
499         \textcolor{keywordflow}{if}(!externalSensorsConfig)
500         \{
501         
502 \textcolor{preprocessor}{        #if DEBUG == 1 }
503 
504             Serial.println( F(\textcolor{stringliteral}{"failed to open external sensors file "}) );
505         
506 \textcolor{preprocessor}{        #endif }
507 
508             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
509         \}
510 
511         jsonExternalSensors.printTo(externalSensorsConfig); 
512         externalSensorsConfig.close();
513 
514 \textcolor{preprocessor}{#if DEBUG == 1 }
515         
516         Serial.println( F(\textcolor{stringliteral}{"externalSensors Config"}) );
517         jsonExternalSensors.printTo(Serial);
518         Serial.println();
519 
520 \textcolor{preprocessor}{#endif }
521 
522 
523     \}
524 
525     \textcolor{keywordflow}{else}
526     \{   
527 
528 \textcolor{preprocessor}{    #if DEBUG == 1}
529         
530         Serial.println( F(\textcolor{stringliteral}{"failed to parse external sensors"}) );
531 
532 \textcolor{preprocessor}{    #endif}
533 
534 
535     \}
536 
537     
538     \textcolor{comment}{//mqtt config}
539         JsonObject& jsonMQTT=root[\textcolor{stringliteral}{"mqtt"}];
540     
541 \textcolor{preprocessor}{#if DEBUG == 1 }
542 
543     Serial.println( F(\textcolor{stringliteral}{"before config mqtt json"}) );
544     jsonMQTT.printTo(Serial);
545 
546 \textcolor{preprocessor}{#endif}
547 
548     \textcolor{keywordflow}{if}(jsonMQTT.success())
549     \{
550         File mqttConfig = SPIFFS.open(\textcolor{stringliteral}{"/mqttConfig.json"}, \textcolor{stringliteral}{"w"}); 
551         \textcolor{keywordflow}{if}(!mqttConfig)
552         \{
553         
554 \textcolor{preprocessor}{        #if DEBUG == 1 }
555 
556             Serial.println( F(\textcolor{stringliteral}{"failed to open mqtt file "}) );
557         
558 \textcolor{preprocessor}{        #endif}
559         
560             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
561         \}
562             
563         jsonMQTT.printTo(mqttConfig);
564         mqttConfig.close();
565 
566 \textcolor{preprocessor}{#if DEBUG == 1 }
567 
568         Serial.println( F(\textcolor{stringliteral}{"mqtt config"}) );
569         jsonMQTT.printTo(Serial);
570         Serial.println();
571 
572 \textcolor{preprocessor}{#endif}
573 
574     \}
575     \textcolor{keywordflow}{else}
576     \{
577 
578 \textcolor{preprocessor}{    #if DEBUG == 1 }
579 
580         Serial.println( F(\textcolor{stringliteral}{"failed to parse mqtt"}) );
581     
582 \textcolor{preprocessor}{    #endif}
583 
584     
585     \}   
586 
587     \textcolor{comment}{//wifi config}
588         JsonObject& jsonWifi=root[\textcolor{stringliteral}{"wifi"}];
589     
590 \textcolor{preprocessor}{#if DEBUG == 1 }
591 
592     Serial.println( F(\textcolor{stringliteral}{"before config wifi json"}) );
593     jsonWifi.printTo(Serial);
594 
595 \textcolor{preprocessor}{#endif}
596 
597     \textcolor{keywordflow}{if}(jsonWifi.success())
598     \{
599         File wifiConfig = SPIFFS.open(\textcolor{stringliteral}{"/wifiConfig.json"}, \textcolor{stringliteral}{"w"}); 
600         \textcolor{keywordflow}{if}(!wifiConfig)
601         \{
602         
603 \textcolor{preprocessor}{        #if DEBUG == 1 }
604 
605             Serial.println( F(\textcolor{stringliteral}{"failed to open wifi file "}) );
606         
607 \textcolor{preprocessor}{        #endif}
608         
609             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
610         \}
611 
612         jsonWifi.printTo(wifiConfig);
613         wifiConfig.close();
614 
615 \textcolor{preprocessor}{#if DEBUG == 1 }
616 
617         Serial.println( F(\textcolor{stringliteral}{"wifi config"}) );
618         jsonWifi.printTo(Serial);
619 
620 \textcolor{preprocessor}{#endif}
621     \}
622     \textcolor{keywordflow}{else}
623     \{
624 
625 \textcolor{preprocessor}{    #if DEBUG == 1 }
626 
627         Serial.println( F(\textcolor{stringliteral}{"failed to parse wifi"}) );
628     
629 \textcolor{preprocessor}{    #endif}
630 
631     
632     \}   
633         
634     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
635 
636 \}   
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a32dad79ae80182a83e2e8f52286b7c7b_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}\label{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}} 
\index{Cool\+File\+System@{Cool\+File\+System}!saved\+Data@{saved\+Data}}
\index{saved\+Data@{saved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{saved\+Data}{savedData}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::saved\+Data =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 38 of file Cool\+File\+System.\+h.



Referenced by get\+Sensor\+Saved\+Data(), is\+Data\+Saved(), and save\+Sensor\+Data().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{CoolFileSystem_8h}{Cool\+File\+System.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{CoolFileSystem_8cpp}{Cool\+File\+System.\+cpp}\end{DoxyCompactItemize}
