\hypertarget{classCoolFileSystem}{}\section{Cool\+File\+System Class Reference}
\label{classCoolFileSystem}\index{Cool\+File\+System@{Cool\+File\+System}}


This class handles the file system.  




{\ttfamily \#include $<$Cool\+File\+System.\+h$>$}



Collaboration diagram for Cool\+File\+System\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=205pt]{classCoolFileSystem__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}{begin} ()
\item 
bool \hyperlink{classCoolFileSystem_a32dad79ae80182a83e2e8f52286b7c7b}{update\+Config\+Files} (String answer, int J\+S\+O\+N\+\_\+\+S\+I\+ZE)
\item 
bool \hyperlink{classCoolFileSystem_a4c560c2ddd40b74b7758e6ceb2c58957}{save\+Sensor\+Data} (const char $\ast$data, int Sensor\+\_\+\+J\+S\+O\+N\+\_\+\+S\+I\+ZE)
\item 
bool \hyperlink{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}{is\+Data\+Saved} ()
\item 
String \hyperlink{classCoolFileSystem_a5c58bca3735c0ed3efb268d70ef998ef}{get\+Sensor\+Saved\+Data} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{saved\+Data} =0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class handles the file system. 

Definition at line 22 of file Cool\+File\+System.\+h.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}\label{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}} 
\index{Cool\+File\+System@{Cool\+File\+System}!begin@{begin}}
\index{begin@{begin}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::begin (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}{Cool\+File\+System\+::begin()}\+: This method is provided to start the S\+P\+I\+F\+FS object.

\begin{DoxyReturn}{Returns}
true if S\+P\+I\+F\+FS was initialized correctly, false otherwise 
\end{DoxyReturn}


Definition at line 33 of file Cool\+File\+System.\+cpp.



Referenced by Cool\+Board\+::begin(), and Cool\+Board\+::config().


\begin{DoxyCode}
34 \{
35 
36 \textcolor{preprocessor}{#if DEBUG == 1}
37 
38     Serial.println(\textcolor{stringliteral}{"Entering CoolFileSystem.begin()"});
39     Serial.println();   
40     Serial.print(\textcolor{stringliteral}{"SPIFFS success ? "});
41     Serial.println(SPIFFS.begin());
42     Serial.println();
43 
44 \textcolor{preprocessor}{#endif}
45 
46     \textcolor{keywordflow}{return}( SPIFFS.begin() );                                   \textcolor{comment}{//Initialize Filesystem}
47 
48 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a5c58bca3735c0ed3efb268d70ef998ef}\label{classCoolFileSystem_a5c58bca3735c0ed3efb268d70ef998ef}} 
\index{Cool\+File\+System@{Cool\+File\+System}!get\+Sensor\+Saved\+Data@{get\+Sensor\+Saved\+Data}}
\index{get\+Sensor\+Saved\+Data@{get\+Sensor\+Saved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{get\+Sensor\+Saved\+Data()}{getSensorSavedData()}}
{\footnotesize\ttfamily String Cool\+File\+System\+::get\+Sensor\+Saved\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Cool\+File\+System\+::get\+Sensor\+Data()\+: This method is provided to return the sensor data saved in the File System

\begin{DoxyReturn}{Returns}
string json of the saved sensor data file 
\end{DoxyReturn}


Definition at line 607 of file Cool\+File\+System.\+cpp.



References saved\+Data.



Referenced by Cool\+Board\+::on\+Line\+Mode().


\begin{DoxyCode}
608 \{
609 
610 \textcolor{preprocessor}{#if DEBUG == 1 }
611 
612     Serial.println(\textcolor{stringliteral}{"Entering CoolFileSystem.getSensorSavedData()"});
613     Serial.println();
614 
615 \textcolor{preprocessor}{#endif}
616 
617     \textcolor{comment}{//open sensors data file}
618     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"r"});
619     
620     \textcolor{keywordflow}{if} (!sensorsData)
621     \{
622 
623 \textcolor{preprocessor}{    #if DEBUG == 1 }
624 
625         Serial.println(\textcolor{stringliteral}{"Failed to read /sensorsData.json"});
626 
627 \textcolor{preprocessor}{    #endif}
628  
629         \textcolor{keywordflow}{return}(\textcolor{stringliteral}{"failed to open file"});
630     \}
631 
632     \textcolor{keywordflow}{else}
633     \{
634         \textcolor{keywordtype}{size\_t} size = sensorsData.size();
635 
636         \textcolor{comment}{// Allocate a buffer to store contents of the file.}
637         std::unique\_ptr < char[] > buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
638 
639         sensorsData.readBytes(buf.get(), size);
640 
641         DynamicJsonBuffer jsonBuffer;
642 
643         JsonObject & json = jsonBuffer.parseObject(buf.get());
644         
645         \textcolor{keywordflow}{if} (!json.success())
646         \{
647 
648 \textcolor{preprocessor}{        #if DEBUG == 1}
649         
650             Serial.println(\textcolor{stringliteral}{"failed to parse json"});
651         
652 \textcolor{preprocessor}{        #endif}
653         
654             \textcolor{keywordflow}{return}(\textcolor{stringliteral}{"failed to parse json"});
655         \}
656         \textcolor{keywordflow}{else}
657         \{   
658             \textcolor{comment}{//the return string}
659             String sensorDataString;
660             
661             \textcolor{comment}{//print the json to the string}
662             json.printTo(sensorDataString);
663             
664             \textcolor{comment}{//close the file}
665             sensorsData.close();
666 
667             \textcolor{comment}{//delete data in the file}
668             File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"w"});
669             \textcolor{keywordflow}{if} (!sensorsData)   
670             \{
671 \textcolor{preprocessor}{            #if DEBUG == 1}
672         
673                 Serial.println(\textcolor{stringliteral}{"failed to delete data in the file"});
674         
675 \textcolor{preprocessor}{            #endif}
676 
677                 \textcolor{keywordflow}{return}(\textcolor{stringliteral}{"failed to delete data in the file"});
678             \}
679 
680             sensorsData.close();
681             
682             \textcolor{comment}{//position the saved data flag to false}
683             this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{false}; 
684             
685 \textcolor{preprocessor}{        #if DEBUG == 1 }
686 
687             Serial.println(\textcolor{stringliteral}{"saved data : "});
688             Serial.println(sensorDataString);
689             Serial.println();
690         
691 \textcolor{preprocessor}{        #endif}
692 
693             \textcolor{comment}{//return the string}
694             \textcolor{keywordflow}{return}(sensorDataString);       
695         \}
696         
697         
698     \}
699 
700 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a5c58bca3735c0ed3efb268d70ef998ef_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}\label{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}} 
\index{Cool\+File\+System@{Cool\+File\+System}!is\+Data\+Saved@{is\+Data\+Saved}}
\index{is\+Data\+Saved@{is\+Data\+Saved}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{is\+Data\+Saved()}{isDataSaved()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::is\+Data\+Saved (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}{Cool\+File\+System\+::is\+Data\+Saved()}\+: This method is provided to report wether there is sensor data saved in the File System.

\begin{DoxyReturn}{Returns}
true if there is data saved, false otherwise 
\end{DoxyReturn}


Definition at line 584 of file Cool\+File\+System.\+cpp.



References saved\+Data.



Referenced by Cool\+Board\+::on\+Line\+Mode().


\begin{DoxyCode}
585 \{
586 
587 \textcolor{preprocessor}{#if DEBUG == 1 }
588 
589     Serial.println(\textcolor{stringliteral}{"Entering CoolFileSystem.isDataSaved()"});
590     Serial.println();
591     Serial.print(\textcolor{stringliteral}{"savedData : "});
592     Serial.println(this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData});
593 
594 \textcolor{preprocessor}{#endif}
595 
596     \textcolor{keywordflow}{return}( this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData} );
597 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a4c560c2ddd40b74b7758e6ceb2c58957}\label{classCoolFileSystem_a4c560c2ddd40b74b7758e6ceb2c58957}} 
\index{Cool\+File\+System@{Cool\+File\+System}!save\+Sensor\+Data@{save\+Sensor\+Data}}
\index{save\+Sensor\+Data@{save\+Sensor\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{save\+Sensor\+Data()}{saveSensorData()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::save\+Sensor\+Data (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data,  }\item[{int}]{Sensor\+\_\+\+J\+S\+O\+N\+\_\+\+S\+I\+ZE }\end{DoxyParamCaption})}

Cool\+File\+System\+::save\+Sensor\+Data( data, data size )\+: This method is provided to save the data on the local memory when there is no internet available

sets the saved data flag to T\+R\+UE when successful

\begin{DoxyReturn}{Returns}
true if the data was saved, false otherwise 
\end{DoxyReturn}


Definition at line 60 of file Cool\+File\+System.\+cpp.



References saved\+Data.



Referenced by Cool\+Board\+::off\+Line\+Mode().


\begin{DoxyCode}
61 \{
62 
63 \textcolor{preprocessor}{#if DEBUG == 1}
64 
65     Serial.println(\textcolor{stringliteral}{"Entering CoolFileSystem.saveSensorData()"});
66     Serial.println();
67 
68 \textcolor{preprocessor}{#endif}
69     
70     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"a+"});
71     \textcolor{keywordflow}{if}(!sensorsData)
72     \{
73     
74 \textcolor{preprocessor}{    #if DEBUG == 1}
75     
76         Serial.println(\textcolor{stringliteral}{"failed to append to /sensorsData.json"});
77         Serial.println();
78     
79 \textcolor{preprocessor}{    #endif}
80 
81         this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{false};
82         \textcolor{keywordflow}{return} (\textcolor{keyword}{false}); 
83     \}   
84 
85     DynamicJsonBuffer jsonBuffer(Sensor\_JSON\_SIZE);
86     JsonObject& root = jsonBuffer.parseObject(data);
87 
88     \textcolor{keywordflow}{if}( root.success() )
89     \{
90         root.printTo(sensorsData);
91         sensorsData.close();
92     
93 \textcolor{preprocessor}{    #if DEBUG == 1}
94     
95         Serial.println(\textcolor{stringliteral}{"saved data is : "});
96         root.printTo(Serial);
97         Serial.println();
98     
99 \textcolor{preprocessor}{    #endif}
100 
101         this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{true};
102         \textcolor{keywordflow}{return} (\textcolor{keyword}{true});      
103     \}
104     \textcolor{keywordflow}{else}
105     \{
106     
107 \textcolor{preprocessor}{    #if DEBUG == 1}
108 
109         Serial.println(\textcolor{stringliteral}{"failed to parse json"});
110     
111 \textcolor{preprocessor}{    #endif}
112 
113         this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{false};
114         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
115     \}
116     
117 
118 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a4c560c2ddd40b74b7758e6ceb2c58957_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a32dad79ae80182a83e2e8f52286b7c7b}\label{classCoolFileSystem_a32dad79ae80182a83e2e8f52286b7c7b}} 
\index{Cool\+File\+System@{Cool\+File\+System}!update\+Config\+Files@{update\+Config\+Files}}
\index{update\+Config\+Files@{update\+Config\+Files}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{update\+Config\+Files()}{updateConfigFiles()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::update\+Config\+Files (\begin{DoxyParamCaption}\item[{String}]{answer,  }\item[{int}]{J\+S\+O\+N\+\_\+\+S\+I\+ZE }\end{DoxyParamCaption})}

Cool\+File\+Syste\+::update\+Config\+Files( mqtt answer, answer size)\+: This method is provided to update the configuration files when the appropriate mqtt answer is received\+: -\/update \+: 1

\begin{DoxyReturn}{Returns}
true if the files are updated correctly, false otherwise 
\end{DoxyReturn}


Definition at line 128 of file Cool\+File\+System.\+cpp.



References temp.



Referenced by Cool\+Board\+::update().


\begin{DoxyCode}
129 \{
130 
131 \textcolor{preprocessor}{#if DEBUG == 1}
132 
133     Serial.println(\textcolor{stringliteral}{"Entering CoolFileSystem.updateConfigFiles"});
134     Serial.println();
135 
136 \textcolor{preprocessor}{#endif}
137 
138     \textcolor{comment}{//total json object }
139     DynamicJsonBuffer jsonBuffer(JSON\_SIZE);
140     JsonObject& root = jsonBuffer.parseObject( answer.c\_str() );
141     
142     \textcolor{keywordflow}{if}(! ( root.success() ))
143     \{
144     
145 \textcolor{preprocessor}{    #if DEBUG == 1}
146 
147         Serial.println(\textcolor{stringliteral}{"failed to parse root "});
148         Serial.println();
149     
150 \textcolor{preprocessor}{    #endif}
151 
152         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
153     \}
154     \textcolor{keywordflow}{else}
155     \{
156 \textcolor{preprocessor}{    #if DEBUG == 1}
157         
158         Serial.println(\textcolor{stringliteral}{"success to parse root "});
159         Serial.println();
160         
161 \textcolor{preprocessor}{    #endif  }
162     \}
163     
164 \textcolor{preprocessor}{#if DEBUG == 1}
165 
166     Serial.println(\textcolor{stringliteral}{"input message is : "});
167     root.printTo(Serial);
168     Serial.println();
169 
170 \textcolor{preprocessor}{#endif}
171     \textcolor{comment}{//temp string}
172     String \hyperlink{Irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp};
173 
174     \textcolor{comment}{//CoolBoard Configuration File}
175 
176         JsonObject& jsonCoolBoard=root[\textcolor{stringliteral}{"CoolBoard"}];
177 
178 \textcolor{preprocessor}{#if DEBUG == 1}
179 
180     Serial.println(\textcolor{stringliteral}{"before config CoolBoard json"});
181     jsonCoolBoard.printTo(Serial);
182 
183 \textcolor{preprocessor}{#endif}
184 
185     \textcolor{keywordflow}{if}(jsonCoolBoard.success())
186     \{
187         File coolBoardConfig = SPIFFS.open(\textcolor{stringliteral}{"/coolBoardConfig.json"}, \textcolor{stringliteral}{"w"});   
188         \textcolor{keywordflow}{if}(!coolBoardConfig)
189         \{   
190 \textcolor{preprocessor}{        #if DEBUG == 1}
191             
192             Serial.println(\textcolor{stringliteral}{"failed to write to coolBoardConfig.json"});
193 
194 \textcolor{preprocessor}{        #endif}
195             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
196         \}
197         
198         jsonCoolBoard.printTo(coolBoardConfig);
199         
200         coolBoardConfig.close();
201 
202 
203 \textcolor{preprocessor}{    #if DEBUG == 1}
204 
205         Serial.println(\textcolor{stringliteral}{"CoolBoard Config"});
206         jsonCoolBoard.printTo(Serial);
207     
208 \textcolor{preprocessor}{    #endif}
209         
210     \}
211     \textcolor{keywordflow}{else}
212     \{
213     
214 \textcolor{preprocessor}{    #if DEBUG == 1 }
215 
216         Serial.println(\textcolor{stringliteral}{"failed to parse CoolBoard "});
217     
218 \textcolor{preprocessor}{    #endif}
219 
220     \}       
221 
222     
223     \textcolor{comment}{//Cool Board Sensors Configuration File}
224         JsonObject& jsonSensorsBoard=root[\textcolor{stringliteral}{"CoolSensorsBoard"}];
225 
226 \textcolor{preprocessor}{#if DEBUG == 1 }
227 
228     Serial.println(\textcolor{stringliteral}{"before config CoolSensorsBoard json"});
229     jsonSensorsBoard.printTo(Serial);
230 
231 \textcolor{preprocessor}{#endif }
232     
233     \textcolor{keywordflow}{if}(jsonSensorsBoard.success())
234     \{   
235         File coolBoardSensorsConfig = SPIFFS.open(\textcolor{stringliteral}{"/coolBoardSensorsConfig.json"}, \textcolor{stringliteral}{"w"}); 
236         \textcolor{keywordflow}{if}(!coolBoardSensorsConfig)
237         \{
238 \textcolor{preprocessor}{        #if DEBUG == 1 }
239         
240             Serial.println(\textcolor{stringliteral}{"failed to write coolBoardSensors.json"});
241 
242 \textcolor{preprocessor}{        #endif}
243 
244             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
245         \}
246         
247         jsonSensorsBoard.printTo(coolBoardSensorsConfig);
248         coolBoardSensorsConfig.close();
249 
250 \textcolor{preprocessor}{    #if DEBUG == 1}
251 
252         Serial.println(\textcolor{stringliteral}{"CoolBoardSensors Config"});
253         jsonSensorsBoard.printTo(Serial);
254 
255 \textcolor{preprocessor}{    #endif}
256 
257     \}
258     \textcolor{keywordflow}{else}
259     \{
260 
261 \textcolor{preprocessor}{    #if DEBUG == 1}
262 
263         Serial.println(\textcolor{stringliteral}{"failed to parse CoolSensorsBoard sensors "});    
264     
265 \textcolor{preprocessor}{    #endif}
266 
267     \}
268     
269     
270     
271     \textcolor{comment}{//rtc configuration file}
272     DynamicJsonBuffer jsonR;
273         JsonObject& jsonRTC=root[\textcolor{stringliteral}{"rtc"}];
274 
275 \textcolor{preprocessor}{#if DEBUG == 1 }
276     
277     Serial.println(\textcolor{stringliteral}{"before config rtc json"});
278     jsonRTC.printTo(Serial);
279 
280 \textcolor{preprocessor}{#endif}
281     \textcolor{keywordflow}{if}(jsonRTC.success() )
282     \{
283         File rtcConfig = SPIFFS.open(\textcolor{stringliteral}{"/rtcConfig.json"}, \textcolor{stringliteral}{"w"});   
284         \textcolor{keywordflow}{if}(!rtcConfig)
285         \{
286         
287 \textcolor{preprocessor}{        #if DEBUG == 1 }
288 
289             Serial.println(\textcolor{stringliteral}{"failed to write rtcConfig.json"});
290 
291 \textcolor{preprocessor}{        #endif}
292 
293             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
294         \}
295 
296         jsonRTC.printTo(rtcConfig);
297         rtcConfig.close();
298 
299 \textcolor{preprocessor}{    #if DEBUG == 1 }
300 
301         Serial.println(\textcolor{stringliteral}{"RTC Config"});
302         jsonRTC.printTo(Serial);
303     
304 \textcolor{preprocessor}{    #endif}
305 
306     
307     \}
308     \textcolor{keywordflow}{else}
309     \{
310     
311 \textcolor{preprocessor}{    #if DEBUG == 1 }
312 
313         Serial.println(\textcolor{stringliteral}{"failed to parse rtc "});
314     
315 \textcolor{preprocessor}{    #endif}
316 
317     \}
318 
319     
320     
321     
322     
323         \textcolor{comment}{//cool board led configuration}
324     DynamicJsonBuffer jsonLBoard;
325         JsonObject& jsonLedBoard=root[\textcolor{stringliteral}{"led"}];
326     
327 \textcolor{preprocessor}{#if DEBUG == 1 }
328 
329     Serial.println(\textcolor{stringliteral}{"before config Led json"});
330     jsonLedBoard.printTo(Serial);
331 
332 \textcolor{preprocessor}{#endif}
333 
334     \textcolor{keywordflow}{if}(jsonLedBoard.success())
335     \{   
336         File coolBoardLedConfig = SPIFFS.open(\textcolor{stringliteral}{"/coolBoardLedConfig.json"}, \textcolor{stringliteral}{"w"}); 
337         \textcolor{keywordflow}{if}(!coolBoardLedConfig)
338         \{
339         
340 \textcolor{preprocessor}{        #if DEBUG == 1 }
341         
342             Serial.println(\textcolor{stringliteral}{"failed to write led config"});
343         
344 \textcolor{preprocessor}{        #endif}
345 
346             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
347         \}
348         
349         jsonLedBoard.printTo(coolBoardLedConfig);
350         coolBoardLedConfig.close();
351 
352 \textcolor{preprocessor}{    #if DEBUG == 1 }
353 
354         Serial.println(\textcolor{stringliteral}{"CoolBoardLed Config"});      
355         jsonLedBoard.printTo(Serial);
356     
357 \textcolor{preprocessor}{    #endif}
358 
359     
360     \}
361     \textcolor{keywordflow}{else}
362     \{
363     
364 \textcolor{preprocessor}{    #if DEBUG == 1 }
365 
366         Serial.println(\textcolor{stringliteral}{"failed to parse led"});
367     
368 \textcolor{preprocessor}{    #endif }
369 
370     \}
371         
372 
373     
374 
375     \textcolor{comment}{//jetpack configuration}
376     DynamicJsonBuffer jsonJBoard;
377         JsonObject& jsonJetpack=root[\textcolor{stringliteral}{"jetPack"}];
378 
379 \textcolor{preprocessor}{#if DEBUG == 1 }
380 
381     Serial.println(\textcolor{stringliteral}{"before config jetpack json"});
382     jsonJetpack.printTo(Serial);
383 
384 \textcolor{preprocessor}{#endif}
385 
386     \textcolor{keywordflow}{if}(jsonJetpack.success())
387     \{   
388         File jetPackConfig = SPIFFS.open(\textcolor{stringliteral}{"/jetPackConfig.json"}, \textcolor{stringliteral}{"w"});   
389         \textcolor{keywordflow}{if}(!jetPackConfig)
390         \{
391 \textcolor{preprocessor}{        #if DEBUG == 1}
392 
393             Serial.println(\textcolor{stringliteral}{"failed to write jetpack file"});
394         
395 \textcolor{preprocessor}{        #endif}
396 
397             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
398         \}
399 
400         jsonJetpack.printTo(jetPackConfig);
401         jetPackConfig.close();
402 
403 \textcolor{preprocessor}{    #if DEBUG == 1}
404 
405         Serial.println(\textcolor{stringliteral}{"jetpack Config"});   
406         jsonJetpack.printTo(Serial);
407     
408 \textcolor{preprocessor}{    #endif}
409 
410     \}
411 
412     \textcolor{keywordflow}{else}
413     \{
414     
415 \textcolor{preprocessor}{    #if DEBUG == 1 }
416 
417         Serial.println(\textcolor{stringliteral}{"failed to parse jetpack"});  
418     
419 \textcolor{preprocessor}{    #endif}
420 
421     \}
422     
423     \textcolor{comment}{//irene configuration   }
424     DynamicJsonBuffer jsonIBoard;
425         JsonObject& jsonIrene=root[\textcolor{stringliteral}{"irene3000"}];
426     
427 \textcolor{preprocessor}{#if DEBUG == 1 }
428 
429     Serial.println(\textcolor{stringliteral}{"before config irene json"}); 
430     jsonIrene.printTo(Serial);
431 
432 \textcolor{preprocessor}{#endif }
433 
434     \textcolor{keywordflow}{if}(jsonIrene.success())
435     \{
436         File irene3000Config = SPIFFS.open(\textcolor{stringliteral}{"/irene3000Config.json"}, \textcolor{stringliteral}{"w"});   
437         \textcolor{keywordflow}{if}(!irene3000Config)
438         \{
439 
440 \textcolor{preprocessor}{        #if DEBUG == 1 }
441 
442             Serial.println(\textcolor{stringliteral}{"failed to write irene file"});
443         
444 \textcolor{preprocessor}{        #endif}
445 
446             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
447         \}
448 
449         jsonIrene.printTo(irene3000Config);
450         irene3000Config.close();
451     
452 \textcolor{preprocessor}{    #if DEBUG == 1 }
453         
454         Serial.println(\textcolor{stringliteral}{"irene3000 Config"});
455         jsonIrene.printTo(Serial);
456     
457 \textcolor{preprocessor}{    #endif}
458     
459     \}
460     \textcolor{keywordflow}{else}
461     \{
462     
463 \textcolor{preprocessor}{    #if DEBUG == 1 }
464 
465         Serial.println(\textcolor{stringliteral}{"failed to parse irene"});    
466     
467 \textcolor{preprocessor}{    #endif }
468 
469 
470     \}
471     
472     \textcolor{comment}{//external sensors}
473     DynamicJsonBuffer jsonESBoard;
474         JsonObject& jsonExternalSensors=root[\textcolor{stringliteral}{"externalSensors"}];
475 
476 \textcolor{preprocessor}{#if DEBUG == 1 }
477 
478     Serial.println(\textcolor{stringliteral}{"before config external Sensors json"});
479     jsonExternalSensors.printTo(Serial);
480 
481 \textcolor{preprocessor}{#endif}
482 
483     \textcolor{keywordflow}{if}(jsonExternalSensors.success())
484     \{
485         File externalSensorsConfig = SPIFFS.open(\textcolor{stringliteral}{"/externalSensorsConfig.json"}, \textcolor{stringliteral}{"w"});   
486         \textcolor{keywordflow}{if}(!externalSensorsConfig)
487         \{
488         
489 \textcolor{preprocessor}{        #if DEBUG == 1 }
490 
491             Serial.println(\textcolor{stringliteral}{"failed to open external sensors file "});
492         
493 \textcolor{preprocessor}{        #endif }
494 
495             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
496         \}
497 
498 \textcolor{preprocessor}{#if DEBUG == 1 }
499         
500         Serial.println(\textcolor{stringliteral}{"externalSensors Config"});
501         jsonExternalSensors.printTo(Serial);
502 
503 \textcolor{preprocessor}{#endif }
504 
505         jsonExternalSensors.printTo(externalSensorsConfig); 
506         externalSensorsConfig.close();
507 
508     \}
509 
510     \textcolor{keywordflow}{else}
511     \{   
512 
513 \textcolor{preprocessor}{    #if DEBUG == 1}
514         
515         Serial.println(\textcolor{stringliteral}{"failed to parse external sensors"});
516 
517 \textcolor{preprocessor}{    #endif}
518 
519 
520     \}
521 
522     
523     \textcolor{comment}{//mqtt config}
524     DynamicJsonBuffer jsonMQ;
525         JsonObject& jsonMQTT=root[\textcolor{stringliteral}{"mqtt"}];
526     
527 \textcolor{preprocessor}{#if DEBUG == 1 }
528 
529     Serial.println(\textcolor{stringliteral}{"before config mqtt json"});
530     jsonMQTT.printTo(Serial);
531 
532 \textcolor{preprocessor}{#endif}
533 
534     \textcolor{keywordflow}{if}(jsonMQTT.success())
535     \{
536         File mqttConfig = SPIFFS.open(\textcolor{stringliteral}{"/mqttConfig.json"}, \textcolor{stringliteral}{"w"}); 
537         \textcolor{keywordflow}{if}(!mqttConfig)
538         \{
539         
540 \textcolor{preprocessor}{        #if DEBUG == 1 }
541 
542             Serial.println(\textcolor{stringliteral}{"failed to open mqtt file "});
543         
544 \textcolor{preprocessor}{        #endif}
545         
546             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
547         \}
548 
549 \textcolor{preprocessor}{#if DEBUG == 1 }
550 
551         Serial.println(\textcolor{stringliteral}{"mqtt config"});
552         jsonMQTT.printTo(Serial);
553 
554 \textcolor{preprocessor}{#endif}
555     
556         jsonMQTT.printTo(mqttConfig);
557         mqttConfig.close();
558     \}
559     \textcolor{keywordflow}{else}
560     \{
561 
562 \textcolor{preprocessor}{    #if DEBUG == 1 }
563 
564         Serial.println(\textcolor{stringliteral}{"failed to parse mqtt"});
565     
566 \textcolor{preprocessor}{    #endif}
567 
568     
569     \}   
570         
571     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
572 
573 \}   
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a32dad79ae80182a83e2e8f52286b7c7b_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}\label{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}} 
\index{Cool\+File\+System@{Cool\+File\+System}!saved\+Data@{saved\+Data}}
\index{saved\+Data@{saved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{saved\+Data}{savedData}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::saved\+Data =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 38 of file Cool\+File\+System.\+h.



Referenced by get\+Sensor\+Saved\+Data(), is\+Data\+Saved(), and save\+Sensor\+Data().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{CoolFileSystem_8h}{Cool\+File\+System.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{CoolFileSystem_8cpp}{Cool\+File\+System.\+cpp}\end{DoxyCompactItemize}
