\hypertarget{classCoolFileSystem}{}\section{Cool\+File\+System Class Reference}
\label{classCoolFileSystem}\index{Cool\+File\+System@{Cool\+File\+System}}


This class handles the file system.  




{\ttfamily \#include $<$Cool\+File\+System.\+h$>$}



Collaboration diagram for Cool\+File\+System\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=205pt]{classCoolFileSystem__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}{begin} ()
\item 
bool \hyperlink{classCoolFileSystem_a32dad79ae80182a83e2e8f52286b7c7b}{update\+Config\+Files} (String answer, int J\+S\+O\+N\+\_\+\+S\+I\+ZE)
\item 
bool \hyperlink{classCoolFileSystem_a4c560c2ddd40b74b7758e6ceb2c58957}{save\+Sensor\+Data} (const char $\ast$data, int Sensor\+\_\+\+J\+S\+O\+N\+\_\+\+S\+I\+ZE)
\item 
bool \hyperlink{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}{is\+Data\+Saved} ()
\item 
String \hyperlink{classCoolFileSystem_a5c58bca3735c0ed3efb268d70ef998ef}{get\+Sensor\+Saved\+Data} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{saved\+Data} =0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class handles the file system. 

Definition at line 22 of file Cool\+File\+System.\+h.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}\label{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}} 
\index{Cool\+File\+System@{Cool\+File\+System}!begin@{begin}}
\index{begin@{begin}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::begin (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}{Cool\+File\+System\+::begin()}\+: This method is provided to start the S\+P\+I\+F\+FS object.

\begin{DoxyReturn}{Returns}
true if S\+P\+I\+F\+FS was initialized correctly, false otherwise 
\end{DoxyReturn}


Definition at line 33 of file Cool\+File\+System.\+cpp.



Referenced by Cool\+Board\+::begin(), and Cool\+Board\+::config().


\begin{DoxyCode}
34 \{
35 
36 \textcolor{preprocessor}{#if DEBUG == 1}
37 
38     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.begin()"}) );
39     Serial.println();   
40     Serial.print( F(\textcolor{stringliteral}{"SPIFFS success ? "}) );
41     Serial.println(SPIFFS.begin());
42     Serial.println();
43 
44 \textcolor{preprocessor}{#endif}
45 
46     \textcolor{keywordflow}{return}( SPIFFS.begin() );                                   \textcolor{comment}{//Initialize Filesystem}
47 
48 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a5c58bca3735c0ed3efb268d70ef998ef}\label{classCoolFileSystem_a5c58bca3735c0ed3efb268d70ef998ef}} 
\index{Cool\+File\+System@{Cool\+File\+System}!get\+Sensor\+Saved\+Data@{get\+Sensor\+Saved\+Data}}
\index{get\+Sensor\+Saved\+Data@{get\+Sensor\+Saved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{get\+Sensor\+Saved\+Data()}{getSensorSavedData()}}
{\footnotesize\ttfamily String Cool\+File\+System\+::get\+Sensor\+Saved\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Cool\+File\+System\+::get\+Sensor\+Data()\+: This method is provided to return the sensor data saved in the File System

\begin{DoxyReturn}{Returns}
string json of the saved sensor data file 
\end{DoxyReturn}


Definition at line 617 of file Cool\+File\+System.\+cpp.



References saved\+Data.



Referenced by Cool\+Board\+::on\+Line\+Mode().


\begin{DoxyCode}
618 \{
619 
620 \textcolor{preprocessor}{#if DEBUG == 1 }
621 
622     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.getSensorSavedData()"}) );
623     Serial.println();
624 
625 \textcolor{preprocessor}{#endif}
626 
627     \textcolor{comment}{//open sensors data file}
628     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"r"});
629     
630     \textcolor{keywordflow}{if} (!sensorsData)
631     \{
632 
633 \textcolor{preprocessor}{    #if DEBUG == 1 }
634 
635         Serial.println( F(\textcolor{stringliteral}{"Failed to read /sensorsData.json"}) );
636 
637 \textcolor{preprocessor}{    #endif}
638  
639         \textcolor{keywordflow}{return}(\textcolor{stringliteral}{"failed to open file"});
640     \}
641 
642     \textcolor{keywordflow}{else}
643     \{
644         \textcolor{keywordtype}{size\_t} size = sensorsData.size();
645 
646         \textcolor{comment}{// Allocate a buffer to store contents of the file.}
647         std::unique\_ptr < char[] > buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
648 
649         sensorsData.readBytes(buf.get(), size);
650 
651         DynamicJsonBuffer jsonBuffer;
652 
653         JsonObject & json = jsonBuffer.parseObject(buf.get());
654         
655         \textcolor{keywordflow}{if} (!json.success())
656         \{
657 
658 \textcolor{preprocessor}{        #if DEBUG == 1}
659         
660             Serial.println( F(\textcolor{stringliteral}{"failed to parse json"}) );
661         
662 \textcolor{preprocessor}{        #endif}
663         
664             \textcolor{keywordflow}{return}(\textcolor{stringliteral}{"failed to parse json"});
665         \}
666         \textcolor{keywordflow}{else}
667         \{   
668             \textcolor{comment}{//the return string}
669             String sensorDataString;
670             
671             \textcolor{comment}{//print the json to the string}
672             json.printTo(sensorDataString);
673             
674             \textcolor{comment}{//close the file}
675             sensorsData.close();
676 
677             \textcolor{comment}{//delete data in the file}
678             File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"w"});
679             \textcolor{keywordflow}{if} (!sensorsData)   
680             \{
681 \textcolor{preprocessor}{            #if DEBUG == 1}
682         
683                 Serial.println( F(\textcolor{stringliteral}{"failed to delete data in the file"}) );
684         
685 \textcolor{preprocessor}{            #endif}
686 
687                 \textcolor{keywordflow}{return}(\textcolor{stringliteral}{"failed to delete data in the file"});
688             \}
689 
690             sensorsData.close();
691             
692             \textcolor{comment}{//position the saved data flag to false}
693             this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{false}; 
694             
695 \textcolor{preprocessor}{        #if DEBUG == 1 }
696 
697             Serial.println( F(\textcolor{stringliteral}{"saved data : "}) );
698             Serial.println(sensorDataString);
699             Serial.println();
700         
701 \textcolor{preprocessor}{        #endif}
702 
703             \textcolor{comment}{//return the string}
704             \textcolor{keywordflow}{return}(sensorDataString);       
705         \}
706         
707         
708     \}
709 
710 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a5c58bca3735c0ed3efb268d70ef998ef_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}\label{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}} 
\index{Cool\+File\+System@{Cool\+File\+System}!is\+Data\+Saved@{is\+Data\+Saved}}
\index{is\+Data\+Saved@{is\+Data\+Saved}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{is\+Data\+Saved()}{isDataSaved()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::is\+Data\+Saved (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}{Cool\+File\+System\+::is\+Data\+Saved()}\+: This method is provided to report wether there is sensor data saved in the File System.

\begin{DoxyReturn}{Returns}
true if there is data saved, false otherwise 
\end{DoxyReturn}


Definition at line 594 of file Cool\+File\+System.\+cpp.



References saved\+Data.



Referenced by Cool\+Board\+::on\+Line\+Mode().


\begin{DoxyCode}
595 \{
596 
597 \textcolor{preprocessor}{#if DEBUG == 1 }
598 
599     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.isDataSaved()"}) );
600     Serial.println();
601     Serial.print( F(\textcolor{stringliteral}{"savedData : "}) );
602     Serial.println(this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData});
603 
604 \textcolor{preprocessor}{#endif}
605 
606     \textcolor{keywordflow}{return}( this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData} );
607 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a4c560c2ddd40b74b7758e6ceb2c58957}\label{classCoolFileSystem_a4c560c2ddd40b74b7758e6ceb2c58957}} 
\index{Cool\+File\+System@{Cool\+File\+System}!save\+Sensor\+Data@{save\+Sensor\+Data}}
\index{save\+Sensor\+Data@{save\+Sensor\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{save\+Sensor\+Data()}{saveSensorData()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::save\+Sensor\+Data (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data,  }\item[{int}]{Sensor\+\_\+\+J\+S\+O\+N\+\_\+\+S\+I\+ZE }\end{DoxyParamCaption})}

Cool\+File\+System\+::save\+Sensor\+Data( data, data size )\+: This method is provided to save the data on the local memory when there is no internet available

sets the saved data flag to T\+R\+UE when successful

\begin{DoxyReturn}{Returns}
true if the data was saved, false otherwise 
\end{DoxyReturn}


Definition at line 60 of file Cool\+File\+System.\+cpp.



References saved\+Data.



Referenced by Cool\+Board\+::off\+Line\+Mode().


\begin{DoxyCode}
61 \{
62 
63 \textcolor{preprocessor}{#if DEBUG == 1}
64 
65     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.saveSensorData()"}) );
66     Serial.println();
67 
68 \textcolor{preprocessor}{#endif}
69     
70     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"a+"});
71     \textcolor{keywordflow}{if}(!sensorsData)
72     \{
73     
74 \textcolor{preprocessor}{    #if DEBUG == 1}
75     
76         Serial.println( F(\textcolor{stringliteral}{"failed to append to /sensorsData.json"}) );
77         Serial.println();
78     
79 \textcolor{preprocessor}{    #endif}
80 
81         this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{false};
82         \textcolor{keywordflow}{return} (\textcolor{keyword}{false}); 
83     \}   
84 
85     DynamicJsonBuffer jsonBuffer(Sensor\_JSON\_SIZE);
86     JsonObject& root = jsonBuffer.parseObject(data);
87 
88     \textcolor{keywordflow}{if}( root.success() )
89     \{
90         root.printTo(sensorsData);
91         sensorsData.close();
92     
93 \textcolor{preprocessor}{    #if DEBUG == 1}
94     
95         Serial.println( F(\textcolor{stringliteral}{"saved data is : "}) );
96         root.printTo(Serial);
97         Serial.println();
98     
99 \textcolor{preprocessor}{    #endif}
100 
101         this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{true};
102         \textcolor{keywordflow}{return} (\textcolor{keyword}{true});      
103     \}
104     \textcolor{keywordflow}{else}
105     \{
106     
107 \textcolor{preprocessor}{    #if DEBUG == 1}
108 
109         Serial.println( F(\textcolor{stringliteral}{"failed to parse json"}) );
110     
111 \textcolor{preprocessor}{    #endif}
112 
113         this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{false};
114         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
115     \}
116     
117 
118 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a4c560c2ddd40b74b7758e6ceb2c58957_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a32dad79ae80182a83e2e8f52286b7c7b}\label{classCoolFileSystem_a32dad79ae80182a83e2e8f52286b7c7b}} 
\index{Cool\+File\+System@{Cool\+File\+System}!update\+Config\+Files@{update\+Config\+Files}}
\index{update\+Config\+Files@{update\+Config\+Files}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{update\+Config\+Files()}{updateConfigFiles()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::update\+Config\+Files (\begin{DoxyParamCaption}\item[{String}]{answer,  }\item[{int}]{J\+S\+O\+N\+\_\+\+S\+I\+ZE }\end{DoxyParamCaption})}

Cool\+File\+Syste\+::update\+Config\+Files( mqtt answer, answer size)\+: This method is provided to update the configuration files when the appropriate mqtt answer is received\+: -\/update \+: 1

\begin{DoxyReturn}{Returns}
true if the files are updated correctly, false otherwise 
\end{DoxyReturn}


Definition at line 128 of file Cool\+File\+System.\+cpp.



References temp.



Referenced by Cool\+Board\+::update().


\begin{DoxyCode}
129 \{
130 
131 \textcolor{preprocessor}{#if DEBUG == 1}
132 
133     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.updateConfigFiles"}) );
134     Serial.println();
135     
136     Serial.println( F(\textcolor{stringliteral}{"input answer : "}) );
137     Serial.println(answer);
138 \textcolor{preprocessor}{#endif}
139     \textcolor{comment}{//test}
140     \textcolor{keywordtype}{char} buffer[ answer.length()+2 ];
141     answer.toCharArray( buffer, answer.length()+2  );
142     \textcolor{comment}{//total json object }
143     DynamicJsonBuffer jsonBuffer(JSON\_SIZE);
144     JsonObject& root = jsonBuffer.parseObject( buffer );
145 
146 \textcolor{preprocessor}{#if DEBUG == 1}
147     Serial.println( F(\textcolor{stringliteral}{"json object : "}) );  
148     root.printTo(Serial);
149 
150 \textcolor{preprocessor}{#endif}
151 
152     \textcolor{keywordflow}{if}(! ( root.success() ))
153     \{
154     
155 \textcolor{preprocessor}{    #if DEBUG == 1}
156 
157         Serial.println( F(\textcolor{stringliteral}{"failed to parse root "}) );
158         Serial.println();
159     
160 \textcolor{preprocessor}{    #endif}
161 
162         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
163     \}
164     \textcolor{keywordflow}{else}
165     \{
166 \textcolor{preprocessor}{    #if DEBUG == 1}
167         
168         Serial.println( F(\textcolor{stringliteral}{"success to parse root "}) );
169         Serial.println();
170         
171 \textcolor{preprocessor}{    #endif  }
172     \}
173     
174 \textcolor{preprocessor}{#if DEBUG == 1}
175 
176     Serial.println( F(\textcolor{stringliteral}{"input message is : "}) );
177     root.printTo(Serial);
178     Serial.println();
179 
180 \textcolor{preprocessor}{#endif}
181     \textcolor{comment}{//temp string}
182     String \hyperlink{Irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp};
183 
184     \textcolor{comment}{//CoolBoard Configuration File}
185 
186         JsonObject& jsonCoolBoard=root[\textcolor{stringliteral}{"CoolBoard"}];
187 
188 \textcolor{preprocessor}{#if DEBUG == 1}
189 
190     Serial.println( F(\textcolor{stringliteral}{"before config CoolBoard json"}) );
191     jsonCoolBoard.printTo(Serial);
192 
193 \textcolor{preprocessor}{#endif}
194 
195     \textcolor{keywordflow}{if}(jsonCoolBoard.success())
196     \{
197         File coolBoardConfig = SPIFFS.open(\textcolor{stringliteral}{"/coolBoardConfig.json"}, \textcolor{stringliteral}{"w"});   
198         \textcolor{keywordflow}{if}(!coolBoardConfig)
199         \{   
200 \textcolor{preprocessor}{        #if DEBUG == 1}
201             
202             Serial.println( F(\textcolor{stringliteral}{"failed to write to coolBoardConfig.json"}) );
203 
204 \textcolor{preprocessor}{        #endif}
205             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
206         \}
207         
208         jsonCoolBoard.printTo(coolBoardConfig);
209         
210         coolBoardConfig.close();
211 
212 
213 \textcolor{preprocessor}{    #if DEBUG == 1}
214 
215         Serial.println( F(\textcolor{stringliteral}{"CoolBoard Config"}) );
216         jsonCoolBoard.printTo(Serial);
217     
218 \textcolor{preprocessor}{    #endif}
219         
220     \}
221     \textcolor{keywordflow}{else}
222     \{
223     
224 \textcolor{preprocessor}{    #if DEBUG == 1 }
225 
226         Serial.println( F(\textcolor{stringliteral}{"failed to parse CoolBoard "}) );
227     
228 \textcolor{preprocessor}{    #endif}
229 
230     \}       
231 
232     
233     \textcolor{comment}{//Cool Board Sensors Configuration File}
234         JsonObject& jsonSensorsBoard=root[\textcolor{stringliteral}{"CoolSensorsBoard"}];
235 
236 \textcolor{preprocessor}{#if DEBUG == 1 }
237 
238     Serial.println( F(\textcolor{stringliteral}{"before config CoolSensorsBoard json"}) );
239     jsonSensorsBoard.printTo(Serial);
240 
241 \textcolor{preprocessor}{#endif }
242     
243     \textcolor{keywordflow}{if}(jsonSensorsBoard.success())
244     \{   
245         File coolBoardSensorsConfig = SPIFFS.open(\textcolor{stringliteral}{"/coolBoardSensorsConfig.json"}, \textcolor{stringliteral}{"w"}); 
246         \textcolor{keywordflow}{if}(!coolBoardSensorsConfig)
247         \{
248 \textcolor{preprocessor}{        #if DEBUG == 1 }
249         
250             Serial.println( F(\textcolor{stringliteral}{"failed to write coolBoardSensors.json"}) );
251 
252 \textcolor{preprocessor}{        #endif}
253 
254             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
255         \}
256         
257         jsonSensorsBoard.printTo(coolBoardSensorsConfig);
258         coolBoardSensorsConfig.close();
259 
260 \textcolor{preprocessor}{    #if DEBUG == 1}
261 
262         Serial.println(\textcolor{stringliteral}{"CoolBoardSensors Config"});
263         jsonSensorsBoard.printTo(Serial);
264 
265 \textcolor{preprocessor}{    #endif}
266 
267     \}
268     \textcolor{keywordflow}{else}
269     \{
270 
271 \textcolor{preprocessor}{    #if DEBUG == 1}
272 
273         Serial.println( F(\textcolor{stringliteral}{"failed to parse CoolSensorsBoard sensors "}) );   
274     
275 \textcolor{preprocessor}{    #endif}
276 
277     \}
278     
279     
280     
281     \textcolor{comment}{//rtc configuration file}
282     DynamicJsonBuffer jsonR;
283         JsonObject& jsonRTC=root[\textcolor{stringliteral}{"rtc"}];
284 
285 \textcolor{preprocessor}{#if DEBUG == 1 }
286     
287     Serial.println( F(\textcolor{stringliteral}{"before config rtc json"}) );
288     jsonRTC.printTo(Serial);
289 
290 \textcolor{preprocessor}{#endif}
291     \textcolor{keywordflow}{if}(jsonRTC.success() )
292     \{
293         File rtcConfig = SPIFFS.open(\textcolor{stringliteral}{"/rtcConfig.json"}, \textcolor{stringliteral}{"w"});   
294         \textcolor{keywordflow}{if}(!rtcConfig)
295         \{
296         
297 \textcolor{preprocessor}{        #if DEBUG == 1 }
298 
299             Serial.println( F(\textcolor{stringliteral}{"failed to write rtcConfig.json"}) );
300 
301 \textcolor{preprocessor}{        #endif}
302 
303             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
304         \}
305 
306         jsonRTC.printTo(rtcConfig);
307         rtcConfig.close();
308 
309 \textcolor{preprocessor}{    #if DEBUG == 1 }
310 
311         Serial.println( F(\textcolor{stringliteral}{"RTC Config"}) );
312         jsonRTC.printTo(Serial);
313     
314 \textcolor{preprocessor}{    #endif}
315 
316     
317     \}
318     \textcolor{keywordflow}{else}
319     \{
320     
321 \textcolor{preprocessor}{    #if DEBUG == 1 }
322 
323         Serial.println( F(\textcolor{stringliteral}{"failed to parse rtc "}) );
324     
325 \textcolor{preprocessor}{    #endif}
326 
327     \}
328 
329     
330     
331     
332     
333         \textcolor{comment}{//cool board led configuration}
334     DynamicJsonBuffer jsonLBoard;
335         JsonObject& jsonLedBoard=root[\textcolor{stringliteral}{"led"}];
336     
337 \textcolor{preprocessor}{#if DEBUG == 1 }
338 
339     Serial.println( F(\textcolor{stringliteral}{"before config Led json"}) );
340     jsonLedBoard.printTo(Serial);
341 
342 \textcolor{preprocessor}{#endif}
343 
344     \textcolor{keywordflow}{if}(jsonLedBoard.success())
345     \{   
346         File coolBoardLedConfig = SPIFFS.open(\textcolor{stringliteral}{"/coolBoardLedConfig.json"}, \textcolor{stringliteral}{"w"}); 
347         \textcolor{keywordflow}{if}(!coolBoardLedConfig)
348         \{
349         
350 \textcolor{preprocessor}{        #if DEBUG == 1 }
351         
352             Serial.println( F(\textcolor{stringliteral}{"failed to write led config"}) );
353         
354 \textcolor{preprocessor}{        #endif}
355 
356             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
357         \}
358         
359         jsonLedBoard.printTo(coolBoardLedConfig);
360         coolBoardLedConfig.close();
361 
362 \textcolor{preprocessor}{    #if DEBUG == 1 }
363 
364         Serial.println( F(\textcolor{stringliteral}{"CoolBoardLed Config"}) );     
365         jsonLedBoard.printTo(Serial);
366     
367 \textcolor{preprocessor}{    #endif}
368 
369     
370     \}
371     \textcolor{keywordflow}{else}
372     \{
373     
374 \textcolor{preprocessor}{    #if DEBUG == 1 }
375 
376         Serial.println( F(\textcolor{stringliteral}{"failed to parse led"}) );
377     
378 \textcolor{preprocessor}{    #endif }
379 
380     \}
381         
382 
383     
384 
385     \textcolor{comment}{//jetpack configuration}
386     DynamicJsonBuffer jsonJBoard;
387         JsonObject& jsonJetpack=root[\textcolor{stringliteral}{"jetPack"}];
388 
389 \textcolor{preprocessor}{#if DEBUG == 1 }
390 
391     Serial.println( F(\textcolor{stringliteral}{"before config jetpack json"}) );
392     jsonJetpack.printTo(Serial);
393 
394 \textcolor{preprocessor}{#endif}
395 
396     \textcolor{keywordflow}{if}(jsonJetpack.success())
397     \{   
398         File jetPackConfig = SPIFFS.open(\textcolor{stringliteral}{"/jetPackConfig.json"}, \textcolor{stringliteral}{"w"});   
399         \textcolor{keywordflow}{if}(!jetPackConfig)
400         \{
401 \textcolor{preprocessor}{        #if DEBUG == 1}
402 
403             Serial.println( F(\textcolor{stringliteral}{"failed to write jetpack file"}) );
404         
405 \textcolor{preprocessor}{        #endif}
406 
407             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
408         \}
409 
410         jsonJetpack.printTo(jetPackConfig);
411         jetPackConfig.close();
412 
413 \textcolor{preprocessor}{    #if DEBUG == 1}
414 
415         Serial.println( F(\textcolor{stringliteral}{"jetpack Config"}) );  
416         jsonJetpack.printTo(Serial);
417     
418 \textcolor{preprocessor}{    #endif}
419 
420     \}
421 
422     \textcolor{keywordflow}{else}
423     \{
424     
425 \textcolor{preprocessor}{    #if DEBUG == 1 }
426 
427         Serial.println( F(\textcolor{stringliteral}{"failed to parse jetpack"}) ); 
428     
429 \textcolor{preprocessor}{    #endif}
430 
431     \}
432     
433     \textcolor{comment}{//irene configuration   }
434     DynamicJsonBuffer jsonIBoard;
435         JsonObject& jsonIrene=root[\textcolor{stringliteral}{"irene3000"}];
436     
437 \textcolor{preprocessor}{#if DEBUG == 1 }
438 
439     Serial.println( F(\textcolor{stringliteral}{"before config irene json"}) );    
440     jsonIrene.printTo(Serial);
441 
442 \textcolor{preprocessor}{#endif }
443 
444     \textcolor{keywordflow}{if}(jsonIrene.success())
445     \{
446         File irene3000Config = SPIFFS.open(\textcolor{stringliteral}{"/irene3000Config.json"}, \textcolor{stringliteral}{"w"});   
447         \textcolor{keywordflow}{if}(!irene3000Config)
448         \{
449 
450 \textcolor{preprocessor}{        #if DEBUG == 1 }
451 
452             Serial.println( F(\textcolor{stringliteral}{"failed to write irene file"}) );
453         
454 \textcolor{preprocessor}{        #endif}
455 
456             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
457         \}
458 
459         jsonIrene.printTo(irene3000Config);
460         irene3000Config.close();
461     
462 \textcolor{preprocessor}{    #if DEBUG == 1 }
463         
464         Serial.println( F(\textcolor{stringliteral}{"irene3000 Config"}) );
465         jsonIrene.printTo(Serial);
466     
467 \textcolor{preprocessor}{    #endif}
468     
469     \}
470     \textcolor{keywordflow}{else}
471     \{
472     
473 \textcolor{preprocessor}{    #if DEBUG == 1 }
474 
475         Serial.println( F(\textcolor{stringliteral}{"failed to parse irene"}) );   
476     
477 \textcolor{preprocessor}{    #endif }
478 
479 
480     \}
481     
482     \textcolor{comment}{//external sensors}
483     DynamicJsonBuffer jsonESBoard;
484         JsonObject& jsonExternalSensors=root[\textcolor{stringliteral}{"externalSensors"}];
485 
486 \textcolor{preprocessor}{#if DEBUG == 1 }
487 
488     Serial.println( F(\textcolor{stringliteral}{"before config external Sensors json"}) );
489     jsonExternalSensors.printTo(Serial);
490 
491 \textcolor{preprocessor}{#endif}
492 
493     \textcolor{keywordflow}{if}(jsonExternalSensors.success())
494     \{
495         File externalSensorsConfig = SPIFFS.open(\textcolor{stringliteral}{"/externalSensorsConfig.json"}, \textcolor{stringliteral}{"w"});   
496         \textcolor{keywordflow}{if}(!externalSensorsConfig)
497         \{
498         
499 \textcolor{preprocessor}{        #if DEBUG == 1 }
500 
501             Serial.println( F(\textcolor{stringliteral}{"failed to open external sensors file "}) );
502         
503 \textcolor{preprocessor}{        #endif }
504 
505             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
506         \}
507 
508 \textcolor{preprocessor}{#if DEBUG == 1 }
509         
510         Serial.println( F(\textcolor{stringliteral}{"externalSensors Config"}) );
511         jsonExternalSensors.printTo(Serial);
512 
513 \textcolor{preprocessor}{#endif }
514 
515         jsonExternalSensors.printTo(externalSensorsConfig); 
516         externalSensorsConfig.close();
517 
518     \}
519 
520     \textcolor{keywordflow}{else}
521     \{   
522 
523 \textcolor{preprocessor}{    #if DEBUG == 1}
524         
525         Serial.println( F(\textcolor{stringliteral}{"failed to parse external sensors"}) );
526 
527 \textcolor{preprocessor}{    #endif}
528 
529 
530     \}
531 
532     
533     \textcolor{comment}{//mqtt config}
534     DynamicJsonBuffer jsonMQ;
535         JsonObject& jsonMQTT=root[\textcolor{stringliteral}{"mqtt"}];
536     
537 \textcolor{preprocessor}{#if DEBUG == 1 }
538 
539     Serial.println( F(\textcolor{stringliteral}{"before config mqtt json"}) );
540     jsonMQTT.printTo(Serial);
541 
542 \textcolor{preprocessor}{#endif}
543 
544     \textcolor{keywordflow}{if}(jsonMQTT.success())
545     \{
546         File mqttConfig = SPIFFS.open(\textcolor{stringliteral}{"/mqttConfig.json"}, \textcolor{stringliteral}{"w"}); 
547         \textcolor{keywordflow}{if}(!mqttConfig)
548         \{
549         
550 \textcolor{preprocessor}{        #if DEBUG == 1 }
551 
552             Serial.println( F(\textcolor{stringliteral}{"failed to open mqtt file "}) );
553         
554 \textcolor{preprocessor}{        #endif}
555         
556             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
557         \}
558 
559 \textcolor{preprocessor}{#if DEBUG == 1 }
560 
561         Serial.println( F(\textcolor{stringliteral}{"mqtt config"}) );
562         jsonMQTT.printTo(Serial);
563 
564 \textcolor{preprocessor}{#endif}
565     
566         jsonMQTT.printTo(mqttConfig);
567         mqttConfig.close();
568     \}
569     \textcolor{keywordflow}{else}
570     \{
571 
572 \textcolor{preprocessor}{    #if DEBUG == 1 }
573 
574         Serial.println( F(\textcolor{stringliteral}{"failed to parse mqtt"}) );
575     
576 \textcolor{preprocessor}{    #endif}
577 
578     
579     \}   
580         
581     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
582 
583 \}   
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a32dad79ae80182a83e2e8f52286b7c7b_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}\label{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}} 
\index{Cool\+File\+System@{Cool\+File\+System}!saved\+Data@{saved\+Data}}
\index{saved\+Data@{saved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{saved\+Data}{savedData}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::saved\+Data =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 38 of file Cool\+File\+System.\+h.



Referenced by get\+Sensor\+Saved\+Data(), is\+Data\+Saved(), and save\+Sensor\+Data().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{CoolFileSystem_8h}{Cool\+File\+System.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{CoolFileSystem_8cpp}{Cool\+File\+System.\+cpp}\end{DoxyCompactItemize}
