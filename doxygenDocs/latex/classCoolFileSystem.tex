\hypertarget{classCoolFileSystem}{}\section{Cool\+File\+System Class Reference}
\label{classCoolFileSystem}\index{Cool\+File\+System@{Cool\+File\+System}}


This class handles the file system.  




{\ttfamily \#include $<$Cool\+File\+System.\+h$>$}



Collaboration diagram for Cool\+File\+System\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=205pt]{classCoolFileSystem__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}{begin} ()
\item 
bool \hyperlink{classCoolFileSystem_a32dad79ae80182a83e2e8f52286b7c7b}{update\+Config\+Files} (String answer, int J\+S\+O\+N\+\_\+\+S\+I\+ZE)
\item 
bool \hyperlink{classCoolFileSystem_a4c560c2ddd40b74b7758e6ceb2c58957}{save\+Sensor\+Data} (const char $\ast$data, int Sensor\+\_\+\+J\+S\+O\+N\+\_\+\+S\+I\+ZE)
\item 
bool \hyperlink{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}{is\+Data\+Saved} ()
\item 
String \hyperlink{classCoolFileSystem_a5c58bca3735c0ed3efb268d70ef998ef}{get\+Sensor\+Saved\+Data} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{saved\+Data} =0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class handles the file system. 

Definition at line 22 of file Cool\+File\+System.\+h.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}\label{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}} 
\index{Cool\+File\+System@{Cool\+File\+System}!begin@{begin}}
\index{begin@{begin}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::begin (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748}{Cool\+File\+System\+::begin()}\+: This method is provided to start the S\+P\+I\+F\+FS object.

\begin{DoxyReturn}{Returns}
true if S\+P\+I\+F\+FS was initialized correctly, false otherwise 
\end{DoxyReturn}


Definition at line 33 of file Cool\+File\+System.\+cpp.



Referenced by Cool\+Board\+::begin(), and Cool\+Board\+::config().


\begin{DoxyCode}
34 \{
35 
36 \textcolor{preprocessor}{#if DEBUG == 1}
37 
38     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.begin()"}) );
39     Serial.println();   
40     Serial.print( F(\textcolor{stringliteral}{"SPIFFS success ? "}) );
41     Serial.println(SPIFFS.begin());
42     Serial.println();
43 
44 \textcolor{preprocessor}{#endif}
45 
46     \textcolor{keywordflow}{return}( SPIFFS.begin() );                                   \textcolor{comment}{//Initialize Filesystem}
47 
48 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a6ba6f666ed4c530174f8569d2c636748_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a5c58bca3735c0ed3efb268d70ef998ef}\label{classCoolFileSystem_a5c58bca3735c0ed3efb268d70ef998ef}} 
\index{Cool\+File\+System@{Cool\+File\+System}!get\+Sensor\+Saved\+Data@{get\+Sensor\+Saved\+Data}}
\index{get\+Sensor\+Saved\+Data@{get\+Sensor\+Saved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{get\+Sensor\+Saved\+Data()}{getSensorSavedData()}}
{\footnotesize\ttfamily String Cool\+File\+System\+::get\+Sensor\+Saved\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

Cool\+File\+System\+::get\+Sensor\+Data()\+: This method is provided to return the sensor data saved in the File System

\begin{DoxyReturn}{Returns}
string json of the saved sensor data file 
\end{DoxyReturn}


Definition at line 658 of file Cool\+File\+System.\+cpp.



References saved\+Data.



Referenced by Cool\+Board\+::on\+Line\+Mode().


\begin{DoxyCode}
659 \{
660 
661 \textcolor{preprocessor}{#if DEBUG == 1 }
662 
663     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.getSensorSavedData()"}) );
664     Serial.println();
665 
666 \textcolor{preprocessor}{#endif}
667 
668     \textcolor{comment}{//open sensors data file}
669     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"r"});
670     
671     \textcolor{keywordflow}{if} (!sensorsData)
672     \{
673 
674 \textcolor{preprocessor}{    #if DEBUG == 1 }
675 
676         Serial.println( F(\textcolor{stringliteral}{"Failed to read /sensorsData.json"}) );
677 
678 \textcolor{preprocessor}{    #endif}
679  
680         \textcolor{keywordflow}{return}(\textcolor{stringliteral}{"failed to open file"});
681     \}
682 
683     \textcolor{keywordflow}{else}
684     \{
685         \textcolor{keywordtype}{size\_t} size = sensorsData.size();
686 
687         \textcolor{comment}{// Allocate a buffer to store contents of the file.}
688         std::unique\_ptr < char[] > buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
689 
690         sensorsData.readBytes(buf.get(), size);
691 
692         DynamicJsonBuffer jsonBuffer;
693 
694         JsonObject & json = jsonBuffer.parseObject(buf.get());
695         
696         \textcolor{keywordflow}{if} (!json.success())
697         \{
698 
699 \textcolor{preprocessor}{        #if DEBUG == 1}
700         
701             Serial.println( F(\textcolor{stringliteral}{"failed to parse json"}) );
702         
703 \textcolor{preprocessor}{        #endif}
704         
705             \textcolor{keywordflow}{return}(\textcolor{stringliteral}{"failed to parse json"});
706         \}
707         \textcolor{keywordflow}{else}
708         \{   
709             \textcolor{comment}{//the return string}
710             String sensorDataString;
711             
712             \textcolor{comment}{//print the json to the string}
713             json.printTo(sensorDataString);
714             
715             \textcolor{comment}{//close the file}
716             sensorsData.close();
717 
718             \textcolor{comment}{//delete data in the file}
719             File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"w"});
720             \textcolor{keywordflow}{if} (!sensorsData)   
721             \{
722 \textcolor{preprocessor}{            #if DEBUG == 1}
723         
724                 Serial.println( F(\textcolor{stringliteral}{"failed to delete data in the file"}) );
725         
726 \textcolor{preprocessor}{            #endif}
727 
728                 \textcolor{keywordflow}{return}(\textcolor{stringliteral}{"failed to delete data in the file"});
729             \}
730 
731             sensorsData.close();
732             
733             \textcolor{comment}{//position the saved data flag to false}
734             this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{false}; 
735             
736 \textcolor{preprocessor}{        #if DEBUG == 1 }
737 
738             Serial.println( F(\textcolor{stringliteral}{"saved data : "}) );
739             Serial.println(sensorDataString);
740             Serial.println();
741         
742 \textcolor{preprocessor}{        #endif}
743 
744             \textcolor{comment}{//return the string}
745             \textcolor{keywordflow}{return}(sensorDataString);       
746         \}
747         
748         
749     \}
750 
751 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a5c58bca3735c0ed3efb268d70ef998ef_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}\label{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}} 
\index{Cool\+File\+System@{Cool\+File\+System}!is\+Data\+Saved@{is\+Data\+Saved}}
\index{is\+Data\+Saved@{is\+Data\+Saved}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{is\+Data\+Saved()}{isDataSaved()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::is\+Data\+Saved (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b}{Cool\+File\+System\+::is\+Data\+Saved()}\+: This method is provided to report wether there is sensor data saved in the File System.

\begin{DoxyReturn}{Returns}
true if there is data saved, false otherwise 
\end{DoxyReturn}


Definition at line 635 of file Cool\+File\+System.\+cpp.



References saved\+Data.



Referenced by Cool\+Board\+::on\+Line\+Mode().


\begin{DoxyCode}
636 \{
637 
638 \textcolor{preprocessor}{#if DEBUG == 1 }
639 
640     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.isDataSaved()"}) );
641     Serial.println();
642     Serial.print( F(\textcolor{stringliteral}{"savedData : "}) );
643     Serial.println(this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData});
644 
645 \textcolor{preprocessor}{#endif}
646 
647     \textcolor{keywordflow}{return}( this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData} );
648 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a5a7eaeea7a9fbf8aaef651d862fa3b5b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a4c560c2ddd40b74b7758e6ceb2c58957}\label{classCoolFileSystem_a4c560c2ddd40b74b7758e6ceb2c58957}} 
\index{Cool\+File\+System@{Cool\+File\+System}!save\+Sensor\+Data@{save\+Sensor\+Data}}
\index{save\+Sensor\+Data@{save\+Sensor\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{save\+Sensor\+Data()}{saveSensorData()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::save\+Sensor\+Data (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data,  }\item[{int}]{Sensor\+\_\+\+J\+S\+O\+N\+\_\+\+S\+I\+ZE }\end{DoxyParamCaption})}

Cool\+File\+System\+::save\+Sensor\+Data( data, data size )\+: This method is provided to save the data on the local memory when there is no internet available

sets the saved data flag to T\+R\+UE when successful

\begin{DoxyReturn}{Returns}
true if the data was saved, false otherwise 
\end{DoxyReturn}


Definition at line 60 of file Cool\+File\+System.\+cpp.



References saved\+Data.



Referenced by Cool\+Board\+::off\+Line\+Mode().


\begin{DoxyCode}
61 \{
62 
63 \textcolor{preprocessor}{#if DEBUG == 1}
64 
65     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.saveSensorData()"}) );
66     Serial.println();
67 
68 \textcolor{preprocessor}{#endif}
69     
70     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"a+"});
71     \textcolor{keywordflow}{if}(!sensorsData)
72     \{
73     
74 \textcolor{preprocessor}{    #if DEBUG == 1}
75     
76         Serial.println( F(\textcolor{stringliteral}{"failed to append to /sensorsData.json"}) );
77         Serial.println();
78     
79 \textcolor{preprocessor}{    #endif}
80 
81         this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{false};
82         \textcolor{keywordflow}{return} (\textcolor{keyword}{false}); 
83     \}   
84 
85     DynamicJsonBuffer jsonBuffer(Sensor\_JSON\_SIZE);
86     JsonObject& root = jsonBuffer.parseObject(data);
87 
88     \textcolor{keywordflow}{if}( root.success() )
89     \{
90         root.printTo(sensorsData);
91         sensorsData.close();
92     
93 \textcolor{preprocessor}{    #if DEBUG == 1}
94     
95         Serial.println( F(\textcolor{stringliteral}{"saved data is : "}) );
96         root.printTo(Serial);
97         Serial.println();
98     
99 \textcolor{preprocessor}{    #endif}
100 
101         this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{true};
102         \textcolor{keywordflow}{return} (\textcolor{keyword}{true});      
103     \}
104     \textcolor{keywordflow}{else}
105     \{
106     
107 \textcolor{preprocessor}{    #if DEBUG == 1}
108 
109         Serial.println( F(\textcolor{stringliteral}{"failed to parse json"}) );
110     
111 \textcolor{preprocessor}{    #endif}
112 
113         this->\hyperlink{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}{savedData}=\textcolor{keyword}{false};
114         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
115     \}
116     
117 
118 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a4c560c2ddd40b74b7758e6ceb2c58957_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classCoolFileSystem_a32dad79ae80182a83e2e8f52286b7c7b}\label{classCoolFileSystem_a32dad79ae80182a83e2e8f52286b7c7b}} 
\index{Cool\+File\+System@{Cool\+File\+System}!update\+Config\+Files@{update\+Config\+Files}}
\index{update\+Config\+Files@{update\+Config\+Files}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{update\+Config\+Files()}{updateConfigFiles()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::update\+Config\+Files (\begin{DoxyParamCaption}\item[{String}]{answer,  }\item[{int}]{J\+S\+O\+N\+\_\+\+S\+I\+ZE }\end{DoxyParamCaption})}

Cool\+File\+Syste\+::update\+Config\+Files( mqtt answer, answer size)\+: This method is provided to update the configuration files when the appropriate mqtt answer is received\+: -\/update \+: 1

\begin{DoxyReturn}{Returns}
true if the files are updated correctly, false otherwise 
\end{DoxyReturn}


Definition at line 128 of file Cool\+File\+System.\+cpp.



References temp.



Referenced by Cool\+Board\+::update().


\begin{DoxyCode}
129 \{
130 
131 \textcolor{preprocessor}{#if DEBUG == 1}
132 
133     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.updateConfigFiles"}) );
134     Serial.println();
135     
136     Serial.println( F(\textcolor{stringliteral}{"input answer : "}) );
137     Serial.println(answer);
138 \textcolor{preprocessor}{#endif}
139     \textcolor{comment}{//test}
140     \textcolor{keywordtype}{char} buffer[ answer.length()+2 ];
141     answer.toCharArray( buffer, answer.length()+2  );
142     \textcolor{comment}{//total json object }
143     DynamicJsonBuffer jsonBuffer(JSON\_SIZE);
144     JsonObject& root = jsonBuffer.parseObject( buffer );
145 
146 \textcolor{preprocessor}{#if DEBUG == 1}
147     Serial.println( F(\textcolor{stringliteral}{"json object : "}) );  
148     root.printTo(Serial);
149 
150 \textcolor{preprocessor}{#endif}
151 
152     \textcolor{keywordflow}{if}(! ( root.success() ))
153     \{
154     
155 \textcolor{preprocessor}{    #if DEBUG == 1}
156 
157         Serial.println( F(\textcolor{stringliteral}{"failed to parse root "}) );
158         Serial.println();
159     
160 \textcolor{preprocessor}{    #endif}
161 
162         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
163     \}
164     \textcolor{keywordflow}{else}
165     \{
166 \textcolor{preprocessor}{    #if DEBUG == 1}
167         
168         Serial.println( F(\textcolor{stringliteral}{"success to parse root "}) );
169         Serial.println();
170         
171 \textcolor{preprocessor}{    #endif  }
172     \}
173     
174 \textcolor{preprocessor}{#if DEBUG == 1}
175 
176     Serial.println( F(\textcolor{stringliteral}{"input message is : "}) );
177     root.printTo(Serial);
178     Serial.println();
179 
180 \textcolor{preprocessor}{#endif}
181     \textcolor{comment}{//temp string}
182     String \hyperlink{Irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp};
183 
184     \textcolor{comment}{//CoolBoard Configuration File}
185 
186         JsonObject& jsonCoolBoard=root[\textcolor{stringliteral}{"CoolBoard"}];
187 
188 \textcolor{preprocessor}{#if DEBUG == 1}
189 
190     Serial.println( F(\textcolor{stringliteral}{"before config CoolBoard json"}) );
191     jsonCoolBoard.printTo(Serial);
192 
193 \textcolor{preprocessor}{#endif}
194 
195     \textcolor{keywordflow}{if}(jsonCoolBoard.success())
196     \{
197         File coolBoardConfig = SPIFFS.open(\textcolor{stringliteral}{"/coolBoardConfig.json"}, \textcolor{stringliteral}{"w"});   
198         \textcolor{keywordflow}{if}(!coolBoardConfig)
199         \{   
200 \textcolor{preprocessor}{        #if DEBUG == 1}
201             
202             Serial.println( F(\textcolor{stringliteral}{"failed to write to coolBoardConfig.json"}) );
203 
204 \textcolor{preprocessor}{        #endif}
205             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
206         \}
207         
208         jsonCoolBoard.printTo(coolBoardConfig);
209         
210         coolBoardConfig.close();
211 
212 
213 \textcolor{preprocessor}{    #if DEBUG == 1}
214 
215         Serial.println( F(\textcolor{stringliteral}{"CoolBoard Config"}) );
216         jsonCoolBoard.printTo(Serial);
217     
218 \textcolor{preprocessor}{    #endif}
219         
220     \}
221     \textcolor{keywordflow}{else}
222     \{
223     
224 \textcolor{preprocessor}{    #if DEBUG == 1 }
225 
226         Serial.println( F(\textcolor{stringliteral}{"failed to parse CoolBoard "}) );
227     
228 \textcolor{preprocessor}{    #endif}
229 
230     \}       
231 
232     
233     \textcolor{comment}{//Cool Board Sensors Configuration File}
234         JsonObject& jsonSensorsBoard=root[\textcolor{stringliteral}{"CoolSensorsBoard"}];
235 
236 \textcolor{preprocessor}{#if DEBUG == 1 }
237 
238     Serial.println( F(\textcolor{stringliteral}{"before config CoolSensorsBoard json"}) );
239     jsonSensorsBoard.printTo(Serial);
240 
241 \textcolor{preprocessor}{#endif }
242     
243     \textcolor{keywordflow}{if}(jsonSensorsBoard.success())
244     \{   
245         File coolBoardSensorsConfig = SPIFFS.open(\textcolor{stringliteral}{"/coolBoardSensorsConfig.json"}, \textcolor{stringliteral}{"w"}); 
246         \textcolor{keywordflow}{if}(!coolBoardSensorsConfig)
247         \{
248 \textcolor{preprocessor}{        #if DEBUG == 1 }
249         
250             Serial.println( F(\textcolor{stringliteral}{"failed to write coolBoardSensors.json"}) );
251 
252 \textcolor{preprocessor}{        #endif}
253 
254             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
255         \}
256         
257         jsonSensorsBoard.printTo(coolBoardSensorsConfig);
258         coolBoardSensorsConfig.close();
259 
260 \textcolor{preprocessor}{    #if DEBUG == 1}
261 
262         Serial.println(\textcolor{stringliteral}{"CoolBoardSensors Config"});
263         jsonSensorsBoard.printTo(Serial);
264 
265 \textcolor{preprocessor}{    #endif}
266 
267     \}
268     \textcolor{keywordflow}{else}
269     \{
270 
271 \textcolor{preprocessor}{    #if DEBUG == 1}
272 
273         Serial.println( F(\textcolor{stringliteral}{"failed to parse CoolSensorsBoard sensors "}) );   
274     
275 \textcolor{preprocessor}{    #endif}
276 
277     \}
278     
279     
280     
281     \textcolor{comment}{//rtc configuration file}
282         JsonObject& jsonRTC=root[\textcolor{stringliteral}{"rtc"}];
283 
284 \textcolor{preprocessor}{#if DEBUG == 1 }
285     
286     Serial.println( F(\textcolor{stringliteral}{"before config rtc json"}) );
287     jsonRTC.printTo(Serial);
288 
289 \textcolor{preprocessor}{#endif}
290     \textcolor{keywordflow}{if}(jsonRTC.success() )
291     \{
292         File rtcConfig = SPIFFS.open(\textcolor{stringliteral}{"/rtcConfig.json"}, \textcolor{stringliteral}{"w"});   
293         \textcolor{keywordflow}{if}(!rtcConfig)
294         \{
295         
296 \textcolor{preprocessor}{        #if DEBUG == 1 }
297 
298             Serial.println( F(\textcolor{stringliteral}{"failed to write rtcConfig.json"}) );
299 
300 \textcolor{preprocessor}{        #endif}
301 
302             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
303         \}
304 
305         jsonRTC.printTo(rtcConfig);
306         rtcConfig.close();
307 
308 \textcolor{preprocessor}{    #if DEBUG == 1 }
309 
310         Serial.println( F(\textcolor{stringliteral}{"RTC Config"}) );
311         jsonRTC.printTo(Serial);
312     
313 \textcolor{preprocessor}{    #endif}
314 
315     
316     \}
317     \textcolor{keywordflow}{else}
318     \{
319     
320 \textcolor{preprocessor}{    #if DEBUG == 1 }
321 
322         Serial.println( F(\textcolor{stringliteral}{"failed to parse rtc "}) );
323     
324 \textcolor{preprocessor}{    #endif}
325 
326     \}
327 
328     
329     
330     
331     
332         \textcolor{comment}{//cool board led configuration}
333         JsonObject& jsonLedBoard=root[\textcolor{stringliteral}{"led"}];
334     
335 \textcolor{preprocessor}{#if DEBUG == 1 }
336 
337     Serial.println( F(\textcolor{stringliteral}{"before config Led json"}) );
338     jsonLedBoard.printTo(Serial);
339 
340 \textcolor{preprocessor}{#endif}
341 
342     \textcolor{keywordflow}{if}(jsonLedBoard.success())
343     \{   
344         File coolBoardLedConfig = SPIFFS.open(\textcolor{stringliteral}{"/coolBoardLedConfig.json"}, \textcolor{stringliteral}{"w"}); 
345         \textcolor{keywordflow}{if}(!coolBoardLedConfig)
346         \{
347         
348 \textcolor{preprocessor}{        #if DEBUG == 1 }
349         
350             Serial.println( F(\textcolor{stringliteral}{"failed to write led config"}) );
351         
352 \textcolor{preprocessor}{        #endif}
353 
354             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
355         \}
356         
357         jsonLedBoard.printTo(coolBoardLedConfig);
358         coolBoardLedConfig.close();
359 
360 \textcolor{preprocessor}{    #if DEBUG == 1 }
361 
362         Serial.println( F(\textcolor{stringliteral}{"CoolBoardLed Config"}) );     
363         jsonLedBoard.printTo(Serial);
364     
365 \textcolor{preprocessor}{    #endif}
366 
367     
368     \}
369     \textcolor{keywordflow}{else}
370     \{
371     
372 \textcolor{preprocessor}{    #if DEBUG == 1 }
373 
374         Serial.println( F(\textcolor{stringliteral}{"failed to parse led"}) );
375     
376 \textcolor{preprocessor}{    #endif }
377 
378     \}
379         
380 
381     
382 
383     \textcolor{comment}{//jetpack configuration}
384         JsonObject& jsonJetpack=root[\textcolor{stringliteral}{"jetPack"}];
385 
386 \textcolor{preprocessor}{#if DEBUG == 1 }
387 
388     Serial.println( F(\textcolor{stringliteral}{"before config jetpack json"}) );
389     jsonJetpack.printTo(Serial);
390 
391 \textcolor{preprocessor}{#endif}
392 
393     \textcolor{keywordflow}{if}(jsonJetpack.success())
394     \{   
395         File jetPackConfig = SPIFFS.open(\textcolor{stringliteral}{"/jetPackConfig.json"}, \textcolor{stringliteral}{"w"});   
396         \textcolor{keywordflow}{if}(!jetPackConfig)
397         \{
398 \textcolor{preprocessor}{        #if DEBUG == 1}
399 
400             Serial.println( F(\textcolor{stringliteral}{"failed to write jetpack file"}) );
401         
402 \textcolor{preprocessor}{        #endif}
403 
404             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
405         \}
406 
407         jsonJetpack.printTo(jetPackConfig);
408         jetPackConfig.close();
409 
410 \textcolor{preprocessor}{    #if DEBUG == 1}
411 
412         Serial.println( F(\textcolor{stringliteral}{"jetpack Config"}) );  
413         jsonJetpack.printTo(Serial);
414     
415 \textcolor{preprocessor}{    #endif}
416 
417     \}
418 
419     \textcolor{keywordflow}{else}
420     \{
421     
422 \textcolor{preprocessor}{    #if DEBUG == 1 }
423 
424         Serial.println( F(\textcolor{stringliteral}{"failed to parse jetpack"}) ); 
425     
426 \textcolor{preprocessor}{    #endif}
427 
428     \}
429     
430     \textcolor{comment}{//irene configuration   }
431         JsonObject& jsonIrene=root[\textcolor{stringliteral}{"irene3000"}];
432     
433 \textcolor{preprocessor}{#if DEBUG == 1 }
434 
435     Serial.println( F(\textcolor{stringliteral}{"before config irene json"}) );    
436     jsonIrene.printTo(Serial);
437 
438 \textcolor{preprocessor}{#endif }
439 
440     \textcolor{keywordflow}{if}(jsonIrene.success())
441     \{
442         File irene3000Config = SPIFFS.open(\textcolor{stringliteral}{"/irene3000Config.json"}, \textcolor{stringliteral}{"w"});   
443         \textcolor{keywordflow}{if}(!irene3000Config)
444         \{
445 
446 \textcolor{preprocessor}{        #if DEBUG == 1 }
447 
448             Serial.println( F(\textcolor{stringliteral}{"failed to write irene file"}) );
449         
450 \textcolor{preprocessor}{        #endif}
451 
452             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
453         \}
454 
455         jsonIrene.printTo(irene3000Config);
456         irene3000Config.close();
457     
458 \textcolor{preprocessor}{    #if DEBUG == 1 }
459         
460         Serial.println( F(\textcolor{stringliteral}{"irene3000 Config"}) );
461         jsonIrene.printTo(Serial);
462     
463 \textcolor{preprocessor}{    #endif}
464     
465     \}
466     \textcolor{keywordflow}{else}
467     \{
468     
469 \textcolor{preprocessor}{    #if DEBUG == 1 }
470 
471         Serial.println( F(\textcolor{stringliteral}{"failed to parse irene"}) );   
472     
473 \textcolor{preprocessor}{    #endif }
474 
475 
476     \}
477     
478     \textcolor{comment}{//external sensors}
479         JsonObject& jsonExternalSensors=root[\textcolor{stringliteral}{"externalSensors"}];
480 
481 \textcolor{preprocessor}{#if DEBUG == 1 }
482 
483     Serial.println( F(\textcolor{stringliteral}{"before config external Sensors json"}) );
484     jsonExternalSensors.printTo(Serial);
485 
486 \textcolor{preprocessor}{#endif}
487 
488     \textcolor{keywordflow}{if}(jsonExternalSensors.success())
489     \{
490         File externalSensorsConfig = SPIFFS.open(\textcolor{stringliteral}{"/externalSensorsConfig.json"}, \textcolor{stringliteral}{"w"});   
491         \textcolor{keywordflow}{if}(!externalSensorsConfig)
492         \{
493         
494 \textcolor{preprocessor}{        #if DEBUG == 1 }
495 
496             Serial.println( F(\textcolor{stringliteral}{"failed to open external sensors file "}) );
497         
498 \textcolor{preprocessor}{        #endif }
499 
500             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
501         \}
502 
503 \textcolor{preprocessor}{#if DEBUG == 1 }
504         
505         Serial.println( F(\textcolor{stringliteral}{"externalSensors Config"}) );
506         jsonExternalSensors.printTo(Serial);
507 
508 \textcolor{preprocessor}{#endif }
509 
510         jsonExternalSensors.printTo(externalSensorsConfig); 
511         externalSensorsConfig.close();
512 
513     \}
514 
515     \textcolor{keywordflow}{else}
516     \{   
517 
518 \textcolor{preprocessor}{    #if DEBUG == 1}
519         
520         Serial.println( F(\textcolor{stringliteral}{"failed to parse external sensors"}) );
521 
522 \textcolor{preprocessor}{    #endif}
523 
524 
525     \}
526 
527     
528     \textcolor{comment}{//mqtt config}
529         JsonObject& jsonMQTT=root[\textcolor{stringliteral}{"mqtt"}];
530     
531 \textcolor{preprocessor}{#if DEBUG == 1 }
532 
533     Serial.println( F(\textcolor{stringliteral}{"before config mqtt json"}) );
534     jsonMQTT.printTo(Serial);
535 
536 \textcolor{preprocessor}{#endif}
537 
538     \textcolor{keywordflow}{if}(jsonMQTT.success())
539     \{
540         File mqttConfig = SPIFFS.open(\textcolor{stringliteral}{"/mqttConfig.json"}, \textcolor{stringliteral}{"w"}); 
541         \textcolor{keywordflow}{if}(!mqttConfig)
542         \{
543         
544 \textcolor{preprocessor}{        #if DEBUG == 1 }
545 
546             Serial.println( F(\textcolor{stringliteral}{"failed to open mqtt file "}) );
547         
548 \textcolor{preprocessor}{        #endif}
549         
550             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
551         \}
552 
553 \textcolor{preprocessor}{#if DEBUG == 1 }
554 
555         Serial.println( F(\textcolor{stringliteral}{"mqtt config"}) );
556         jsonMQTT.printTo(Serial);
557 
558 \textcolor{preprocessor}{#endif}
559     
560         jsonMQTT.printTo(mqttConfig);
561         mqttConfig.close();
562     \}
563     \textcolor{keywordflow}{else}
564     \{
565 
566 \textcolor{preprocessor}{    #if DEBUG == 1 }
567 
568         Serial.println( F(\textcolor{stringliteral}{"failed to parse mqtt"}) );
569     
570 \textcolor{preprocessor}{    #endif}
571 
572     
573     \}   
574 
575     \textcolor{comment}{//wifi config}
576         JsonObject& jsonWifi=root[\textcolor{stringliteral}{"wifi"}];
577     
578 \textcolor{preprocessor}{#if DEBUG == 1 }
579 
580     Serial.println( F(\textcolor{stringliteral}{"before config wifi json"}) );
581     jsonWifi.printTo(Serial);
582 
583 \textcolor{preprocessor}{#endif}
584 
585     \textcolor{keywordflow}{if}(jsonWifi.success())
586     \{
587         File wifiConfig = SPIFFS.open(\textcolor{stringliteral}{"/wifiConfig.json"}, \textcolor{stringliteral}{"w"}); 
588         \textcolor{keywordflow}{if}(!wifiConfig)
589         \{
590         
591 \textcolor{preprocessor}{        #if DEBUG == 1 }
592 
593             Serial.println( F(\textcolor{stringliteral}{"failed to open wifi file "}) );
594         
595 \textcolor{preprocessor}{        #endif}
596         
597             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
598         \}
599 
600 \textcolor{preprocessor}{#if DEBUG == 1 }
601 
602         Serial.println( F(\textcolor{stringliteral}{"wifi config"}) );
603         jsonWifi.printTo(Serial);
604 
605 \textcolor{preprocessor}{#endif}
606     
607         jsonMQTT.printTo(wifiConfig);
608         wifiConfig.close();
609     \}
610     \textcolor{keywordflow}{else}
611     \{
612 
613 \textcolor{preprocessor}{    #if DEBUG == 1 }
614 
615         Serial.println( F(\textcolor{stringliteral}{"failed to parse wifi"}) );
616     
617 \textcolor{preprocessor}{    #endif}
618 
619     
620     \}   
621         
622     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
623 
624 \}   
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classCoolFileSystem_a32dad79ae80182a83e2e8f52286b7c7b_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}\label{classCoolFileSystem_ad398e0c5c41a0c88acdf5d672aa71351}} 
\index{Cool\+File\+System@{Cool\+File\+System}!saved\+Data@{saved\+Data}}
\index{saved\+Data@{saved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{saved\+Data}{savedData}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::saved\+Data =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 38 of file Cool\+File\+System.\+h.



Referenced by get\+Sensor\+Saved\+Data(), is\+Data\+Saved(), and save\+Sensor\+Data().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{CoolFileSystem_8h}{Cool\+File\+System.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/\hyperlink{CoolFileSystem_8cpp}{Cool\+File\+System.\+cpp}\end{DoxyCompactItemize}
