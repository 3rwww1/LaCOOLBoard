\hypertarget{class_external_sensors}{}\section{External\+Sensors Class Reference}
\label{class_external_sensors}\index{External\+Sensors@{External\+Sensors}}


This class handles the external sensors run time defintion , configuartion and actions.  




{\ttfamily \#include $<$External\+Sensors.\+h$>$}



Collaboration diagram for External\+Sensors\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=204pt]{d8/df9/class_external_sensors__coll__graph}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_external_sensors_1_1sensor}{sensor}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_external_sensors_a58ede0d786a86417254708870f04a21e}{begin} ()
\item 
String \hyperlink{class_external_sensors_a53177b81eca3be89508b5511ddcd00fc}{read} ()
\item 
bool \hyperlink{class_external_sensors_a862a4bd11346b37270d0244c2adabe5a}{config} ()
\item 
bool \hyperlink{class_external_sensors_ac829858f587e15a3fcb00567248f0edd}{config} (String reference\mbox{[}$\,$\mbox{]}, String type\mbox{[}$\,$\mbox{]}, uint8\+\_\+t address\mbox{[}$\,$\mbox{]}, int \hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensors\+Number})
\item 
void \hyperlink{class_external_sensors_a78c2bf55084435dd51d3c559b2d3c6f3}{print\+Conf} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_external_sensors_1_1sensor}{External\+Sensors\+::sensor} \hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors} \mbox{[}50\mbox{]}
\item 
int \hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensors\+Number} =0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class handles the external sensors run time defintion , configuartion and actions. 

Definition at line 24 of file External\+Sensors.\+h.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_external_sensors_a58ede0d786a86417254708870f04a21e}\label{class_external_sensors_a58ede0d786a86417254708870f04a21e}} 
\index{External\+Sensors@{External\+Sensors}!begin@{begin}}
\index{begin@{begin}!External\+Sensors@{External\+Sensors}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily void External\+Sensors\+::begin (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\hyperlink{class_external_sensors_a58ede0d786a86417254708870f04a21e}{External\+Sensors\+::begin()}\+: This method is provided to initialise the external sensors. 

Definition at line 35 of file External\+Sensors.\+cpp.


\begin{DoxyCode}
36 \{
37 
38 \textcolor{preprocessor}{#if DEBUG == 1}
39 
40     Serial.println( F(\textcolor{stringliteral}{"Enter ExternalSensors.begin()"}) );
41     Serial.println();
42 
43 \textcolor{preprocessor}{#endif }
44 
45     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i< this->\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber} ; i++)
46     \{
47         \textcolor{keywordflow}{if}( (\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].reference) == \textcolor{stringliteral}{"NDIR\_I2C"} )
48         \{   
49             std::unique\_ptr< ExternalSensor<NDIR\_I2C> > sensorCO2(\textcolor{keyword}{new} 
      \hyperlink{class_external_sensor_3_01_n_d_i_r___i2_c_01_4}{ExternalSensor<NDIR\_I2C>}( this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].address) );
50 
51 
52             \hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a9bca150fd468b8d0e090e6d72c5c2b48}{exSensor}= sensorCO2.release();
53             \hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a9bca150fd468b8d0e090e6d72c5c2b48}{exSensor}->\hyperlink{class_base_external_sensor_a87d132803d4f4fdd4e66332809f0c9a0}{begin}();
54             \hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a9bca150fd468b8d0e090e6d72c5c2b48}{exSensor}->\hyperlink{class_base_external_sensor_a1564f16deacf57b51b9948ac29db4291}{read}();
55 
56         \}
57         \textcolor{keywordflow}{if}( (\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].reference) == \textcolor{stringliteral}{"DallasTemperature"})
58         \{
59 
60             std::unique\_ptr< ExternalSensor<DallasTemperature> > dallasTemp(\textcolor{keyword}{new} 
      \hyperlink{class_external_sensor_3_01_dallas_temperature_01_4}{ExternalSensor<DallasTemperature>} (&\hyperlink{_external_sensors_8cpp_af39fa3dad1ba161b384c0b26b8145e65}{oneWire}));
61              
62             \hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a9bca150fd468b8d0e090e6d72c5c2b48}{exSensor}=dallasTemp.release();
63             \hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a9bca150fd468b8d0e090e6d72c5c2b48}{exSensor}->\hyperlink{class_base_external_sensor_a87d132803d4f4fdd4e66332809f0c9a0}{begin}();
64             \hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a9bca150fd468b8d0e090e6d72c5c2b48}{exSensor}->\hyperlink{class_base_external_sensor_a1564f16deacf57b51b9948ac29db4291}{read}();
65         \}
66         
67         
68     \}
69 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=340pt]{d1/d2f/class_external_sensors_a58ede0d786a86417254708870f04a21e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=326pt]{d1/d2f/class_external_sensors_a58ede0d786a86417254708870f04a21e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_external_sensors_a862a4bd11346b37270d0244c2adabe5a}\label{class_external_sensors_a862a4bd11346b37270d0244c2adabe5a}} 
\index{External\+Sensors@{External\+Sensors}!config@{config}}
\index{config@{config}!External\+Sensors@{External\+Sensors}}
\subsubsection{\texorpdfstring{config()}{config()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool External\+Sensors\+::config (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{class_external_sensors_a862a4bd11346b37270d0244c2adabe5a}{External\+Sensors\+::config()}\+: This method is provided to configure the external\+Sensors through a configuration file

\begin{DoxyReturn}{Returns}
true if successful,false otherwise 
\end{DoxyReturn}


Definition at line 152 of file External\+Sensors.\+cpp.


\begin{DoxyCode}
153 \{
154     \textcolor{comment}{//read config file}
155     \textcolor{comment}{//update data}
156     File externalSensorsConfig = SPIFFS.open(\textcolor{stringliteral}{"/externalSensorsConfig.json"}, \textcolor{stringliteral}{"r"});
157 
158     \textcolor{keywordflow}{if} (!externalSensorsConfig) 
159     \{
160     
161 \textcolor{preprocessor}{    #if DEBUG == 1}
162         
163         Serial.println( F(\textcolor{stringliteral}{"failed to read /externalSensorsConfig.json"}) );
164         Serial.println();
165     
166 \textcolor{preprocessor}{    #endif}
167         
168         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
169     \}
170     \textcolor{keywordflow}{else}
171     \{
172         \textcolor{keywordtype}{size\_t} size = externalSensorsConfig.size();
173         \textcolor{comment}{// Allocate a buffer to store contents of the file.}
174         std::unique\_ptr<char[]> buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
175 
176         externalSensorsConfig.readBytes(buf.get(), size);
177         DynamicJsonBuffer jsonBuffer;
178         JsonObject& json = jsonBuffer.parseObject(buf.get());
179 
180         \textcolor{keywordflow}{if} (!json.success()) 
181         \{
182         
183 \textcolor{preprocessor}{        #if DEBUG == 1 }
184 
185             Serial.println( F(\textcolor{stringliteral}{"failed to parse json"}) );
186             Serial.println();
187         
188 \textcolor{preprocessor}{        #endif}
189 
190             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
191         \} 
192         \textcolor{keywordflow}{else}
193         \{
194         
195 \textcolor{preprocessor}{        #if DEBUG == 1 }
196     
197             Serial.println( F(\textcolor{stringliteral}{"configuration json is : "}) );
198             json.printTo(Serial);
199             Serial.println();
200 
201             Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
202             Serial.println(jsonBuffer.size());
203             Serial.println();
204 
205         
206 \textcolor{preprocessor}{        #endif          }
207             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"sensorsNumber"}]!=NULL)
208             \{
209                 this->\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber} = json[\textcolor{stringliteral}{"sensorsNumber"}];
210                 
211                 
212 
213                 \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber};i++)
214                 \{   String name=\textcolor{stringliteral}{"sensor"}+String(i);
215                     
216                     \textcolor{keywordflow}{if}(json[name].success())
217                     \{  
218                         JsonObject& sensorJson=json[name];
219                         
220                         \textcolor{keywordflow}{if}(sensorJson[\textcolor{stringliteral}{"reference"}].success() )
221                         \{  
222                             this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_afed5bdfd49732202a368b600cb8396fe}{reference} =sensorJson[\textcolor{stringliteral}{"reference"}].as<String>(
      );
223                         \}
224                         \textcolor{keywordflow}{else}
225                         \{
226                             this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_afed5bdfd49732202a368b600cb8396fe}{reference}=this->
      \hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_afed5bdfd49732202a368b600cb8396fe}{reference};                           
227                                     
228                         \}
229                         sensorJson[\textcolor{stringliteral}{"reference"}]=this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].
      \hyperlink{struct_external_sensors_1_1sensor_afed5bdfd49732202a368b600cb8396fe}{reference};
230 
231                     
232                         \textcolor{keywordflow}{if}(sensorJson[\textcolor{stringliteral}{"type"}].success() )
233                         \{                   
234                             this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a6acfdb02c742c2110d7bd2b5d9fce9e7}{type}=sensorJson[\textcolor{stringliteral}{"type"}].as<String>();
235                         \}
236                         \textcolor{keywordflow}{else}
237                         \{
238                             this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a6acfdb02c742c2110d7bd2b5d9fce9e7}{type}=this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].
      \hyperlink{struct_external_sensors_1_1sensor_a6acfdb02c742c2110d7bd2b5d9fce9e7}{type};
239 
240                         \}
241                         sensorJson[\textcolor{stringliteral}{"type"}]=this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a6acfdb02c742c2110d7bd2b5d9fce9e7}{type};
242                     
243                         \textcolor{keywordflow}{if}(sensorJson[\textcolor{stringliteral}{"address"}].success() )
244                         \{                   
245                             this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a8d70ca58524521ed054fc6b81eb58d34}{address}=sensorJson[\textcolor{stringliteral}{"address"}];
246                         \}
247                         \textcolor{keywordflow}{else}
248                         \{   
249                             this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a8d70ca58524521ed054fc6b81eb58d34}{address}=this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].
      \hyperlink{struct_external_sensors_1_1sensor_a8d70ca58524521ed054fc6b81eb58d34}{address};
250 
251                         \}
252                         sensorJson[\textcolor{stringliteral}{"address"}]=this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a8d70ca58524521ed054fc6b81eb58d34}{address};
253                     
254     
255                     \}
256                     \textcolor{keywordflow}{else}
257                     \{
258                         this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i]=this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i];                    
259                     \}
260                                             
261                     json[name][\textcolor{stringliteral}{"reference"}]=this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_afed5bdfd49732202a368b600cb8396fe}{reference};
262                     json[name][\textcolor{stringliteral}{"type"}]=this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a6acfdb02c742c2110d7bd2b5d9fce9e7}{type};
263                     json[name][\textcolor{stringliteral}{"address"}]=this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a8d70ca58524521ed054fc6b81eb58d34}{address};
264                 \}
265  
266             \}
267             \textcolor{keywordflow}{else}
268             \{
269                 this->sensorsNumber=this->\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber};
270             \}
271             json[\textcolor{stringliteral}{"sensorsNumber"}]=this->\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber};
272 
273             externalSensorsConfig.close();
274             externalSensorsConfig = SPIFFS.open(\textcolor{stringliteral}{"/externalSensorsConfig.json"}, \textcolor{stringliteral}{"w"});
275 
276             \textcolor{keywordflow}{if}(!externalSensorsConfig)
277             \{
278             
279 \textcolor{preprocessor}{            #if DEBUG == 1 }
280 
281                 Serial.println( F(\textcolor{stringliteral}{"failed to write to /externalSensorsConfig.json"}) );
282                 Serial.println();
283             
284 \textcolor{preprocessor}{            #endif}
285 
286                 \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
287             \}
288             
289             json.printTo(externalSensorsConfig);
290             externalSensorsConfig.close();
291             
292 \textcolor{preprocessor}{        #if DEBUG == 1 }
293 
294             Serial.println( F(\textcolor{stringliteral}{"saved configuration is : "}) );
295             json.printTo(Serial);
296             Serial.println();
297         
298 \textcolor{preprocessor}{        #endif}
299 
300             \textcolor{keywordflow}{return}(\textcolor{keyword}{true}); 
301         \}
302     \}   
303     
304 
305 
306 
307 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=329pt]{d1/d2f/class_external_sensors_a862a4bd11346b37270d0244c2adabe5a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_external_sensors_ac829858f587e15a3fcb00567248f0edd}\label{class_external_sensors_ac829858f587e15a3fcb00567248f0edd}} 
\index{External\+Sensors@{External\+Sensors}!config@{config}}
\index{config@{config}!External\+Sensors@{External\+Sensors}}
\subsubsection{\texorpdfstring{config()}{config()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool External\+Sensors\+::config (\begin{DoxyParamCaption}\item[{String}]{reference\mbox{[}$\,$\mbox{]},  }\item[{String}]{type\mbox{[}$\,$\mbox{]},  }\item[{uint8\+\_\+t}]{address\mbox{[}$\,$\mbox{]},  }\item[{int}]{sensors\+Number }\end{DoxyParamCaption})}

\hyperlink{class_external_sensors_ac829858f587e15a3fcb00567248f0edd}{External\+Sensors\+::config(\+String reference\mbox{[}$\,$\mbox{]},\+String type\mbox{[}$\,$\mbox{]},uint8\+\_\+t address\mbox{[}$\,$\mbox{]},int sensors\+Number)}\+: This method is provided to configure the external\+Sensors without a configuration file

\begin{DoxyReturn}{Returns}
true if successful,false otherwise 
\end{DoxyReturn}


Definition at line 317 of file External\+Sensors.\+cpp.


\begin{DoxyCode}
318 \{
319 
320 \textcolor{preprocessor}{#if DEBUG == 1}
321 
322     Serial.println( F(\textcolor{stringliteral}{"Entering ExternalSensors.conf(reference[], type[], address[], sensorsNumber)"}) );
323     Serial.println();
324 
325 \textcolor{preprocessor}{#endif  }
326     \textcolor{keywordflow}{if}(\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber}>50)
327     \{
328     
329 \textcolor{preprocessor}{    #if DEBUG == 1}
330     
331         Serial.println(F(\textcolor{stringliteral}{"you can't add more than 50 sensors"}));    
332     
333 \textcolor{preprocessor}{    #endif  }
334     
335         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
336     \}
337 
338     this->\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber}=\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber};
339     
340     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber};i++)
341     \{
342     
343         this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_afed5bdfd49732202a368b600cb8396fe}{reference}=reference[i];
344         
345         this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a6acfdb02c742c2110d7bd2b5d9fce9e7}{type}=type[i];
346 
347         this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a8d70ca58524521ed054fc6b81eb58d34}{address}=address[i];
348     
349     \}
350     
351     \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
352 
353 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_external_sensors_a78c2bf55084435dd51d3c559b2d3c6f3}\label{class_external_sensors_a78c2bf55084435dd51d3c559b2d3c6f3}} 
\index{External\+Sensors@{External\+Sensors}!print\+Conf@{print\+Conf}}
\index{print\+Conf@{print\+Conf}!External\+Sensors@{External\+Sensors}}
\subsubsection{\texorpdfstring{print\+Conf()}{printConf()}}
{\footnotesize\ttfamily void External\+Sensors\+::print\+Conf (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{class_external_sensors_a78c2bf55084435dd51d3c559b2d3c6f3}{External\+Sensors\+::print\+Conf()}\+: This method is provided to print the configuration to the Serial Monitor 

Definition at line 360 of file External\+Sensors.\+cpp.


\begin{DoxyCode}
361 \{
362 
363 \textcolor{preprocessor}{#if DEBUG == 1}
364 
365     Serial.println( F(\textcolor{stringliteral}{"Entering ExternalSensors.printConf()"}) );
366     Serial.println();
367 
368 \textcolor{preprocessor}{#endif }
369 
370     Serial.println(\textcolor{stringliteral}{"External Sensors configuration "});
371 
372     Serial.print(\textcolor{stringliteral}{"sensorsNumber : "});
373     Serial.println(\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber});
374 
375     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber};i++)
376     \{
377         Serial.print(\textcolor{stringliteral}{"sensor "});
378         Serial.print(i);
379         Serial.print(\textcolor{stringliteral}{" reference : "});
380         Serial.println(this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].reference);
381 
382         Serial.print(\textcolor{stringliteral}{"sensor "});
383         Serial.print(i);
384         Serial.print(\textcolor{stringliteral}{" type : "});
385         Serial.println(this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].type);
386                 
387         Serial.print(\textcolor{stringliteral}{"sensor "});
388         Serial.print(i);
389         Serial.print(\textcolor{stringliteral}{" address : "});
390         Serial.println(this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].address);
391     
392     \}
393 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=342pt]{d1/d2f/class_external_sensors_a78c2bf55084435dd51d3c559b2d3c6f3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_external_sensors_a53177b81eca3be89508b5511ddcd00fc}\label{class_external_sensors_a53177b81eca3be89508b5511ddcd00fc}} 
\index{External\+Sensors@{External\+Sensors}!read@{read}}
\index{read@{read}!External\+Sensors@{External\+Sensors}}
\subsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily String External\+Sensors\+::read (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\hyperlink{class_external_sensors_a53177b81eca3be89508b5511ddcd00fc}{External\+Sensors\+::read()}\+: This method is provided to read the data from the external sensors

\begin{DoxyReturn}{Returns}
json string that contains the sensors data 
\end{DoxyReturn}


Definition at line 79 of file External\+Sensors.\+cpp.


\begin{DoxyCode}
80 \{
81 
82 \textcolor{preprocessor}{#if DEBUG == 1}
83 
84     Serial.println( F(\textcolor{stringliteral}{"Entering ExternalSensors.read()"}) );
85     Serial.println();
86 
87 \textcolor{preprocessor}{#endif }
88 
89     String data;
90     DynamicJsonBuffer  jsonBuffer ;
91     JsonObject& root = jsonBuffer.createObject();
92 
93     \textcolor{keywordflow}{if}(!root.success() )
94     \{
95  
96 \textcolor{preprocessor}{    #if DEBUG == 1}
97 
98         Serial.println( F(\textcolor{stringliteral}{"failed to create json "}) );
99     
100 \textcolor{preprocessor}{    #endif }
101 
102         \textcolor{keywordflow}{return}(\textcolor{stringliteral}{"00"});
103     \}
104     \textcolor{keywordflow}{else}
105     \{
106         \textcolor{keywordflow}{if}(\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber}>0)
107         \{
108             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber};i++)
109             \{
110                 \textcolor{keywordflow}{if}(\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].exSensor != NULL )
111                 \{
112                     root[\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a6acfdb02c742c2110d7bd2b5d9fce9e7}{type}]=sensors[i].exSensor->read();       
113                 \}
114             
115 \textcolor{preprocessor}{            #if DEBUG == 1}
116                 \textcolor{keywordflow}{else}
117                 \{
118                     Serial.println(F(\textcolor{stringliteral}{"null pointer "}));
119                 \}
120 \textcolor{preprocessor}{            #endif  }
121             \}
122         \}   
123         
124         root.printTo(data);
125     
126 \textcolor{preprocessor}{    #if DEBUG == 1}
127 
128         Serial.println( F(\textcolor{stringliteral}{"sensors data :"}) );
129         Serial.println(data);
130         Serial.println();
131 
132         Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
133         Serial.println(jsonBuffer.size());
134         Serial.println();
135 
136     
137 \textcolor{preprocessor}{    #endif}
138     
139         \textcolor{keywordflow}{return}(data);
140     \}
141 
142 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d1/d2f/class_external_sensors_a53177b81eca3be89508b5511ddcd00fc_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}\label{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}} 
\index{External\+Sensors@{External\+Sensors}!sensors@{sensors}}
\index{sensors@{sensors}!External\+Sensors@{External\+Sensors}}
\subsubsection{\texorpdfstring{sensors}{sensors}}
{\footnotesize\ttfamily struct \hyperlink{struct_external_sensors_1_1sensor}{External\+Sensors\+::sensor} External\+Sensors\+::sensors\mbox{[}50\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}\label{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}} 
\index{External\+Sensors@{External\+Sensors}!sensors\+Number@{sensors\+Number}}
\index{sensors\+Number@{sensors\+Number}!External\+Sensors@{External\+Sensors}}
\subsubsection{\texorpdfstring{sensors\+Number}{sensorsNumber}}
{\footnotesize\ttfamily int External\+Sensors\+::sensors\+Number =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 47 of file External\+Sensors.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/src/\hyperlink{_external_sensors_8h}{External\+Sensors.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/src/\hyperlink{_external_sensors_8cpp}{External\+Sensors.\+cpp}\end{DoxyCompactItemize}
