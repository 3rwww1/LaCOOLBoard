\hypertarget{class_external_sensors}{}\section{External\+Sensors Class Reference}
\label{class_external_sensors}\index{External\+Sensors@{External\+Sensors}}


This class handles the external sensors run time defintion , configuartion and actions.  




{\ttfamily \#include $<$External\+Sensors.\+h$>$}



Collaboration diagram for External\+Sensors\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=204pt]{d8/df9/class_external_sensors__coll__graph}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_external_sensors_1_1sensor}{sensor}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_external_sensors_a58ede0d786a86417254708870f04a21e}{begin} ()
\item 
String \hyperlink{class_external_sensors_a53177b81eca3be89508b5511ddcd00fc}{read} ()
\item 
bool \hyperlink{class_external_sensors_a862a4bd11346b37270d0244c2adabe5a}{config} ()
\item 
bool \hyperlink{class_external_sensors_ac829858f587e15a3fcb00567248f0edd}{config} (String reference\mbox{[}$\,$\mbox{]}, String type\mbox{[}$\,$\mbox{]}, uint8\+\_\+t address\mbox{[}$\,$\mbox{]}, int \hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensors\+Number})
\item 
void \hyperlink{class_external_sensors_a78c2bf55084435dd51d3c559b2d3c6f3}{print\+Conf} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_external_sensors_1_1sensor}{External\+Sensors\+::sensor} \hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors} \mbox{[}50\mbox{]}
\item 
int \hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensors\+Number} =0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class handles the external sensors run time defintion , configuartion and actions. 

Definition at line 46 of file External\+Sensors.\+h.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_external_sensors_a58ede0d786a86417254708870f04a21e}\label{class_external_sensors_a58ede0d786a86417254708870f04a21e}} 
\index{External\+Sensors@{External\+Sensors}!begin@{begin}}
\index{begin@{begin}!External\+Sensors@{External\+Sensors}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily void External\+Sensors\+::begin (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\hyperlink{class_external_sensors_a58ede0d786a86417254708870f04a21e}{External\+Sensors\+::begin()}\+: This method is provided to initialise the external sensors. 

Definition at line 57 of file External\+Sensors.\+cpp.


\begin{DoxyCode}
58 \{
59 
60 \textcolor{preprocessor}{#if DEBUG == 1}
61 
62     Serial.println( F(\textcolor{stringliteral}{"Enter ExternalSensors.begin()"}) );
63     Serial.println();
64 
65 \textcolor{preprocessor}{#endif }
66 
67     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i< this->\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber} ; i++)
68     \{
69         \textcolor{keywordflow}{if}( (\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].reference) == \textcolor{stringliteral}{"NDIR\_I2C"} )
70         \{   
71             std::unique\_ptr< ExternalSensor<NDIR\_I2C> > sensorCO2(\textcolor{keyword}{new} 
      \hyperlink{class_external_sensor_3_01_n_d_i_r___i2_c_01_4}{ExternalSensor<NDIR\_I2C>}( this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].address) );
72 
73 
74             \hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a9bca150fd468b8d0e090e6d72c5c2b48}{exSensor}= sensorCO2.release();
75             \hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a9bca150fd468b8d0e090e6d72c5c2b48}{exSensor}->\hyperlink{class_base_external_sensor_a87d132803d4f4fdd4e66332809f0c9a0}{begin}();
76             \hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a9bca150fd468b8d0e090e6d72c5c2b48}{exSensor}->\hyperlink{class_base_external_sensor_a1564f16deacf57b51b9948ac29db4291}{read}();
77 
78         \}
79         \textcolor{keywordflow}{if}( (\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].reference) == \textcolor{stringliteral}{"DallasTemperature"})
80         \{
81 
82             std::unique\_ptr< ExternalSensor<DallasTemperature> > dallasTemp(\textcolor{keyword}{new} 
      \hyperlink{class_external_sensor_3_01_dallas_temperature_01_4}{ExternalSensor<DallasTemperature>} (&\hyperlink{_external_sensors_8cpp_af39fa3dad1ba161b384c0b26b8145e65}{oneWire}));
83              
84             \hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a9bca150fd468b8d0e090e6d72c5c2b48}{exSensor}=dallasTemp.release();
85             \hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a9bca150fd468b8d0e090e6d72c5c2b48}{exSensor}->\hyperlink{class_base_external_sensor_a87d132803d4f4fdd4e66332809f0c9a0}{begin}();
86             \hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a9bca150fd468b8d0e090e6d72c5c2b48}{exSensor}->\hyperlink{class_base_external_sensor_a1564f16deacf57b51b9948ac29db4291}{read}();
87         \}
88         
89         
90     \}
91 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=340pt]{d1/d2f/class_external_sensors_a58ede0d786a86417254708870f04a21e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=326pt]{d1/d2f/class_external_sensors_a58ede0d786a86417254708870f04a21e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_external_sensors_a862a4bd11346b37270d0244c2adabe5a}\label{class_external_sensors_a862a4bd11346b37270d0244c2adabe5a}} 
\index{External\+Sensors@{External\+Sensors}!config@{config}}
\index{config@{config}!External\+Sensors@{External\+Sensors}}
\subsubsection{\texorpdfstring{config()}{config()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool External\+Sensors\+::config (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{class_external_sensors_a862a4bd11346b37270d0244c2adabe5a}{External\+Sensors\+::config()}\+: This method is provided to configure the external\+Sensors through a configuration file

\begin{DoxyReturn}{Returns}
true if successful,false otherwise 
\end{DoxyReturn}


Definition at line 174 of file External\+Sensors.\+cpp.


\begin{DoxyCode}
175 \{
176     \textcolor{comment}{//read config file}
177     \textcolor{comment}{//update data}
178     File externalSensorsConfig = SPIFFS.open(\textcolor{stringliteral}{"/externalSensorsConfig.json"}, \textcolor{stringliteral}{"r"});
179 
180     \textcolor{keywordflow}{if} (!externalSensorsConfig) 
181     \{
182     
183 \textcolor{preprocessor}{    #if DEBUG == 1}
184         
185         Serial.println( F(\textcolor{stringliteral}{"failed to read /externalSensorsConfig.json"}) );
186         Serial.println();
187     
188 \textcolor{preprocessor}{    #endif}
189         
190         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
191     \}
192     \textcolor{keywordflow}{else}
193     \{
194         \textcolor{keywordtype}{size\_t} size = externalSensorsConfig.size();
195         \textcolor{comment}{// Allocate a buffer to store contents of the file.}
196         std::unique\_ptr<char[]> buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
197 
198         externalSensorsConfig.readBytes(buf.get(), size);
199         DynamicJsonBuffer jsonBuffer;
200         JsonObject& json = jsonBuffer.parseObject(buf.get());
201 
202         \textcolor{keywordflow}{if} (!json.success()) 
203         \{
204         
205 \textcolor{preprocessor}{        #if DEBUG == 1 }
206 
207             Serial.println( F(\textcolor{stringliteral}{"failed to parse json"}) );
208             Serial.println();
209         
210 \textcolor{preprocessor}{        #endif}
211 
212             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
213         \} 
214         \textcolor{keywordflow}{else}
215         \{
216         
217 \textcolor{preprocessor}{        #if DEBUG == 1 }
218     
219             Serial.println( F(\textcolor{stringliteral}{"configuration json is : "}) );
220             json.printTo(Serial);
221             Serial.println();
222 
223             Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
224             Serial.println(jsonBuffer.size());
225             Serial.println();
226 
227         
228 \textcolor{preprocessor}{        #endif          }
229             \textcolor{keywordflow}{if}(json[\textcolor{stringliteral}{"sensorsNumber"}]!=NULL)
230             \{
231                 this->\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber} = json[\textcolor{stringliteral}{"sensorsNumber"}];
232                 
233                 
234 
235                 \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber};i++)
236                 \{   String name=\textcolor{stringliteral}{"sensor"}+String(i);
237                     
238                     \textcolor{keywordflow}{if}(json[name].success())
239                     \{  
240                         JsonObject& sensorJson=json[name];
241                         
242                         \textcolor{keywordflow}{if}(sensorJson[\textcolor{stringliteral}{"reference"}].success() )
243                         \{  
244                             this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_afed5bdfd49732202a368b600cb8396fe}{reference} =sensorJson[\textcolor{stringliteral}{"reference"}].as<String>(
      );
245                         \}
246                         \textcolor{keywordflow}{else}
247                         \{
248                             this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_afed5bdfd49732202a368b600cb8396fe}{reference}=this->
      \hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_afed5bdfd49732202a368b600cb8396fe}{reference};                           
249                                     
250                         \}
251                         sensorJson[\textcolor{stringliteral}{"reference"}]=this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].
      \hyperlink{struct_external_sensors_1_1sensor_afed5bdfd49732202a368b600cb8396fe}{reference};
252 
253                     
254                         \textcolor{keywordflow}{if}(sensorJson[\textcolor{stringliteral}{"type"}].success() )
255                         \{                   
256                             this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a6acfdb02c742c2110d7bd2b5d9fce9e7}{type}=sensorJson[\textcolor{stringliteral}{"type"}].as<String>();
257                         \}
258                         \textcolor{keywordflow}{else}
259                         \{
260                             this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a6acfdb02c742c2110d7bd2b5d9fce9e7}{type}=this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].
      \hyperlink{struct_external_sensors_1_1sensor_a6acfdb02c742c2110d7bd2b5d9fce9e7}{type};
261 
262                         \}
263                         sensorJson[\textcolor{stringliteral}{"type"}]=this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a6acfdb02c742c2110d7bd2b5d9fce9e7}{type};
264                     
265                         \textcolor{keywordflow}{if}(sensorJson[\textcolor{stringliteral}{"address"}].success() )
266                         \{                   
267                             this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a8d70ca58524521ed054fc6b81eb58d34}{address}=sensorJson[\textcolor{stringliteral}{"address"}];
268                         \}
269                         \textcolor{keywordflow}{else}
270                         \{   
271                             this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a8d70ca58524521ed054fc6b81eb58d34}{address}=this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].
      \hyperlink{struct_external_sensors_1_1sensor_a8d70ca58524521ed054fc6b81eb58d34}{address};
272 
273                         \}
274                         sensorJson[\textcolor{stringliteral}{"address"}]=this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a8d70ca58524521ed054fc6b81eb58d34}{address};
275                     
276     
277                     \}
278                     \textcolor{keywordflow}{else}
279                     \{
280                         this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i]=this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i];                    
281                     \}
282                                             
283                     json[name][\textcolor{stringliteral}{"reference"}]=this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_afed5bdfd49732202a368b600cb8396fe}{reference};
284                     json[name][\textcolor{stringliteral}{"type"}]=this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a6acfdb02c742c2110d7bd2b5d9fce9e7}{type};
285                     json[name][\textcolor{stringliteral}{"address"}]=this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a8d70ca58524521ed054fc6b81eb58d34}{address};
286                 \}
287  
288             \}
289             \textcolor{keywordflow}{else}
290             \{
291                 this->sensorsNumber=this->\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber};
292             \}
293             json[\textcolor{stringliteral}{"sensorsNumber"}]=this->\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber};
294 
295             externalSensorsConfig.close();
296             externalSensorsConfig = SPIFFS.open(\textcolor{stringliteral}{"/externalSensorsConfig.json"}, \textcolor{stringliteral}{"w"});
297 
298             \textcolor{keywordflow}{if}(!externalSensorsConfig)
299             \{
300             
301 \textcolor{preprocessor}{            #if DEBUG == 1 }
302 
303                 Serial.println( F(\textcolor{stringliteral}{"failed to write to /externalSensorsConfig.json"}) );
304                 Serial.println();
305             
306 \textcolor{preprocessor}{            #endif}
307 
308                 \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
309             \}
310             
311             json.printTo(externalSensorsConfig);
312             externalSensorsConfig.close();
313             
314 \textcolor{preprocessor}{        #if DEBUG == 1 }
315 
316             Serial.println( F(\textcolor{stringliteral}{"saved configuration is : "}) );
317             json.printTo(Serial);
318             Serial.println();
319         
320 \textcolor{preprocessor}{        #endif}
321 
322             \textcolor{keywordflow}{return}(\textcolor{keyword}{true}); 
323         \}
324     \}   
325     
326 
327 
328 
329 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=329pt]{d1/d2f/class_external_sensors_a862a4bd11346b37270d0244c2adabe5a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_external_sensors_ac829858f587e15a3fcb00567248f0edd}\label{class_external_sensors_ac829858f587e15a3fcb00567248f0edd}} 
\index{External\+Sensors@{External\+Sensors}!config@{config}}
\index{config@{config}!External\+Sensors@{External\+Sensors}}
\subsubsection{\texorpdfstring{config()}{config()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool External\+Sensors\+::config (\begin{DoxyParamCaption}\item[{String}]{reference\mbox{[}$\,$\mbox{]},  }\item[{String}]{type\mbox{[}$\,$\mbox{]},  }\item[{uint8\+\_\+t}]{address\mbox{[}$\,$\mbox{]},  }\item[{int}]{sensors\+Number }\end{DoxyParamCaption})}

\hyperlink{class_external_sensors_ac829858f587e15a3fcb00567248f0edd}{External\+Sensors\+::config(\+String reference\mbox{[}$\,$\mbox{]},\+String type\mbox{[}$\,$\mbox{]},uint8\+\_\+t address\mbox{[}$\,$\mbox{]},int sensors\+Number)}\+: This method is provided to configure the external\+Sensors without a configuration file

\begin{DoxyReturn}{Returns}
true if successful,false otherwise 
\end{DoxyReturn}


Definition at line 339 of file External\+Sensors.\+cpp.


\begin{DoxyCode}
340 \{
341 
342 \textcolor{preprocessor}{#if DEBUG == 1}
343 
344     Serial.println( F(\textcolor{stringliteral}{"Entering ExternalSensors.conf(reference[], type[], address[], sensorsNumber)"}) );
345     Serial.println();
346 
347 \textcolor{preprocessor}{#endif  }
348     \textcolor{keywordflow}{if}(\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber}>50)
349     \{
350     
351 \textcolor{preprocessor}{    #if DEBUG == 1}
352     
353         Serial.println(F(\textcolor{stringliteral}{"you can't add more than 50 sensors"}));    
354     
355 \textcolor{preprocessor}{    #endif  }
356     
357         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
358     \}
359 
360     this->\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber}=\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber};
361     
362     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber};i++)
363     \{
364     
365         this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_afed5bdfd49732202a368b600cb8396fe}{reference}=reference[i];
366         
367         this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a6acfdb02c742c2110d7bd2b5d9fce9e7}{type}=type[i];
368 
369         this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a8d70ca58524521ed054fc6b81eb58d34}{address}=address[i];
370     
371     \}
372     
373     \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
374 
375 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_external_sensors_a78c2bf55084435dd51d3c559b2d3c6f3}\label{class_external_sensors_a78c2bf55084435dd51d3c559b2d3c6f3}} 
\index{External\+Sensors@{External\+Sensors}!print\+Conf@{print\+Conf}}
\index{print\+Conf@{print\+Conf}!External\+Sensors@{External\+Sensors}}
\subsubsection{\texorpdfstring{print\+Conf()}{printConf()}}
{\footnotesize\ttfamily void External\+Sensors\+::print\+Conf (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{class_external_sensors_a78c2bf55084435dd51d3c559b2d3c6f3}{External\+Sensors\+::print\+Conf()}\+: This method is provided to print the configuration to the Serial Monitor 

Definition at line 382 of file External\+Sensors.\+cpp.


\begin{DoxyCode}
383 \{
384 
385 \textcolor{preprocessor}{#if DEBUG == 1}
386 
387     Serial.println( F(\textcolor{stringliteral}{"Entering ExternalSensors.printConf()"}) );
388     Serial.println();
389 
390 \textcolor{preprocessor}{#endif }
391 
392     Serial.println(\textcolor{stringliteral}{"External Sensors configuration "});
393 
394     Serial.print(\textcolor{stringliteral}{"sensorsNumber : "});
395     Serial.println(\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber});
396 
397     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber};i++)
398     \{
399         Serial.print(\textcolor{stringliteral}{"sensor "});
400         Serial.print(i);
401         Serial.print(\textcolor{stringliteral}{" reference : "});
402         Serial.println(this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].reference);
403 
404         Serial.print(\textcolor{stringliteral}{"sensor "});
405         Serial.print(i);
406         Serial.print(\textcolor{stringliteral}{" type : "});
407         Serial.println(this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].type);
408                 
409         Serial.print(\textcolor{stringliteral}{"sensor "});
410         Serial.print(i);
411         Serial.print(\textcolor{stringliteral}{" address : "});
412         Serial.println(this->\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].address);
413     
414     \}
415 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=342pt]{d1/d2f/class_external_sensors_a78c2bf55084435dd51d3c559b2d3c6f3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_external_sensors_a53177b81eca3be89508b5511ddcd00fc}\label{class_external_sensors_a53177b81eca3be89508b5511ddcd00fc}} 
\index{External\+Sensors@{External\+Sensors}!read@{read}}
\index{read@{read}!External\+Sensors@{External\+Sensors}}
\subsubsection{\texorpdfstring{read()}{read()}}
{\footnotesize\ttfamily String External\+Sensors\+::read (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\hyperlink{class_external_sensors_a53177b81eca3be89508b5511ddcd00fc}{External\+Sensors\+::read()}\+: This method is provided to read the data from the external sensors

\begin{DoxyReturn}{Returns}
json string that contains the sensors data 
\end{DoxyReturn}


Definition at line 101 of file External\+Sensors.\+cpp.


\begin{DoxyCode}
102 \{
103 
104 \textcolor{preprocessor}{#if DEBUG == 1}
105 
106     Serial.println( F(\textcolor{stringliteral}{"Entering ExternalSensors.read()"}) );
107     Serial.println();
108 
109 \textcolor{preprocessor}{#endif }
110 
111     String data;
112     DynamicJsonBuffer  jsonBuffer ;
113     JsonObject& root = jsonBuffer.createObject();
114 
115     \textcolor{keywordflow}{if}(!root.success() )
116     \{
117  
118 \textcolor{preprocessor}{    #if DEBUG == 1}
119 
120         Serial.println( F(\textcolor{stringliteral}{"failed to create json "}) );
121     
122 \textcolor{preprocessor}{    #endif }
123 
124         \textcolor{keywordflow}{return}(\textcolor{stringliteral}{"00"});
125     \}
126     \textcolor{keywordflow}{else}
127     \{
128         \textcolor{keywordflow}{if}(\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber}>0)
129         \{
130             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<\hyperlink{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}{sensorsNumber};i++)
131             \{
132                 \textcolor{keywordflow}{if}(\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].exSensor != NULL )
133                 \{
134                     root[\hyperlink{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}{sensors}[i].\hyperlink{struct_external_sensors_1_1sensor_a6acfdb02c742c2110d7bd2b5d9fce9e7}{type}]=sensors[i].exSensor->read();       
135                 \}
136             
137 \textcolor{preprocessor}{            #if DEBUG == 1}
138                 \textcolor{keywordflow}{else}
139                 \{
140                     Serial.println(F(\textcolor{stringliteral}{"null pointer "}));
141                 \}
142 \textcolor{preprocessor}{            #endif  }
143             \}
144         \}   
145         
146         root.printTo(data);
147     
148 \textcolor{preprocessor}{    #if DEBUG == 1}
149 
150         Serial.println( F(\textcolor{stringliteral}{"sensors data :"}) );
151         Serial.println(data);
152         Serial.println();
153 
154         Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
155         Serial.println(jsonBuffer.size());
156         Serial.println();
157 
158     
159 \textcolor{preprocessor}{    #endif}
160     
161         \textcolor{keywordflow}{return}(data);
162     \}
163 
164 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d1/d2f/class_external_sensors_a53177b81eca3be89508b5511ddcd00fc_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}\label{class_external_sensors_a284233f884fcf00154a44740cf1d9e1e}} 
\index{External\+Sensors@{External\+Sensors}!sensors@{sensors}}
\index{sensors@{sensors}!External\+Sensors@{External\+Sensors}}
\subsubsection{\texorpdfstring{sensors}{sensors}}
{\footnotesize\ttfamily struct \hyperlink{struct_external_sensors_1_1sensor}{External\+Sensors\+::sensor} External\+Sensors\+::sensors\mbox{[}50\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}\label{class_external_sensors_a58e4fbf9adeae787d92be5fa33043b5d}} 
\index{External\+Sensors@{External\+Sensors}!sensors\+Number@{sensors\+Number}}
\index{sensors\+Number@{sensors\+Number}!External\+Sensors@{External\+Sensors}}
\subsubsection{\texorpdfstring{sensors\+Number}{sensorsNumber}}
{\footnotesize\ttfamily int External\+Sensors\+::sensors\+Number =0\hspace{0.3cm}{\ttfamily [private]}}

External Sensors Number Maximum is 50 

Definition at line 87 of file External\+Sensors.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/src/\hyperlink{_external_sensors_8h}{External\+Sensors.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/src/\hyperlink{_external_sensors_8cpp}{External\+Sensors.\+cpp}\end{DoxyCompactItemize}
