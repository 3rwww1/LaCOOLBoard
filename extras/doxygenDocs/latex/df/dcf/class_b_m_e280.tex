\hypertarget{class_b_m_e280}{}\section{B\+M\+E280 Class Reference}
\label{class_b_m_e280}\index{B\+M\+E280@{B\+M\+E280}}


{\ttfamily \#include $<$Cool\+Spark\+Fun\+B\+M\+E280.\+h$>$}



Collaboration diagram for B\+M\+E280\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=298pt]{d3/d82/class_b_m_e280__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_b_m_e280_a9b9354e010528a0c3d452aa2459b808c}{B\+M\+E280} (void)
\item 
uint8\+\_\+t \hyperlink{class_b_m_e280_a994c102f010547f9c740a338ef9905c7}{begin} (void)
\item 
void \hyperlink{class_b_m_e280_aeec5deb6daace6ae390108b4210e9df7}{reset} (void)
\item 
float \hyperlink{class_b_m_e280_ada6e799917afb4f228e6253bc56ffe75}{read\+Float\+Pressure} (void)
\item 
float \hyperlink{class_b_m_e280_af67b56ba50760ee1d116acc6c5010221}{read\+Float\+Altitude\+Meters} (void)
\item 
float \hyperlink{class_b_m_e280_a6525c8a26f887b52596c86bed99343cb}{read\+Float\+Altitude\+Feet} (void)
\item 
float \hyperlink{class_b_m_e280_a42ea7232039eebf5aadb391ef6132c35}{read\+Float\+Humidity} (void)
\item 
float \hyperlink{class_b_m_e280_afffdd1d7ded9e1f92200e70669019d97}{read\+TempC} (void)
\item 
float \hyperlink{class_b_m_e280_a9648b496f6b4700550782a715a98b3c7}{read\+TempF} (void)
\item 
void \hyperlink{class_b_m_e280_aecca87c2c40a7f2bcabcea921bdc6124}{read\+Register\+Region} (uint8\+\_\+t $\ast$, uint8\+\_\+t, uint8\+\_\+t)
\item 
uint8\+\_\+t \hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{read\+Register} (uint8\+\_\+t)
\item 
int16\+\_\+t \hyperlink{class_b_m_e280_ac43c30f9b321d301694094d6b4bebe7e}{read\+Register\+Int16} (uint8\+\_\+t offset)
\item 
void \hyperlink{class_b_m_e280_afcff21c342725246bf415d7f0e4d04f0}{write\+Register} (uint8\+\_\+t, uint8\+\_\+t)
\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{struct_sensor_settings}{Sensor\+Settings} \hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}
\item 
\hyperlink{struct_sensor_calibration}{Sensor\+Calibration} \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}
\item 
int32\+\_\+t \hyperlink{class_b_m_e280_ad20f44914b78395f4d4bc64f4a68b369}{t\+\_\+fine}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 143 of file Cool\+Spark\+Fun\+B\+M\+E280.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_b_m_e280_a9b9354e010528a0c3d452aa2459b808c}\label{class_b_m_e280_a9b9354e010528a0c3d452aa2459b808c}} 
\index{B\+M\+E280@{B\+M\+E280}!B\+M\+E280@{B\+M\+E280}}
\index{B\+M\+E280@{B\+M\+E280}!B\+M\+E280@{B\+M\+E280}}
\subsubsection{\texorpdfstring{B\+M\+E280()}{BME280()}}
{\footnotesize\ttfamily B\+M\+E280\+::\+B\+M\+E280 (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line 43 of file Cool\+Spark\+Fun\+B\+M\+E280.\+cpp.


\begin{DoxyCode}
44 \{
45     \textcolor{comment}{//Construct with these default settings if nothing is specified}
46 
47     \textcolor{comment}{//Select interface mode}
48     \hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_a5bf116387c543a6ea5732976424e8cb1}{commInterface} = \hyperlink{_cool_spark_fun_b_m_e280_8h_a5cd01756030509b764d43a2b8c94fce8}{I2C\_MODE}; \textcolor{comment}{//Can be I2C\_MODE, SPI\_MODE}
49     \textcolor{comment}{//Select address for I2C.  Does nothing for SPI}
50     \hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_af8103021dbce7e5ee6d786c4893324f7}{I2CAddress} = 0x77; \textcolor{comment}{//Ignored for SPI\_MODE}
51     \textcolor{comment}{//Select CS pin for SPI.  Does nothing for I2C}
52     \hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_abe2de606ebb580ad81e3fafb1a454580}{chipSelectPin} = 10;
53     \hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_a0ffbdf34f4c23a2a167f00e4cb971dec}{runMode} = 0;
54     \hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_abdedc9d05f4850c58005313486958073}{tempOverSample} = 0;
55     \hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_a85ba10cad25b479bba9cb42c6400ab21}{pressOverSample} = 0;
56     \hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_a4a02fc7708071b88ccf610e3f7ed9d55}{humidOverSample} = 0;
57 
58 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_b_m_e280_a994c102f010547f9c740a338ef9905c7}\label{class_b_m_e280_a994c102f010547f9c740a338ef9905c7}} 
\index{B\+M\+E280@{B\+M\+E280}!begin@{begin}}
\index{begin@{begin}!B\+M\+E280@{B\+M\+E280}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily uint8\+\_\+t B\+M\+E280\+::begin (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line 70 of file Cool\+Spark\+Fun\+B\+M\+E280.\+cpp.


\begin{DoxyCode}
71 \{
72     \textcolor{comment}{//Check the settings structure values to determine how to setup the device}
73     uint8\_t dataToWrite = 0;  \textcolor{comment}{//Temporary variable}
74 
75     \textcolor{keywordflow}{switch} (\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_a5bf116387c543a6ea5732976424e8cb1}{commInterface})
76     \{
77 
78     \textcolor{keywordflow}{case} \hyperlink{_cool_spark_fun_b_m_e280_8h_a5cd01756030509b764d43a2b8c94fce8}{I2C\_MODE}:
79         Wire.begin(2,14);
80         \textcolor{keywordflow}{break};
81 
82     \textcolor{keywordflow}{case} \hyperlink{_cool_spark_fun_b_m_e280_8h_ab1dcc9464e3fcb94922386e8a7f53f21}{SPI\_MODE}:
83         \textcolor{comment}{// start the SPI library:}
84         SPI.begin();
85         \textcolor{comment}{// Maximum SPI frequency is 10MHz, could divide by 2 here:}
86         SPI.setClockDivider(SPI\_CLOCK\_DIV32);
87         \textcolor{comment}{// Data is read and written MSb first.}
88         SPI.setBitOrder(MSBFIRST);
89         \textcolor{comment}{// Data is captured on rising edge of clock (CPHA = 0)}
90         \textcolor{comment}{// Base value of the clock is HIGH (CPOL = 1)}
91         \textcolor{comment}{// This was SPI\_MODE3 for RedBoard, but I had to change to}
92         \textcolor{comment}{// MODE0 for Teensy 3.1 operation}
93         SPI.setDataMode(SPI\_MODE3);
94         \textcolor{comment}{// initalize the  data ready and chip select pins:}
95         pinMode(\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_abe2de606ebb580ad81e3fafb1a454580}{chipSelectPin}, OUTPUT);
96         digitalWrite(\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_abe2de606ebb580ad81e3fafb1a454580}{chipSelectPin}, HIGH);
97         \textcolor{keywordflow}{break};
98 
99     \textcolor{keywordflow}{default}:
100         \textcolor{keywordflow}{break};
101     \}
102 
103     \textcolor{comment}{//Reading all compensation data, range 0x88:A1, 0xE1:E7}
104     
105     \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a044a8c40e958b1cda3fb85b95303550e}{dig\_T1} = ((uint16\_t)((\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_ab41e00320fc3817544911020c4892ce9}{BME280\_DIG\_T1\_MSB\_REG}) << 8) + \hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_a95bded41d4d21e0dc9d5e90cef46e2f0}{BME280\_DIG\_T1\_LSB\_REG})));
106     \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a8f8bb62e10c9bc0decb4463128ccaee5}{dig\_T2} = ((int16\_t)((\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_a04dadb44784187c69a905720ce955e84}{BME280\_DIG\_T2\_MSB\_REG}) << 8) + \hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_aeb987cec0df70171e3f36e5d3b68f57b}{BME280\_DIG\_T2\_LSB\_REG})));
107     \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a5b134db1776888487855c6b526d130d6}{dig\_T3} = ((int16\_t)((\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_a656d326254d65330c2bdf9482ca590fc}{BME280\_DIG\_T3\_MSB\_REG}) << 8) + \hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_aa900c543759fa27e583393ef8740c37a}{BME280\_DIG\_T3\_LSB\_REG})));
108 
109     \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_aba96e3c2bdbbe79c20a836d9c55c60cf}{dig\_P1} = ((uint16\_t)((\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_ad521625b8228f27c5bd1408f11c82705}{BME280\_DIG\_P1\_MSB\_REG}) << 8) + \hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_a4e93de21dbe08f37e606c40c9fc144d0}{BME280\_DIG\_P1\_LSB\_REG})));
110     \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_ab8a514b812ec77913dc95147d66bbcc4}{dig\_P2} = ((int16\_t)((\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_afa34e3a536046bc6156a1ed4bb507d95}{BME280\_DIG\_P2\_MSB\_REG}) << 8) + \hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_a413900b0f4aa9c057203f6b198e78806}{BME280\_DIG\_P2\_LSB\_REG})));
111     \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_ac333ef210929de18815cec04c68acec2}{dig\_P3} = ((int16\_t)((\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_a37526ca63d516cbca0117a54e9266190}{BME280\_DIG\_P3\_MSB\_REG}) << 8) + \hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_adcc5e52670f45b9f63a9135c5e1c5492}{BME280\_DIG\_P3\_LSB\_REG})));
112     \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a8af2a8c6f19a2a56e784aa9a7bd49cd3}{dig\_P4} = ((int16\_t)((\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_a7df62b54283c277da20b12bb322870e0}{BME280\_DIG\_P4\_MSB\_REG}) << 8) + \hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_a74ecf31c885677d4d6b8a3d8db22ee6d}{BME280\_DIG\_P4\_LSB\_REG})));
113     \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_ae2508256bbfc0e222a677ebbd1d0acf7}{dig\_P5} = ((int16\_t)((\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_ac038f66828c72b71559096efafa76970}{BME280\_DIG\_P5\_MSB\_REG}) << 8) + \hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_a7054983fb5c397ec63838d2b6d047a12}{BME280\_DIG\_P5\_LSB\_REG})));
114     \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_ad1a973f775ee6d7f23d9197824971c76}{dig\_P6} = ((int16\_t)((\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_ac43647d729a7d57221ecb0cf139accb4}{BME280\_DIG\_P6\_MSB\_REG}) << 8) + \hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_a7e12334e305f1665cbcaa02bdbb38909}{BME280\_DIG\_P6\_LSB\_REG})));
115     \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_adda4a99343f9e02de7d9f2d5949477d2}{dig\_P7} = ((int16\_t)((\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_a7587b0d965b303fec2c2d4371add623f}{BME280\_DIG\_P7\_MSB\_REG}) << 8) + \hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_a70f6683a4c3c0818405ca3880f28a109}{BME280\_DIG\_P7\_LSB\_REG})));
116     \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a06372d2918206f0cd35954e5bb35a1d2}{dig\_P8} = ((int16\_t)((\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_a26633dd2c5b34de0d5163e11f9e3a22d}{BME280\_DIG\_P8\_MSB\_REG}) << 8) + \hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_afe625f2ec64c74d6488a93ba04575b24}{BME280\_DIG\_P8\_LSB\_REG})));
117     \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a5e942a51a1b5d7753719db1e27e55c06}{dig\_P9} = ((int16\_t)((\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_a819382b7d14efff4294e19f9a72010b3}{BME280\_DIG\_P9\_MSB\_REG}) << 8) + \hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_a24f19ebc8092ddede86f5533b9f09313}{BME280\_DIG\_P9\_LSB\_REG})));
118 
119     \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_ab8de0d58f5b0efa7ce638bed02deb460}{dig\_H1} = ((uint8\_t)(\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_ad29dd403735dc3c3225c6838e5eed820}{BME280\_DIG\_H1\_REG})));
120     \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_afcfd149e907f83effaee0ae5dfa82a8f}{dig\_H2} = ((int16\_t)((\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_aaf8b4172339b971f5a5b108c98d5d2fe}{BME280\_DIG\_H2\_MSB\_REG}) << 8) + \hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_a260ba9aa4ae925ed4a76a2f45a62e1f2}{BME280\_DIG\_H2\_LSB\_REG})));
121     \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a65b525f9a3c58baf03db61da4626f417}{dig\_H3} = ((uint8\_t)(\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_adbb9946cb6a096b6ff1f0226c0e7a659}{BME280\_DIG\_H3\_REG})));
122     \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a6b540f7bc56275b482d65e0725aeb27b}{dig\_H4} = ((int16\_t)((\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_a8dc154fcd1e08088d289ce668c4d718a}{BME280\_DIG\_H4\_MSB\_REG}) << 4) + (\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_a722ff6a68e3db9eec127b191f2530a20}{BME280\_DIG\_H4\_LSB\_REG}) & 0x0F)));
123     \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a03691fc56b0bff17b007ffbd71dcc7b9}{dig\_H5} = ((int16\_t)((\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_ae7e42b75f0268a4303b77699fb8be834}{BME280\_DIG\_H5\_MSB\_REG}) << 4) + ((\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_a722ff6a68e3db9eec127b191f2530a20}{BME280\_DIG\_H4\_LSB\_REG}) >> 4) & 0x0F)));
124     \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a2f8c842c4becfce11e04c00168a9be0f}{dig\_H6} = ((uint8\_t)\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_aa53163d82db48577fdb9a83112226e2c}{BME280\_DIG\_H6\_REG}));
125 
126     \textcolor{comment}{//Set the oversampling control words.}
127     \textcolor{comment}{//config will only be writeable in sleep mode, so first insure that.}
128     \hyperlink{class_b_m_e280_afcff21c342725246bf415d7f0e4d04f0}{writeRegister}(\hyperlink{_cool_spark_fun_b_m_e280_8h_a34483b4a562393f91fe3f01d676abb88}{BME280\_CTRL\_MEAS\_REG}, 0x00);
129     
130     \textcolor{comment}{//Set the config word}
131     dataToWrite = (\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_a7098be3c1df0271dc9bc0fb45c1e9bb9}{tStandby} << 0x5) & 0xE0;
132     dataToWrite |= (\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_a69dc95368069a0f408a141d4c2cbf045}{filter} << 0x02) & 0x1C;
133     \hyperlink{class_b_m_e280_afcff21c342725246bf415d7f0e4d04f0}{writeRegister}(\hyperlink{_cool_spark_fun_b_m_e280_8h_a70c225069ef92e5da90ee45362f7ba69}{BME280\_CONFIG\_REG}, dataToWrite);
134     
135     \textcolor{comment}{//Set ctrl\_hum first, then ctrl\_meas to activate ctrl\_hum}
136     dataToWrite = \hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_a4a02fc7708071b88ccf610e3f7ed9d55}{humidOverSample} & 0x07; \textcolor{comment}{//all other bits can be ignored}
137     \hyperlink{class_b_m_e280_afcff21c342725246bf415d7f0e4d04f0}{writeRegister}(\hyperlink{_cool_spark_fun_b_m_e280_8h_a6da31fc4446b80cf5a830a5df45a5743}{BME280\_CTRL\_HUMIDITY\_REG}, dataToWrite);
138     
139     \textcolor{comment}{//set ctrl\_meas}
140     \textcolor{comment}{//First, set temp oversampling}
141     dataToWrite = (\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_abdedc9d05f4850c58005313486958073}{tempOverSample} << 0x5) & 0xE0;
142     \textcolor{comment}{//Next, pressure oversampling}
143     dataToWrite |= (\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_a85ba10cad25b479bba9cb42c6400ab21}{pressOverSample} << 0x02) & 0x1C;
144     \textcolor{comment}{//Last, set mode}
145     dataToWrite |= (\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_a0ffbdf34f4c23a2a167f00e4cb971dec}{runMode}) & 0x03;
146     \textcolor{comment}{//Load the byte}
147     \hyperlink{class_b_m_e280_afcff21c342725246bf415d7f0e4d04f0}{writeRegister}(\hyperlink{_cool_spark_fun_b_m_e280_8h_a34483b4a562393f91fe3f01d676abb88}{BME280\_CTRL\_MEAS\_REG}, dataToWrite);
148     
149     \textcolor{keywordflow}{return} \hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(0xD0);
150 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=317pt]{df/dcf/class_b_m_e280_a994c102f010547f9c740a338ef9905c7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dcf/class_b_m_e280_a994c102f010547f9c740a338ef9905c7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_b_m_e280_a6525c8a26f887b52596c86bed99343cb}\label{class_b_m_e280_a6525c8a26f887b52596c86bed99343cb}} 
\index{B\+M\+E280@{B\+M\+E280}!read\+Float\+Altitude\+Feet@{read\+Float\+Altitude\+Feet}}
\index{read\+Float\+Altitude\+Feet@{read\+Float\+Altitude\+Feet}!B\+M\+E280@{B\+M\+E280}}
\subsubsection{\texorpdfstring{read\+Float\+Altitude\+Feet()}{readFloatAltitudeFeet()}}
{\footnotesize\ttfamily float B\+M\+E280\+::read\+Float\+Altitude\+Feet (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line 201 of file Cool\+Spark\+Fun\+B\+M\+E280.\+cpp.


\begin{DoxyCode}
202 \{
203     \textcolor{keywordtype}{float} heightOutput = 0;
204     
205     heightOutput = \hyperlink{class_b_m_e280_af67b56ba50760ee1d116acc6c5010221}{readFloatAltitudeMeters}() * 3.28084;
206     \textcolor{keywordflow}{return} heightOutput;
207     
208 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dcf/class_b_m_e280_a6525c8a26f887b52596c86bed99343cb_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_b_m_e280_af67b56ba50760ee1d116acc6c5010221}\label{class_b_m_e280_af67b56ba50760ee1d116acc6c5010221}} 
\index{B\+M\+E280@{B\+M\+E280}!read\+Float\+Altitude\+Meters@{read\+Float\+Altitude\+Meters}}
\index{read\+Float\+Altitude\+Meters@{read\+Float\+Altitude\+Meters}!B\+M\+E280@{B\+M\+E280}}
\subsubsection{\texorpdfstring{read\+Float\+Altitude\+Meters()}{readFloatAltitudeMeters()}}
{\footnotesize\ttfamily float B\+M\+E280\+::read\+Float\+Altitude\+Meters (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line 192 of file Cool\+Spark\+Fun\+B\+M\+E280.\+cpp.


\begin{DoxyCode}
193 \{
194     \textcolor{keywordtype}{float} heightOutput = 0;
195     
196     heightOutput = ((float)-45846.2)*(pow(((\textcolor{keywordtype}{float})\hyperlink{class_b_m_e280_ada6e799917afb4f228e6253bc56ffe75}{readFloatPressure}()/(\textcolor{keywordtype}{float})101325), 0.19
      0263) - (float)1);
197     \textcolor{keywordflow}{return} heightOutput;
198     
199 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dcf/class_b_m_e280_af67b56ba50760ee1d116acc6c5010221_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dcf/class_b_m_e280_af67b56ba50760ee1d116acc6c5010221_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_b_m_e280_a42ea7232039eebf5aadb391ef6132c35}\label{class_b_m_e280_a42ea7232039eebf5aadb391ef6132c35}} 
\index{B\+M\+E280@{B\+M\+E280}!read\+Float\+Humidity@{read\+Float\+Humidity}}
\index{read\+Float\+Humidity@{read\+Float\+Humidity}!B\+M\+E280@{B\+M\+E280}}
\subsubsection{\texorpdfstring{read\+Float\+Humidity()}{readFloatHumidity()}}
{\footnotesize\ttfamily float B\+M\+E280\+::read\+Float\+Humidity (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line 215 of file Cool\+Spark\+Fun\+B\+M\+E280.\+cpp.


\begin{DoxyCode}
216 \{
217     
218     \textcolor{comment}{// Returns humidity in %RH as unsigned 32 bit integer in Q22. 10 format (22 integer and 10 fractional
       bits).}
219     \textcolor{comment}{// Output value of “47445” represents 47445/1024 = 46. 333 %RH}
220     int32\_t adc\_H = ((uint32\_t)\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(\hyperlink{_cool_spark_fun_b_m_e280_8h_a463b030450826d7a286b272753c7c91c}{BME280\_HUMIDITY\_MSB\_REG}) << 
      8) | ((uint32\_t)\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(\hyperlink{_cool_spark_fun_b_m_e280_8h_a477dde6d1d96211aff748215ea9cd4dc}{BME280\_HUMIDITY\_LSB\_REG}));
221     
222     int32\_t var1;
223     var1 = (\hyperlink{class_b_m_e280_ad20f44914b78395f4d4bc64f4a68b369}{t\_fine} - ((int32\_t)76800));
224     var1 = (((((adc\_H << 14) - (((int32\_t)\hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a6b540f7bc56275b482d65e0725aeb27b}{dig\_H4}) << 20) - (((int32\_t)
      \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a03691fc56b0bff17b007ffbd71dcc7b9}{dig\_H5}) * var1)) +
225     ((int32\_t)16384)) >> 15) * (((((((var1 * ((int32\_t)\hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.
      \hyperlink{struct_sensor_calibration_a2f8c842c4becfce11e04c00168a9be0f}{dig\_H6})) >> 10) * (((var1 * ((int32\_t)\hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a65b525f9a3c58baf03db61da4626f417}{dig\_H3})) >> 11) + ((int32\_t)32768)
      )) >> 10) + ((int32\_t)2097152)) *
226     ((int32\_t)\hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_afcfd149e907f83effaee0ae5dfa82a8f}{dig\_H2}) + 8192) >> 14));
227     var1 = (var1 - (((((var1 >> 15) * (var1 >> 15)) >> 7) * ((int32\_t)
      \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_ab8de0d58f5b0efa7ce638bed02deb460}{dig\_H1})) >> 4));
228     var1 = (var1 < 0 ? 0 : var1);
229     var1 = (var1 > 419430400 ? 419430400 : var1);
230 
231     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{float})(var1>>12) / 1024.0;
232 
233 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dcf/class_b_m_e280_a42ea7232039eebf5aadb391ef6132c35_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dcf/class_b_m_e280_a42ea7232039eebf5aadb391ef6132c35_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_b_m_e280_ada6e799917afb4f228e6253bc56ffe75}\label{class_b_m_e280_ada6e799917afb4f228e6253bc56ffe75}} 
\index{B\+M\+E280@{B\+M\+E280}!read\+Float\+Pressure@{read\+Float\+Pressure}}
\index{read\+Float\+Pressure@{read\+Float\+Pressure}!B\+M\+E280@{B\+M\+E280}}
\subsubsection{\texorpdfstring{read\+Float\+Pressure()}{readFloatPressure()}}
{\footnotesize\ttfamily float B\+M\+E280\+::read\+Float\+Pressure (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line 164 of file Cool\+Spark\+Fun\+B\+M\+E280.\+cpp.


\begin{DoxyCode}
165 \{
166 
167     \textcolor{comment}{// Returns pressure in Pa as unsigned 32 bit integer in Q24.8 format (24 integer bits and 8 fractional
       bits).}
168     \textcolor{comment}{// Output value of “24674867” represents 24674867/256 = 96386.2 Pa = 963.862 hPa}
169     int32\_t adc\_P = ((uint32\_t)\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(\hyperlink{_cool_spark_fun_b_m_e280_8h_ac60d376f920e64fe5855852658041c82}{BME280\_PRESSURE\_MSB\_REG}) << 
      12) | ((uint32\_t)\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(\hyperlink{_cool_spark_fun_b_m_e280_8h_acba4811c6b0815f807732a8c90cb1311}{BME280\_PRESSURE\_LSB\_REG}) << 4) | ((
      \hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(\hyperlink{_cool_spark_fun_b_m_e280_8h_a76fa207f16ead1434519745ce83763e4}{BME280\_PRESSURE\_XLSB\_REG}) >> 4) & 0x0F);
170     
171     int64\_t var1, var2, p\_acc;
172     var1 = ((int64\_t)\hyperlink{class_b_m_e280_ad20f44914b78395f4d4bc64f4a68b369}{t\_fine}) - 128000;
173     var2 = var1 * var1 * (int64\_t)\hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_ad1a973f775ee6d7f23d9197824971c76}{dig\_P6};
174     var2 = var2 + ((var1 * (int64\_t)\hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_ae2508256bbfc0e222a677ebbd1d0acf7}{dig\_P5})<<17);
175     var2 = var2 + (((int64\_t)\hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a8af2a8c6f19a2a56e784aa9a7bd49cd3}{dig\_P4})<<35);
176     var1 = ((var1 * var1 * (int64\_t)\hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_ac333ef210929de18815cec04c68acec2}{dig\_P3})>>8) + ((var1 * (int64\_t)
      \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_ab8a514b812ec77913dc95147d66bbcc4}{dig\_P2})<<12);
177     var1 = (((((int64\_t)1)<<47)+var1))*((int64\_t)\hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_aba96e3c2bdbbe79c20a836d9c55c60cf}{dig\_P1})>>33;
178     \textcolor{keywordflow}{if} (var1 == 0)
179     \{
180         \textcolor{keywordflow}{return} 0; \textcolor{comment}{// avoid exception caused by division by zero}
181     \}
182     p\_acc = 1048576 - adc\_P;
183     p\_acc = (((p\_acc<<31) - var2)*3125)/var1;
184     var1 = (((int64\_t)\hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a5e942a51a1b5d7753719db1e27e55c06}{dig\_P9}) * (p\_acc>>13) * (p\_acc>>13)) >> 25;
185     var2 = (((int64\_t)\hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a06372d2918206f0cd35954e5bb35a1d2}{dig\_P8}) * p\_acc) >> 19;
186     p\_acc = ((p\_acc + var1 + var2) >> 8) + (((int64\_t)\hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.
      \hyperlink{struct_sensor_calibration_adda4a99343f9e02de7d9f2d5949477d2}{dig\_P7})<<4);
187     
188     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{float})p\_acc / 256.0;
189     
190 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dcf/class_b_m_e280_ada6e799917afb4f228e6253bc56ffe75_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dcf/class_b_m_e280_ada6e799917afb4f228e6253bc56ffe75_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}\label{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}} 
\index{B\+M\+E280@{B\+M\+E280}!read\+Register@{read\+Register}}
\index{read\+Register@{read\+Register}!B\+M\+E280@{B\+M\+E280}}
\subsubsection{\texorpdfstring{read\+Register()}{readRegister()}}
{\footnotesize\ttfamily uint8\+\_\+t B\+M\+E280\+::read\+Register (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{offset }\end{DoxyParamCaption})}



Definition at line 325 of file Cool\+Spark\+Fun\+B\+M\+E280.\+cpp.


\begin{DoxyCode}
326 \{
327     \textcolor{comment}{//Return value}
328     uint8\_t result;
329     uint8\_t numBytes = 1;
330     \textcolor{keywordflow}{switch} (\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_a5bf116387c543a6ea5732976424e8cb1}{commInterface}) \{
331 
332     \textcolor{keywordflow}{case} \hyperlink{_cool_spark_fun_b_m_e280_8h_a5cd01756030509b764d43a2b8c94fce8}{I2C\_MODE}:
333         Wire.beginTransmission(\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_af8103021dbce7e5ee6d786c4893324f7}{I2CAddress});
334         Wire.write(offset);
335         Wire.endTransmission();
336 
337         Wire.requestFrom(\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_af8103021dbce7e5ee6d786c4893324f7}{I2CAddress}, numBytes);
338         \textcolor{keywordflow}{while} ( Wire.available() ) \textcolor{comment}{// slave may send less than requested}
339         \{
340             result = Wire.read(); \textcolor{comment}{// receive a byte as a proper uint8\_t}
341         \}
342         \textcolor{keywordflow}{break};
343 
344     \textcolor{keywordflow}{case} \hyperlink{_cool_spark_fun_b_m_e280_8h_ab1dcc9464e3fcb94922386e8a7f53f21}{SPI\_MODE}:
345         \textcolor{comment}{// take the chip select low to select the device:}
346         digitalWrite(\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_abe2de606ebb580ad81e3fafb1a454580}{chipSelectPin}, LOW);
347         \textcolor{comment}{// send the device the register you want to read:}
348         SPI.transfer(offset | 0x80);  \textcolor{comment}{//Ored with "read request" bit}
349         \textcolor{comment}{// send a value of 0 to read the first byte returned:}
350         result = SPI.transfer(0x00);
351         \textcolor{comment}{// take the chip select high to de-select:}
352         digitalWrite(\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_abe2de606ebb580ad81e3fafb1a454580}{chipSelectPin}, HIGH);
353         \textcolor{keywordflow}{break};
354 
355     \textcolor{keywordflow}{default}:
356         \textcolor{keywordflow}{break};
357     \}
358     \textcolor{keywordflow}{return} result;
359 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dcf/class_b_m_e280_a1bbd14c8591966df531e40085342ff71_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_b_m_e280_ac43c30f9b321d301694094d6b4bebe7e}\label{class_b_m_e280_ac43c30f9b321d301694094d6b4bebe7e}} 
\index{B\+M\+E280@{B\+M\+E280}!read\+Register\+Int16@{read\+Register\+Int16}}
\index{read\+Register\+Int16@{read\+Register\+Int16}!B\+M\+E280@{B\+M\+E280}}
\subsubsection{\texorpdfstring{read\+Register\+Int16()}{readRegisterInt16()}}
{\footnotesize\ttfamily int16\+\_\+t B\+M\+E280\+::read\+Register\+Int16 (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{offset }\end{DoxyParamCaption})}



Definition at line 361 of file Cool\+Spark\+Fun\+B\+M\+E280.\+cpp.


\begin{DoxyCode}
362 \{
363     uint8\_t myBuffer[2];
364     \hyperlink{class_b_m_e280_aecca87c2c40a7f2bcabcea921bdc6124}{readRegisterRegion}(myBuffer, offset, 2);  \textcolor{comment}{//Does memory transfer}
365     int16\_t output = (int16\_t)myBuffer[0] | int16\_t(myBuffer[1] << 8);
366     
367     \textcolor{keywordflow}{return} output;
368 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dcf/class_b_m_e280_ac43c30f9b321d301694094d6b4bebe7e_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_b_m_e280_aecca87c2c40a7f2bcabcea921bdc6124}\label{class_b_m_e280_aecca87c2c40a7f2bcabcea921bdc6124}} 
\index{B\+M\+E280@{B\+M\+E280}!read\+Register\+Region@{read\+Register\+Region}}
\index{read\+Register\+Region@{read\+Register\+Region}!B\+M\+E280@{B\+M\+E280}}
\subsubsection{\texorpdfstring{read\+Register\+Region()}{readRegisterRegion()}}
{\footnotesize\ttfamily void B\+M\+E280\+::read\+Register\+Region (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{output\+Pointer,  }\item[{uint8\+\_\+t}]{offset,  }\item[{uint8\+\_\+t}]{length }\end{DoxyParamCaption})}



Definition at line 278 of file Cool\+Spark\+Fun\+B\+M\+E280.\+cpp.


\begin{DoxyCode}
279 \{
280     \textcolor{comment}{//define pointer that will point to the external space}
281     uint8\_t i = 0;
282     \textcolor{keywordtype}{char} c = 0;
283 
284     \textcolor{keywordflow}{switch} (\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_a5bf116387c543a6ea5732976424e8cb1}{commInterface})
285     \{
286 
287     \textcolor{keywordflow}{case} \hyperlink{_cool_spark_fun_b_m_e280_8h_a5cd01756030509b764d43a2b8c94fce8}{I2C\_MODE}:
288         Wire.beginTransmission(\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_af8103021dbce7e5ee6d786c4893324f7}{I2CAddress});
289         Wire.write(offset);
290         Wire.endTransmission();
291 
292         \textcolor{comment}{// request bytes from slave device}
293         Wire.requestFrom(\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_af8103021dbce7e5ee6d786c4893324f7}{I2CAddress}, length);
294         \textcolor{keywordflow}{while} ( (Wire.available()) && (i < length))  \textcolor{comment}{// slave may send less than requested}
295         \{
296             c = Wire.read(); \textcolor{comment}{// receive a byte as character}
297             *outputPointer = c;
298             outputPointer++;
299             i++;
300         \}
301         \textcolor{keywordflow}{break};
302 
303     \textcolor{keywordflow}{case} \hyperlink{_cool_spark_fun_b_m_e280_8h_ab1dcc9464e3fcb94922386e8a7f53f21}{SPI\_MODE}:
304         \textcolor{comment}{// take the chip select low to select the device:}
305         digitalWrite(\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_abe2de606ebb580ad81e3fafb1a454580}{chipSelectPin}, LOW);
306         \textcolor{comment}{// send the device the register you want to read:}
307         SPI.transfer(offset | 0x80);  \textcolor{comment}{//Ored with "read request" bit}
308         \textcolor{keywordflow}{while} ( i < length ) \textcolor{comment}{// slave may send less than requested}
309         \{
310             c = SPI.transfer(0x00); \textcolor{comment}{// receive a byte as character}
311             *outputPointer = c;
312             outputPointer++;
313             i++;
314         \}
315         \textcolor{comment}{// take the chip select high to de-select:}
316         digitalWrite(\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_abe2de606ebb580ad81e3fafb1a454580}{chipSelectPin}, HIGH);
317         \textcolor{keywordflow}{break};
318 
319     \textcolor{keywordflow}{default}:
320         \textcolor{keywordflow}{break};
321     \}
322 
323 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dcf/class_b_m_e280_aecca87c2c40a7f2bcabcea921bdc6124_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_b_m_e280_afffdd1d7ded9e1f92200e70669019d97}\label{class_b_m_e280_afffdd1d7ded9e1f92200e70669019d97}} 
\index{B\+M\+E280@{B\+M\+E280}!read\+TempC@{read\+TempC}}
\index{read\+TempC@{read\+TempC}!B\+M\+E280@{B\+M\+E280}}
\subsubsection{\texorpdfstring{read\+Temp\+C()}{readTempC()}}
{\footnotesize\ttfamily float B\+M\+E280\+::read\+TempC (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line 243 of file Cool\+Spark\+Fun\+B\+M\+E280.\+cpp.


\begin{DoxyCode}
244 \{
245     \textcolor{comment}{// Returns temperature in DegC, resolution is 0.01 DegC. Output value of “5123” equals 51.23 DegC.}
246     \textcolor{comment}{// t\_fine carries fine temperature as global value}
247 
248     \textcolor{comment}{//get the reading (adc\_T);}
249     int32\_t adc\_T = ((uint32\_t)\hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(
      \hyperlink{_cool_spark_fun_b_m_e280_8h_a274a08bbc75e1b359aa6c46b50954b33}{BME280\_TEMPERATURE\_MSB\_REG}) << 12) | ((uint32\_t)
      \hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(\hyperlink{_cool_spark_fun_b_m_e280_8h_ab54b428fbb78e70606ce994fcbfbc6aa}{BME280\_TEMPERATURE\_LSB\_REG}) << 4) | ((
      \hyperlink{class_b_m_e280_a1bbd14c8591966df531e40085342ff71}{readRegister}(\hyperlink{_cool_spark_fun_b_m_e280_8h_a1376db91beb753a83dbbd8f1d0716a56}{BME280\_TEMPERATURE\_XLSB\_REG}) >> 4) & 0x0F);
250 
251     \textcolor{comment}{//By datasheet, calibrate}
252     int64\_t var1, var2;
253 
254     var1 = ((((adc\_T>>3) - ((int32\_t)\hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a044a8c40e958b1cda3fb85b95303550e}{dig\_T1}<<1))) * ((int32\_t)
      \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a8f8bb62e10c9bc0decb4463128ccaee5}{dig\_T2})) >> 11;
255     var2 = (((((adc\_T>>4) - ((int32\_t)\hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a044a8c40e958b1cda3fb85b95303550e}{dig\_T1})) * ((adc\_T>>4) - ((int32\_t)
      \hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a044a8c40e958b1cda3fb85b95303550e}{dig\_T1}))) >> 12) *
256     ((int32\_t)\hyperlink{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}{calibration}.\hyperlink{struct_sensor_calibration_a5b134db1776888487855c6b526d130d6}{dig\_T3})) >> 14;
257     \hyperlink{class_b_m_e280_ad20f44914b78395f4d4bc64f4a68b369}{t\_fine} = var1 + var2;
258     \textcolor{keywordtype}{float} output = (\hyperlink{class_b_m_e280_ad20f44914b78395f4d4bc64f4a68b369}{t\_fine} * 5 + 128) >> 8;
259 
260     output = output / 100;
261     
262     \textcolor{keywordflow}{return} output;
263 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=343pt]{df/dcf/class_b_m_e280_afffdd1d7ded9e1f92200e70669019d97_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dcf/class_b_m_e280_afffdd1d7ded9e1f92200e70669019d97_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_b_m_e280_a9648b496f6b4700550782a715a98b3c7}\label{class_b_m_e280_a9648b496f6b4700550782a715a98b3c7}} 
\index{B\+M\+E280@{B\+M\+E280}!read\+TempF@{read\+TempF}}
\index{read\+TempF@{read\+TempF}!B\+M\+E280@{B\+M\+E280}}
\subsubsection{\texorpdfstring{read\+Temp\+F()}{readTempF()}}
{\footnotesize\ttfamily float B\+M\+E280\+::read\+TempF (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line 265 of file Cool\+Spark\+Fun\+B\+M\+E280.\+cpp.


\begin{DoxyCode}
266 \{
267     \textcolor{keywordtype}{float} output = \hyperlink{class_b_m_e280_afffdd1d7ded9e1f92200e70669019d97}{readTempC}();
268     output = (output * 9) / 5 + 32;
269 
270     \textcolor{keywordflow}{return} output;
271 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dcf/class_b_m_e280_a9648b496f6b4700550782a715a98b3c7_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_b_m_e280_aeec5deb6daace6ae390108b4210e9df7}\label{class_b_m_e280_aeec5deb6daace6ae390108b4210e9df7}} 
\index{B\+M\+E280@{B\+M\+E280}!reset@{reset}}
\index{reset@{reset}!B\+M\+E280@{B\+M\+E280}}
\subsubsection{\texorpdfstring{reset()}{reset()}}
{\footnotesize\ttfamily void B\+M\+E280\+::reset (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line 153 of file Cool\+Spark\+Fun\+B\+M\+E280.\+cpp.


\begin{DoxyCode}
154 \{
155     \hyperlink{class_b_m_e280_afcff21c342725246bf415d7f0e4d04f0}{writeRegister}(\hyperlink{_cool_spark_fun_b_m_e280_8h_a58ebcaa8ff137ca7e8704dbfb70dff57}{BME280\_RST\_REG}, 0xB6);
156     
157 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=316pt]{df/dcf/class_b_m_e280_aeec5deb6daace6ae390108b4210e9df7_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_b_m_e280_afcff21c342725246bf415d7f0e4d04f0}\label{class_b_m_e280_afcff21c342725246bf415d7f0e4d04f0}} 
\index{B\+M\+E280@{B\+M\+E280}!write\+Register@{write\+Register}}
\index{write\+Register@{write\+Register}!B\+M\+E280@{B\+M\+E280}}
\subsubsection{\texorpdfstring{write\+Register()}{writeRegister()}}
{\footnotesize\ttfamily void B\+M\+E280\+::write\+Register (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{offset,  }\item[{uint8\+\_\+t}]{data\+To\+Write }\end{DoxyParamCaption})}



Definition at line 370 of file Cool\+Spark\+Fun\+B\+M\+E280.\+cpp.


\begin{DoxyCode}
371 \{
372     \textcolor{keywordflow}{switch} (\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_a5bf116387c543a6ea5732976424e8cb1}{commInterface})
373     \{
374     \textcolor{keywordflow}{case} \hyperlink{_cool_spark_fun_b_m_e280_8h_a5cd01756030509b764d43a2b8c94fce8}{I2C\_MODE}:
375         \textcolor{comment}{//Write the byte}
376         Wire.beginTransmission(\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_af8103021dbce7e5ee6d786c4893324f7}{I2CAddress});
377         Wire.write(offset);
378         Wire.write(dataToWrite);
379         Wire.endTransmission();
380         \textcolor{keywordflow}{break};
381 
382     \textcolor{keywordflow}{case} \hyperlink{_cool_spark_fun_b_m_e280_8h_ab1dcc9464e3fcb94922386e8a7f53f21}{SPI\_MODE}:
383         \textcolor{comment}{// take the chip select low to select the device:}
384         digitalWrite(\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_abe2de606ebb580ad81e3fafb1a454580}{chipSelectPin}, LOW);
385         \textcolor{comment}{// send the device the register you want to read:}
386         SPI.transfer(offset & 0x7F);
387         \textcolor{comment}{// send a value of 0 to read the first byte returned:}
388         SPI.transfer(dataToWrite);
389         \textcolor{comment}{// decrement the number of bytes left to read:}
390         \textcolor{comment}{// take the chip select high to de-select:}
391         digitalWrite(\hyperlink{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}{settings}.\hyperlink{struct_sensor_settings_abe2de606ebb580ad81e3fafb1a454580}{chipSelectPin}, HIGH);
392         \textcolor{keywordflow}{break};
393 
394     \textcolor{keywordflow}{default}:
395         \textcolor{keywordflow}{break};
396     \}
397 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/dcf/class_b_m_e280_afcff21c342725246bf415d7f0e4d04f0_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}\label{class_b_m_e280_aa7a28484b6f5eb6f43261ea25016fbf8}} 
\index{B\+M\+E280@{B\+M\+E280}!calibration@{calibration}}
\index{calibration@{calibration}!B\+M\+E280@{B\+M\+E280}}
\subsubsection{\texorpdfstring{calibration}{calibration}}
{\footnotesize\ttfamily \hyperlink{struct_sensor_calibration}{Sensor\+Calibration} B\+M\+E280\+::calibration}



Definition at line 148 of file Cool\+Spark\+Fun\+B\+M\+E280.\+h.

\mbox{\Hypertarget{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}\label{class_b_m_e280_af06253eb2f8ad4b5fabb858bc4a973bf}} 
\index{B\+M\+E280@{B\+M\+E280}!settings@{settings}}
\index{settings@{settings}!B\+M\+E280@{B\+M\+E280}}
\subsubsection{\texorpdfstring{settings}{settings}}
{\footnotesize\ttfamily \hyperlink{struct_sensor_settings}{Sensor\+Settings} B\+M\+E280\+::settings}



Definition at line 147 of file Cool\+Spark\+Fun\+B\+M\+E280.\+h.

\mbox{\Hypertarget{class_b_m_e280_ad20f44914b78395f4d4bc64f4a68b369}\label{class_b_m_e280_ad20f44914b78395f4d4bc64f4a68b369}} 
\index{B\+M\+E280@{B\+M\+E280}!t\+\_\+fine@{t\+\_\+fine}}
\index{t\+\_\+fine@{t\+\_\+fine}!B\+M\+E280@{B\+M\+E280}}
\subsubsection{\texorpdfstring{t\+\_\+fine}{t\_fine}}
{\footnotesize\ttfamily int32\+\_\+t B\+M\+E280\+::t\+\_\+fine}



Definition at line 149 of file Cool\+Spark\+Fun\+B\+M\+E280.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/src/internals/\hyperlink{_cool_spark_fun_b_m_e280_8h}{Cool\+Spark\+Fun\+B\+M\+E280.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/src/internals/\hyperlink{_cool_spark_fun_b_m_e280_8cpp}{Cool\+Spark\+Fun\+B\+M\+E280.\+cpp}\end{DoxyCompactItemize}
