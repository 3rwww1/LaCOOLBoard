\hypertarget{class_adafruit___a_d_s1015}{}\section{Adafruit\+\_\+\+A\+D\+S1015 Class Reference}
\label{class_adafruit___a_d_s1015}\index{Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}}


{\ttfamily \#include $<$Cool\+Adafruit\+\_\+\+A\+D\+S1015.\+h$>$}



Inheritance diagram for Adafruit\+\_\+\+A\+D\+S1015\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=242pt]{d2/d7a/class_adafruit___a_d_s1015__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for Adafruit\+\_\+\+A\+D\+S1015\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=242pt]{de/d64/class_adafruit___a_d_s1015__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_adafruit___a_d_s1015_a12dfb7b48af1a8e411c59f775c6457ab}{Adafruit\+\_\+\+A\+D\+S1015} (uint8\+\_\+t i2c\+Address=\hyperlink{_cool_adafruit___a_d_s1015_8h_ae55d158023984e8f0ddc80b58d5b30dc}{A\+D\+S1015\+\_\+\+A\+D\+D\+R\+E\+SS})
\begin{DoxyCompactList}\small\item\em Instantiates a new A\+D\+S1015 class w/appropriate properties. \end{DoxyCompactList}\item 
void \hyperlink{class_adafruit___a_d_s1015_a6eba7c3cd854927f60883bb371e5faa6}{begin} (void)
\begin{DoxyCompactList}\small\item\em Sets up the HW (reads coefficients values, etc.) \end{DoxyCompactList}\item 
uint16\+\_\+t \hyperlink{class_adafruit___a_d_s1015_a40f38b9e1f3ec397c0670dd632510235}{read\+A\+D\+C\+\_\+\+Single\+Ended} (uint8\+\_\+t channel)
\begin{DoxyCompactList}\small\item\em Gets a single-\/ended A\+DC reading from the specified channel. \end{DoxyCompactList}\item 
int16\+\_\+t \hyperlink{class_adafruit___a_d_s1015_a56582333958e66efaccd3d4a8a47e3ff}{read\+A\+D\+C\+\_\+\+Differential\+\_\+0\+\_\+1} (void)
\begin{DoxyCompactList}\small\item\em Reads the conversion results, measuring the voltage difference between the P (A\+I\+N0) and N (A\+I\+N1) input. Generates a signed value since the difference can be either positive or negative. \end{DoxyCompactList}\item 
int16\+\_\+t \hyperlink{class_adafruit___a_d_s1015_a38311881bcab46f7496c4bb6e4cad576}{read\+A\+D\+C\+\_\+\+Differential\+\_\+2\+\_\+3} (void)
\begin{DoxyCompactList}\small\item\em Reads the conversion results, measuring the voltage difference between the P (A\+I\+N2) and N (A\+I\+N3) input. Generates a signed value since the difference can be either positive or negative. \end{DoxyCompactList}\item 
void \hyperlink{class_adafruit___a_d_s1015_aecd30775d943ea9d9cff0e3485926596}{start\+Comparator\+\_\+\+Single\+Ended} (uint8\+\_\+t channel, int16\+\_\+t threshold)
\begin{DoxyCompactList}\small\item\em Sets up the comparator to operate in basic mode, causing the A\+L\+E\+R\+T/\+R\+DY pin to assert (go from high to low) when the A\+DC value exceeds the specified threshold. \end{DoxyCompactList}\item 
int16\+\_\+t \hyperlink{class_adafruit___a_d_s1015_ad8f36d80847020778425107f6451a8c2}{get\+Last\+Conversion\+Results} ()
\begin{DoxyCompactList}\small\item\em In order to clear the comparator, we need to read the conversion results. This function reads the last conversion results without changing the config value. \end{DoxyCompactList}\item 
void \hyperlink{class_adafruit___a_d_s1015_a399441eace686975ff22937cbe45cc50}{set\+Gain} (\hyperlink{_cool_adafruit___a_d_s1015_8h_a3d6c0e15829a207b9155890811fa4781}{ads\+Gain\+\_\+t} gain)
\begin{DoxyCompactList}\small\item\em Sets the gain and input voltage range. \end{DoxyCompactList}\item 
\hyperlink{_cool_adafruit___a_d_s1015_8h_a3d6c0e15829a207b9155890811fa4781}{ads\+Gain\+\_\+t} \hyperlink{class_adafruit___a_d_s1015_a6232d089aaa82226bc34623fdf92237c}{get\+Gain} (void)
\begin{DoxyCompactList}\small\item\em Gets a gain and input voltage range. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \hyperlink{class_adafruit___a_d_s1015_a2186993621a7973256d47f086c74035d}{m\+\_\+i2c\+Address}
\item 
uint8\+\_\+t \hyperlink{class_adafruit___a_d_s1015_aa3a29a64a6705fce1fee21d73c642a0e}{m\+\_\+conversion\+Delay}
\item 
uint8\+\_\+t \hyperlink{class_adafruit___a_d_s1015_ab238ce17112a78db2be4ea14d57fb114}{m\+\_\+bit\+Shift}
\item 
\hyperlink{_cool_adafruit___a_d_s1015_8h_a3d6c0e15829a207b9155890811fa4781}{ads\+Gain\+\_\+t} \hyperlink{class_adafruit___a_d_s1015_a8db90fe03d55a18246984ba2ba5e7f32}{m\+\_\+gain}
\end{DoxyCompactItemize}


\subsection{Detailed Description}


Definition at line 119 of file Cool\+Adafruit\+\_\+\+A\+D\+S1015.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_adafruit___a_d_s1015_a12dfb7b48af1a8e411c59f775c6457ab}\label{class_adafruit___a_d_s1015_a12dfb7b48af1a8e411c59f775c6457ab}} 
\index{Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}!Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}}
\index{Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}!Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}}
\subsubsection{\texorpdfstring{Adafruit\+\_\+\+A\+D\+S1015()}{Adafruit\_ADS1015()}}
{\footnotesize\ttfamily Adafruit\+\_\+\+A\+D\+S1015\+::\+Adafruit\+\_\+\+A\+D\+S1015 (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{i2c\+Address = {\ttfamily \hyperlink{_cool_adafruit___a_d_s1015_8h_ae55d158023984e8f0ddc80b58d5b30dc}{A\+D\+S1015\+\_\+\+A\+D\+D\+R\+E\+SS}} }\end{DoxyParamCaption})}



Instantiates a new A\+D\+S1015 class w/appropriate properties. 



Definition at line 88 of file Cool\+Adafruit\+\_\+\+A\+D\+S1015.\+cpp.


\begin{DoxyCode}
89 \{
90    \hyperlink{class_adafruit___a_d_s1015_a2186993621a7973256d47f086c74035d}{m\_i2cAddress} = i2cAddress;
91    \hyperlink{class_adafruit___a_d_s1015_aa3a29a64a6705fce1fee21d73c642a0e}{m\_conversionDelay} = \hyperlink{_cool_adafruit___a_d_s1015_8h_ad8139ae1a3f6d6e2f1873a6fd637e27c}{ADS1015\_CONVERSIONDELAY};
92    \hyperlink{class_adafruit___a_d_s1015_ab238ce17112a78db2be4ea14d57fb114}{m\_bitShift} = 4;
93    \hyperlink{class_adafruit___a_d_s1015_a8db90fe03d55a18246984ba2ba5e7f32}{m\_gain} = \hyperlink{_cool_adafruit___a_d_s1015_8h_a3d6c0e15829a207b9155890811fa4781a879d688347ec0bf159fe1278db602f68}{GAIN\_TWOTHIRDS}; \textcolor{comment}{/* +/- 6.144V range (limited to VDD +0.3V max!) */}
94 \}
\end{DoxyCode}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_adafruit___a_d_s1015_a6eba7c3cd854927f60883bb371e5faa6}\label{class_adafruit___a_d_s1015_a6eba7c3cd854927f60883bb371e5faa6}} 
\index{Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}!begin@{begin}}
\index{begin@{begin}!Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily void Adafruit\+\_\+\+A\+D\+S1015\+::begin (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Sets up the HW (reads coefficients values, etc.) 



Definition at line 114 of file Cool\+Adafruit\+\_\+\+A\+D\+S1015.\+cpp.


\begin{DoxyCode}
114                              \{
115   Wire.begin(2,14);
116 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/df6/class_adafruit___a_d_s1015_a6eba7c3cd854927f60883bb371e5faa6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_adafruit___a_d_s1015_a6232d089aaa82226bc34623fdf92237c}\label{class_adafruit___a_d_s1015_a6232d089aaa82226bc34623fdf92237c}} 
\index{Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}!get\+Gain@{get\+Gain}}
\index{get\+Gain@{get\+Gain}!Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}}
\subsubsection{\texorpdfstring{get\+Gain()}{getGain()}}
{\footnotesize\ttfamily \hyperlink{_cool_adafruit___a_d_s1015_8h_a3d6c0e15829a207b9155890811fa4781}{ads\+Gain\+\_\+t} Adafruit\+\_\+\+A\+D\+S1015\+::get\+Gain (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Gets a gain and input voltage range. 



Definition at line 133 of file Cool\+Adafruit\+\_\+\+A\+D\+S1015.\+cpp.


\begin{DoxyCode}
134 \{
135   \textcolor{keywordflow}{return} \hyperlink{class_adafruit___a_d_s1015_a8db90fe03d55a18246984ba2ba5e7f32}{m\_gain};
136 \}
\end{DoxyCode}
\mbox{\Hypertarget{class_adafruit___a_d_s1015_ad8f36d80847020778425107f6451a8c2}\label{class_adafruit___a_d_s1015_ad8f36d80847020778425107f6451a8c2}} 
\index{Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}!get\+Last\+Conversion\+Results@{get\+Last\+Conversion\+Results}}
\index{get\+Last\+Conversion\+Results@{get\+Last\+Conversion\+Results}!Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}}
\subsubsection{\texorpdfstring{get\+Last\+Conversion\+Results()}{getLastConversionResults()}}
{\footnotesize\ttfamily int16\+\_\+t Adafruit\+\_\+\+A\+D\+S1015\+::get\+Last\+Conversion\+Results (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



In order to clear the comparator, we need to read the conversion results. This function reads the last conversion results without changing the config value. 



Definition at line 348 of file Cool\+Adafruit\+\_\+\+A\+D\+S1015.\+cpp.


\begin{DoxyCode}
349 \{
350   \textcolor{comment}{// Wait for the conversion to complete}
351   delay(\hyperlink{class_adafruit___a_d_s1015_aa3a29a64a6705fce1fee21d73c642a0e}{m\_conversionDelay});
352 
353   \textcolor{comment}{// Read the conversion results}
354   uint16\_t res = \hyperlink{_cool_adafruit___a_d_s1015_8cpp_a319539381b7551b2f83a92b0b596e97d}{readRegister}(\hyperlink{class_adafruit___a_d_s1015_a2186993621a7973256d47f086c74035d}{m\_i2cAddress}, 
      \hyperlink{_cool_adafruit___a_d_s1015_8h_a0f462c806b353bd682fa3c2d67e66622}{ADS1015\_REG\_POINTER\_CONVERT}) >> \hyperlink{class_adafruit___a_d_s1015_ab238ce17112a78db2be4ea14d57fb114}{m\_bitShift};
355   \textcolor{keywordflow}{if} (\hyperlink{class_adafruit___a_d_s1015_ab238ce17112a78db2be4ea14d57fb114}{m\_bitShift} == 0)
356   \{
357     \textcolor{keywordflow}{return} (int16\_t)res;
358   \}
359   \textcolor{keywordflow}{else}
360   \{
361     \textcolor{comment}{// Shift 12-bit results right 4 bits for the ADS1015,}
362     \textcolor{comment}{// making sure we keep the sign bit intact}
363     \textcolor{keywordflow}{if} (res > 0x07FF)
364     \{
365       \textcolor{comment}{// negative number - extend the sign to 16th bit}
366       res |= 0xF000;
367     \}
368     \textcolor{keywordflow}{return} (int16\_t)res;
369   \}
370 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/df6/class_adafruit___a_d_s1015_ad8f36d80847020778425107f6451a8c2_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_adafruit___a_d_s1015_a56582333958e66efaccd3d4a8a47e3ff}\label{class_adafruit___a_d_s1015_a56582333958e66efaccd3d4a8a47e3ff}} 
\index{Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}!read\+A\+D\+C\+\_\+\+Differential\+\_\+0\+\_\+1@{read\+A\+D\+C\+\_\+\+Differential\+\_\+0\+\_\+1}}
\index{read\+A\+D\+C\+\_\+\+Differential\+\_\+0\+\_\+1@{read\+A\+D\+C\+\_\+\+Differential\+\_\+0\+\_\+1}!Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}}
\subsubsection{\texorpdfstring{read\+A\+D\+C\+\_\+\+Differential\+\_\+0\+\_\+1()}{readADC\_Differential\_0\_1()}}
{\footnotesize\ttfamily int16\+\_\+t Adafruit\+\_\+\+A\+D\+S1015\+::read\+A\+D\+C\+\_\+\+Differential\+\_\+0\+\_\+1 (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reads the conversion results, measuring the voltage difference between the P (A\+I\+N0) and N (A\+I\+N1) input. Generates a signed value since the difference can be either positive or negative. 



Definition at line 199 of file Cool\+Adafruit\+\_\+\+A\+D\+S1015.\+cpp.


\begin{DoxyCode}
199                                                    \{
200   \textcolor{comment}{// Start with default values}
201   uint16\_t config = \hyperlink{_cool_adafruit___a_d_s1015_8h_aa52ede69f39daf837bb2ebbe639dbef9}{ADS1015\_REG\_CONFIG\_CQUE\_NONE}    | \textcolor{comment}{// Disable the comparator
       (default val)}
202                     \hyperlink{_cool_adafruit___a_d_s1015_8h_a98757804761f1d945f4cf6ca40e30457}{ADS1015\_REG\_CONFIG\_CLAT\_NONLAT}  | \textcolor{comment}{// Non-latching
       (default val)}
203                     \hyperlink{_cool_adafruit___a_d_s1015_8h_a775f732c7e97574b38858820b96cf771}{ADS1015\_REG\_CONFIG\_CPOL\_ACTVLOW} | \textcolor{comment}{// Alert/Rdy active
       low   (default val)}
204                     \hyperlink{_cool_adafruit___a_d_s1015_8h_afb5240325d7ec757ccad7b098a2b93c3}{ADS1015\_REG\_CONFIG\_CMODE\_TRAD}   | \textcolor{comment}{// Traditional
       comparator (default val)}
205                     \hyperlink{_cool_adafruit___a_d_s1015_8h_aa4665026711a8587430d9235dbc4ccf0}{ADS1015\_REG\_CONFIG\_DR\_1600SPS}   | \textcolor{comment}{// 1600 samples per
       second (default)}
206                     \hyperlink{_cool_adafruit___a_d_s1015_8h_a50168c1821f075b7296745be1d4d346f}{ADS1015\_REG\_CONFIG\_MODE\_SINGLE};   \textcolor{comment}{// Single-shot mode
       (default)}
207 
208   \textcolor{comment}{// Set PGA/voltage range}
209   config |= \hyperlink{class_adafruit___a_d_s1015_a8db90fe03d55a18246984ba2ba5e7f32}{m\_gain};
210                     
211   \textcolor{comment}{// Set channels}
212   config |= \hyperlink{_cool_adafruit___a_d_s1015_8h_a7db34e6ba1050094aa2f5895594fa473}{ADS1015\_REG\_CONFIG\_MUX\_DIFF\_0\_1};          \textcolor{comment}{// AIN0 = P, AIN1 = N}
213 
214   \textcolor{comment}{// Set 'start single-conversion' bit}
215   config |= \hyperlink{_cool_adafruit___a_d_s1015_8h_a13f4550d061699b1cf4bd49520fc4a9c}{ADS1015\_REG\_CONFIG\_OS\_SINGLE};
216 
217   \textcolor{comment}{// Write config register to the ADC}
218   \hyperlink{_cool_adafruit___a_d_s1015_8cpp_a00ef55774dfb93dd0a7bf561d8451b71}{writeRegister}(\hyperlink{class_adafruit___a_d_s1015_a2186993621a7973256d47f086c74035d}{m\_i2cAddress}, 
      \hyperlink{_cool_adafruit___a_d_s1015_8h_ab9abb781632542a0e7d8b058292f26b1}{ADS1015\_REG\_POINTER\_CONFIG}, config);
219 
220   \textcolor{comment}{// Wait for the conversion to complete}
221   delay(\hyperlink{class_adafruit___a_d_s1015_aa3a29a64a6705fce1fee21d73c642a0e}{m\_conversionDelay});
222 
223   \textcolor{comment}{// Read the conversion results}
224   uint16\_t res = \hyperlink{_cool_adafruit___a_d_s1015_8cpp_a319539381b7551b2f83a92b0b596e97d}{readRegister}(\hyperlink{class_adafruit___a_d_s1015_a2186993621a7973256d47f086c74035d}{m\_i2cAddress}, 
      \hyperlink{_cool_adafruit___a_d_s1015_8h_a0f462c806b353bd682fa3c2d67e66622}{ADS1015\_REG\_POINTER\_CONVERT}) >> \hyperlink{class_adafruit___a_d_s1015_ab238ce17112a78db2be4ea14d57fb114}{m\_bitShift};
225   \textcolor{keywordflow}{if} (\hyperlink{class_adafruit___a_d_s1015_ab238ce17112a78db2be4ea14d57fb114}{m\_bitShift} == 0)
226   \{
227     \textcolor{keywordflow}{return} (int16\_t)res;
228   \}
229   \textcolor{keywordflow}{else}
230   \{
231     \textcolor{comment}{// Shift 12-bit results right 4 bits for the ADS1015,}
232     \textcolor{comment}{// making sure we keep the sign bit intact}
233     \textcolor{keywordflow}{if} (res > 0x07FF)
234     \{
235       \textcolor{comment}{// negative number - extend the sign to 16th bit}
236       res |= 0xF000;
237     \}
238     \textcolor{keywordflow}{return} (int16\_t)res;
239   \}
240 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/df6/class_adafruit___a_d_s1015_a56582333958e66efaccd3d4a8a47e3ff_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_adafruit___a_d_s1015_a38311881bcab46f7496c4bb6e4cad576}\label{class_adafruit___a_d_s1015_a38311881bcab46f7496c4bb6e4cad576}} 
\index{Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}!read\+A\+D\+C\+\_\+\+Differential\+\_\+2\+\_\+3@{read\+A\+D\+C\+\_\+\+Differential\+\_\+2\+\_\+3}}
\index{read\+A\+D\+C\+\_\+\+Differential\+\_\+2\+\_\+3@{read\+A\+D\+C\+\_\+\+Differential\+\_\+2\+\_\+3}!Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}}
\subsubsection{\texorpdfstring{read\+A\+D\+C\+\_\+\+Differential\+\_\+2\+\_\+3()}{readADC\_Differential\_2\_3()}}
{\footnotesize\ttfamily int16\+\_\+t Adafruit\+\_\+\+A\+D\+S1015\+::read\+A\+D\+C\+\_\+\+Differential\+\_\+2\+\_\+3 (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Reads the conversion results, measuring the voltage difference between the P (A\+I\+N2) and N (A\+I\+N3) input. Generates a signed value since the difference can be either positive or negative. 



Definition at line 250 of file Cool\+Adafruit\+\_\+\+A\+D\+S1015.\+cpp.


\begin{DoxyCode}
250                                                    \{
251   \textcolor{comment}{// Start with default values}
252   uint16\_t config = \hyperlink{_cool_adafruit___a_d_s1015_8h_aa52ede69f39daf837bb2ebbe639dbef9}{ADS1015\_REG\_CONFIG\_CQUE\_NONE}    | \textcolor{comment}{// Disable the comparator
       (default val)}
253                     \hyperlink{_cool_adafruit___a_d_s1015_8h_a98757804761f1d945f4cf6ca40e30457}{ADS1015\_REG\_CONFIG\_CLAT\_NONLAT}  | \textcolor{comment}{// Non-latching
       (default val)}
254                     \hyperlink{_cool_adafruit___a_d_s1015_8h_a775f732c7e97574b38858820b96cf771}{ADS1015\_REG\_CONFIG\_CPOL\_ACTVLOW} | \textcolor{comment}{// Alert/Rdy active
       low   (default val)}
255                     \hyperlink{_cool_adafruit___a_d_s1015_8h_afb5240325d7ec757ccad7b098a2b93c3}{ADS1015\_REG\_CONFIG\_CMODE\_TRAD}   | \textcolor{comment}{// Traditional
       comparator (default val)}
256                     \hyperlink{_cool_adafruit___a_d_s1015_8h_aa4665026711a8587430d9235dbc4ccf0}{ADS1015\_REG\_CONFIG\_DR\_1600SPS}   | \textcolor{comment}{// 1600 samples per
       second (default)}
257                     \hyperlink{_cool_adafruit___a_d_s1015_8h_a50168c1821f075b7296745be1d4d346f}{ADS1015\_REG\_CONFIG\_MODE\_SINGLE};   \textcolor{comment}{// Single-shot mode
       (default)}
258 
259   \textcolor{comment}{// Set PGA/voltage range}
260   config |= \hyperlink{class_adafruit___a_d_s1015_a8db90fe03d55a18246984ba2ba5e7f32}{m\_gain};
261 
262   \textcolor{comment}{// Set channels}
263   config |= \hyperlink{_cool_adafruit___a_d_s1015_8h_a438ac41e1655d0c8e10a62b36d803696}{ADS1015\_REG\_CONFIG\_MUX\_DIFF\_2\_3};          \textcolor{comment}{// AIN2 = P, AIN3 = N}
264 
265   \textcolor{comment}{// Set 'start single-conversion' bit}
266   config |= \hyperlink{_cool_adafruit___a_d_s1015_8h_a13f4550d061699b1cf4bd49520fc4a9c}{ADS1015\_REG\_CONFIG\_OS\_SINGLE};
267 
268   \textcolor{comment}{// Write config register to the ADC}
269   \hyperlink{_cool_adafruit___a_d_s1015_8cpp_a00ef55774dfb93dd0a7bf561d8451b71}{writeRegister}(\hyperlink{class_adafruit___a_d_s1015_a2186993621a7973256d47f086c74035d}{m\_i2cAddress}, 
      \hyperlink{_cool_adafruit___a_d_s1015_8h_ab9abb781632542a0e7d8b058292f26b1}{ADS1015\_REG\_POINTER\_CONFIG}, config);
270 
271   \textcolor{comment}{// Wait for the conversion to complete}
272   delay(\hyperlink{class_adafruit___a_d_s1015_aa3a29a64a6705fce1fee21d73c642a0e}{m\_conversionDelay});
273 
274   \textcolor{comment}{// Read the conversion results}
275   uint16\_t res = \hyperlink{_cool_adafruit___a_d_s1015_8cpp_a319539381b7551b2f83a92b0b596e97d}{readRegister}(\hyperlink{class_adafruit___a_d_s1015_a2186993621a7973256d47f086c74035d}{m\_i2cAddress}, 
      \hyperlink{_cool_adafruit___a_d_s1015_8h_a0f462c806b353bd682fa3c2d67e66622}{ADS1015\_REG\_POINTER\_CONVERT}) >> \hyperlink{class_adafruit___a_d_s1015_ab238ce17112a78db2be4ea14d57fb114}{m\_bitShift};
276   \textcolor{keywordflow}{if} (\hyperlink{class_adafruit___a_d_s1015_ab238ce17112a78db2be4ea14d57fb114}{m\_bitShift} == 0)
277   \{
278     \textcolor{keywordflow}{return} (int16\_t)res;
279   \}
280   \textcolor{keywordflow}{else}
281   \{
282     \textcolor{comment}{// Shift 12-bit results right 4 bits for the ADS1015,}
283     \textcolor{comment}{// making sure we keep the sign bit intact}
284     \textcolor{keywordflow}{if} (res > 0x07FF)
285     \{
286       \textcolor{comment}{// negative number - extend the sign to 16th bit}
287       res |= 0xF000;
288     \}
289     \textcolor{keywordflow}{return} (int16\_t)res;
290   \}
291 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/df6/class_adafruit___a_d_s1015_a38311881bcab46f7496c4bb6e4cad576_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_adafruit___a_d_s1015_a40f38b9e1f3ec397c0670dd632510235}\label{class_adafruit___a_d_s1015_a40f38b9e1f3ec397c0670dd632510235}} 
\index{Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}!read\+A\+D\+C\+\_\+\+Single\+Ended@{read\+A\+D\+C\+\_\+\+Single\+Ended}}
\index{read\+A\+D\+C\+\_\+\+Single\+Ended@{read\+A\+D\+C\+\_\+\+Single\+Ended}!Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}}
\subsubsection{\texorpdfstring{read\+A\+D\+C\+\_\+\+Single\+Ended()}{readADC\_SingleEnded()}}
{\footnotesize\ttfamily uint16\+\_\+t Adafruit\+\_\+\+A\+D\+S1015\+::read\+A\+D\+C\+\_\+\+Single\+Ended (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{channel }\end{DoxyParamCaption})}



Gets a single-\/ended A\+DC reading from the specified channel. 



Definition at line 143 of file Cool\+Adafruit\+\_\+\+A\+D\+S1015.\+cpp.


\begin{DoxyCode}
143                                                               \{
144   \textcolor{keywordflow}{if} (channel > 3)
145   \{
146     \textcolor{keywordflow}{return} 0;
147   \}
148   
149   \textcolor{comment}{// Start with default values}
150   uint16\_t config = \hyperlink{_cool_adafruit___a_d_s1015_8h_aa52ede69f39daf837bb2ebbe639dbef9}{ADS1015\_REG\_CONFIG\_CQUE\_NONE}    | \textcolor{comment}{// Disable the comparator
       (default val)}
151                     \hyperlink{_cool_adafruit___a_d_s1015_8h_a98757804761f1d945f4cf6ca40e30457}{ADS1015\_REG\_CONFIG\_CLAT\_NONLAT}  | \textcolor{comment}{// Non-latching
       (default val)}
152                     \hyperlink{_cool_adafruit___a_d_s1015_8h_a775f732c7e97574b38858820b96cf771}{ADS1015\_REG\_CONFIG\_CPOL\_ACTVLOW} | \textcolor{comment}{// Alert/Rdy active
       low   (default val)}
153                     \hyperlink{_cool_adafruit___a_d_s1015_8h_afb5240325d7ec757ccad7b098a2b93c3}{ADS1015\_REG\_CONFIG\_CMODE\_TRAD}   | \textcolor{comment}{// Traditional
       comparator (default val)}
154                     \hyperlink{_cool_adafruit___a_d_s1015_8h_aa4665026711a8587430d9235dbc4ccf0}{ADS1015\_REG\_CONFIG\_DR\_1600SPS}   | \textcolor{comment}{// 1600 samples per
       second (default)}
155                     \hyperlink{_cool_adafruit___a_d_s1015_8h_a50168c1821f075b7296745be1d4d346f}{ADS1015\_REG\_CONFIG\_MODE\_SINGLE};   \textcolor{comment}{// Single-shot mode
       (default)}
156 
157   \textcolor{comment}{// Set PGA/voltage range}
158   config |= \hyperlink{class_adafruit___a_d_s1015_a8db90fe03d55a18246984ba2ba5e7f32}{m\_gain};
159 
160   \textcolor{comment}{// Set single-ended input channel}
161   \textcolor{keywordflow}{switch} (channel)
162   \{
163     \textcolor{keywordflow}{case} (0):
164       config |= \hyperlink{_cool_adafruit___a_d_s1015_8h_a95d034ea82362b3f6573492209aac4f2}{ADS1015\_REG\_CONFIG\_MUX\_SINGLE\_0};
165       \textcolor{keywordflow}{break};
166     \textcolor{keywordflow}{case} (1):
167       config |= \hyperlink{_cool_adafruit___a_d_s1015_8h_a2db511c8817fda53e31b5d1f72601909}{ADS1015\_REG\_CONFIG\_MUX\_SINGLE\_1};
168       \textcolor{keywordflow}{break};
169     \textcolor{keywordflow}{case} (2):
170       config |= \hyperlink{_cool_adafruit___a_d_s1015_8h_ae31fb46fbe9801ae7bb9210e88b7162d}{ADS1015\_REG\_CONFIG\_MUX\_SINGLE\_2};
171       \textcolor{keywordflow}{break};
172     \textcolor{keywordflow}{case} (3):
173       config |= \hyperlink{_cool_adafruit___a_d_s1015_8h_a9cb6f8bf1d45341e508cece5bcbc7841}{ADS1015\_REG\_CONFIG\_MUX\_SINGLE\_3};
174       \textcolor{keywordflow}{break};
175   \}
176 
177   \textcolor{comment}{// Set 'start single-conversion' bit}
178   config |= \hyperlink{_cool_adafruit___a_d_s1015_8h_a13f4550d061699b1cf4bd49520fc4a9c}{ADS1015\_REG\_CONFIG\_OS\_SINGLE};
179 
180   \textcolor{comment}{// Write config register to the ADC}
181   \hyperlink{_cool_adafruit___a_d_s1015_8cpp_a00ef55774dfb93dd0a7bf561d8451b71}{writeRegister}(\hyperlink{class_adafruit___a_d_s1015_a2186993621a7973256d47f086c74035d}{m\_i2cAddress}, 
      \hyperlink{_cool_adafruit___a_d_s1015_8h_ab9abb781632542a0e7d8b058292f26b1}{ADS1015\_REG\_POINTER\_CONFIG}, config);
182 
183   \textcolor{comment}{// Wait for the conversion to complete}
184   delay(\hyperlink{class_adafruit___a_d_s1015_aa3a29a64a6705fce1fee21d73c642a0e}{m\_conversionDelay});
185 
186   \textcolor{comment}{// Read the conversion results}
187   \textcolor{comment}{// Shift 12-bit results right 4 bits for the ADS1015}
188   \textcolor{keywordflow}{return} \hyperlink{_cool_adafruit___a_d_s1015_8cpp_a319539381b7551b2f83a92b0b596e97d}{readRegister}(\hyperlink{class_adafruit___a_d_s1015_a2186993621a7973256d47f086c74035d}{m\_i2cAddress}, 
      \hyperlink{_cool_adafruit___a_d_s1015_8h_a0f462c806b353bd682fa3c2d67e66622}{ADS1015\_REG\_POINTER\_CONVERT}) >> \hyperlink{class_adafruit___a_d_s1015_ab238ce17112a78db2be4ea14d57fb114}{m\_bitShift};  
189 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/df6/class_adafruit___a_d_s1015_a40f38b9e1f3ec397c0670dd632510235_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/df6/class_adafruit___a_d_s1015_a40f38b9e1f3ec397c0670dd632510235_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_adafruit___a_d_s1015_a399441eace686975ff22937cbe45cc50}\label{class_adafruit___a_d_s1015_a399441eace686975ff22937cbe45cc50}} 
\index{Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}!set\+Gain@{set\+Gain}}
\index{set\+Gain@{set\+Gain}!Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}}
\subsubsection{\texorpdfstring{set\+Gain()}{setGain()}}
{\footnotesize\ttfamily void Adafruit\+\_\+\+A\+D\+S1015\+::set\+Gain (\begin{DoxyParamCaption}\item[{\hyperlink{_cool_adafruit___a_d_s1015_8h_a3d6c0e15829a207b9155890811fa4781}{ads\+Gain\+\_\+t}}]{gain }\end{DoxyParamCaption})}



Sets the gain and input voltage range. 



Definition at line 123 of file Cool\+Adafruit\+\_\+\+A\+D\+S1015.\+cpp.


\begin{DoxyCode}
124 \{
125   \hyperlink{class_adafruit___a_d_s1015_a8db90fe03d55a18246984ba2ba5e7f32}{m\_gain} = gain;
126 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/df6/class_adafruit___a_d_s1015_a399441eace686975ff22937cbe45cc50_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_adafruit___a_d_s1015_aecd30775d943ea9d9cff0e3485926596}\label{class_adafruit___a_d_s1015_aecd30775d943ea9d9cff0e3485926596}} 
\index{Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}!start\+Comparator\+\_\+\+Single\+Ended@{start\+Comparator\+\_\+\+Single\+Ended}}
\index{start\+Comparator\+\_\+\+Single\+Ended@{start\+Comparator\+\_\+\+Single\+Ended}!Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}}
\subsubsection{\texorpdfstring{start\+Comparator\+\_\+\+Single\+Ended()}{startComparator\_SingleEnded()}}
{\footnotesize\ttfamily void Adafruit\+\_\+\+A\+D\+S1015\+::start\+Comparator\+\_\+\+Single\+Ended (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{channel,  }\item[{int16\+\_\+t}]{threshold }\end{DoxyParamCaption})}



Sets up the comparator to operate in basic mode, causing the A\+L\+E\+R\+T/\+R\+DY pin to assert (go from high to low) when the A\+DC value exceeds the specified threshold. 

This will also set the A\+DC in continuous conversion mode. 

Definition at line 302 of file Cool\+Adafruit\+\_\+\+A\+D\+S1015.\+cpp.


\begin{DoxyCode}
303 \{
304   \textcolor{comment}{// Start with default values}
305   uint16\_t config = \hyperlink{_cool_adafruit___a_d_s1015_8h_a4889b7e8a019906eb7c2670ec2466917}{ADS1015\_REG\_CONFIG\_CQUE\_1CONV}   | \textcolor{comment}{// Comparator enabled
       and asserts on 1 match}
306                     \hyperlink{_cool_adafruit___a_d_s1015_8h_af7f9528dd1aee135afad4c44d771b9f6}{ADS1015\_REG\_CONFIG\_CLAT\_LATCH}   | \textcolor{comment}{// Latching mode}
307                     \hyperlink{_cool_adafruit___a_d_s1015_8h_a775f732c7e97574b38858820b96cf771}{ADS1015\_REG\_CONFIG\_CPOL\_ACTVLOW} | \textcolor{comment}{// Alert/Rdy active
       low   (default val)}
308                     \hyperlink{_cool_adafruit___a_d_s1015_8h_afb5240325d7ec757ccad7b098a2b93c3}{ADS1015\_REG\_CONFIG\_CMODE\_TRAD}   | \textcolor{comment}{// Traditional
       comparator (default val)}
309                     \hyperlink{_cool_adafruit___a_d_s1015_8h_aa4665026711a8587430d9235dbc4ccf0}{ADS1015\_REG\_CONFIG\_DR\_1600SPS}   | \textcolor{comment}{// 1600 samples per
       second (default)}
310                     \hyperlink{_cool_adafruit___a_d_s1015_8h_afbb1b96a1b61fae1301ed075330d3a20}{ADS1015\_REG\_CONFIG\_MODE\_CONTIN}  | \textcolor{comment}{// Continuous
       conversion mode}
311                     \hyperlink{_cool_adafruit___a_d_s1015_8h_afbb1b96a1b61fae1301ed075330d3a20}{ADS1015\_REG\_CONFIG\_MODE\_CONTIN};   \textcolor{comment}{// Continuous
       conversion mode}
312 
313   \textcolor{comment}{// Set PGA/voltage range}
314   config |= \hyperlink{class_adafruit___a_d_s1015_a8db90fe03d55a18246984ba2ba5e7f32}{m\_gain};
315                     
316   \textcolor{comment}{// Set single-ended input channel}
317   \textcolor{keywordflow}{switch} (channel)
318   \{
319     \textcolor{keywordflow}{case} (0):
320       config |= \hyperlink{_cool_adafruit___a_d_s1015_8h_a95d034ea82362b3f6573492209aac4f2}{ADS1015\_REG\_CONFIG\_MUX\_SINGLE\_0};
321       \textcolor{keywordflow}{break};
322     \textcolor{keywordflow}{case} (1):
323       config |= \hyperlink{_cool_adafruit___a_d_s1015_8h_a2db511c8817fda53e31b5d1f72601909}{ADS1015\_REG\_CONFIG\_MUX\_SINGLE\_1};
324       \textcolor{keywordflow}{break};
325     \textcolor{keywordflow}{case} (2):
326       config |= \hyperlink{_cool_adafruit___a_d_s1015_8h_ae31fb46fbe9801ae7bb9210e88b7162d}{ADS1015\_REG\_CONFIG\_MUX\_SINGLE\_2};
327       \textcolor{keywordflow}{break};
328     \textcolor{keywordflow}{case} (3):
329       config |= \hyperlink{_cool_adafruit___a_d_s1015_8h_a9cb6f8bf1d45341e508cece5bcbc7841}{ADS1015\_REG\_CONFIG\_MUX\_SINGLE\_3};
330       \textcolor{keywordflow}{break};
331   \}
332 
333   \textcolor{comment}{// Set the high threshold register}
334   \textcolor{comment}{// Shift 12-bit results left 4 bits for the ADS1015}
335   \hyperlink{_cool_adafruit___a_d_s1015_8cpp_a00ef55774dfb93dd0a7bf561d8451b71}{writeRegister}(\hyperlink{class_adafruit___a_d_s1015_a2186993621a7973256d47f086c74035d}{m\_i2cAddress}, 
      \hyperlink{_cool_adafruit___a_d_s1015_8h_a89000549c6dfe50337c7962b7b3677cb}{ADS1015\_REG\_POINTER\_HITHRESH}, threshold << 
      \hyperlink{class_adafruit___a_d_s1015_ab238ce17112a78db2be4ea14d57fb114}{m\_bitShift});
336 
337   \textcolor{comment}{// Write config register to the ADC}
338   \hyperlink{_cool_adafruit___a_d_s1015_8cpp_a00ef55774dfb93dd0a7bf561d8451b71}{writeRegister}(\hyperlink{class_adafruit___a_d_s1015_a2186993621a7973256d47f086c74035d}{m\_i2cAddress}, 
      \hyperlink{_cool_adafruit___a_d_s1015_8h_ab9abb781632542a0e7d8b058292f26b1}{ADS1015\_REG\_POINTER\_CONFIG}, config);
339 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/df6/class_adafruit___a_d_s1015_aecd30775d943ea9d9cff0e3485926596_cgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_adafruit___a_d_s1015_ab238ce17112a78db2be4ea14d57fb114}\label{class_adafruit___a_d_s1015_ab238ce17112a78db2be4ea14d57fb114}} 
\index{Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}!m\+\_\+bit\+Shift@{m\+\_\+bit\+Shift}}
\index{m\+\_\+bit\+Shift@{m\+\_\+bit\+Shift}!Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}}
\subsubsection{\texorpdfstring{m\+\_\+bit\+Shift}{m\_bitShift}}
{\footnotesize\ttfamily uint8\+\_\+t Adafruit\+\_\+\+A\+D\+S1015\+::m\+\_\+bit\+Shift\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 125 of file Cool\+Adafruit\+\_\+\+A\+D\+S1015.\+h.

\mbox{\Hypertarget{class_adafruit___a_d_s1015_aa3a29a64a6705fce1fee21d73c642a0e}\label{class_adafruit___a_d_s1015_aa3a29a64a6705fce1fee21d73c642a0e}} 
\index{Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}!m\+\_\+conversion\+Delay@{m\+\_\+conversion\+Delay}}
\index{m\+\_\+conversion\+Delay@{m\+\_\+conversion\+Delay}!Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}}
\subsubsection{\texorpdfstring{m\+\_\+conversion\+Delay}{m\_conversionDelay}}
{\footnotesize\ttfamily uint8\+\_\+t Adafruit\+\_\+\+A\+D\+S1015\+::m\+\_\+conversion\+Delay\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 124 of file Cool\+Adafruit\+\_\+\+A\+D\+S1015.\+h.

\mbox{\Hypertarget{class_adafruit___a_d_s1015_a8db90fe03d55a18246984ba2ba5e7f32}\label{class_adafruit___a_d_s1015_a8db90fe03d55a18246984ba2ba5e7f32}} 
\index{Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}!m\+\_\+gain@{m\+\_\+gain}}
\index{m\+\_\+gain@{m\+\_\+gain}!Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}}
\subsubsection{\texorpdfstring{m\+\_\+gain}{m\_gain}}
{\footnotesize\ttfamily \hyperlink{_cool_adafruit___a_d_s1015_8h_a3d6c0e15829a207b9155890811fa4781}{ads\+Gain\+\_\+t} Adafruit\+\_\+\+A\+D\+S1015\+::m\+\_\+gain\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 126 of file Cool\+Adafruit\+\_\+\+A\+D\+S1015.\+h.

\mbox{\Hypertarget{class_adafruit___a_d_s1015_a2186993621a7973256d47f086c74035d}\label{class_adafruit___a_d_s1015_a2186993621a7973256d47f086c74035d}} 
\index{Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}!m\+\_\+i2c\+Address@{m\+\_\+i2c\+Address}}
\index{m\+\_\+i2c\+Address@{m\+\_\+i2c\+Address}!Adafruit\+\_\+\+A\+D\+S1015@{Adafruit\+\_\+\+A\+D\+S1015}}
\subsubsection{\texorpdfstring{m\+\_\+i2c\+Address}{m\_i2cAddress}}
{\footnotesize\ttfamily uint8\+\_\+t Adafruit\+\_\+\+A\+D\+S1015\+::m\+\_\+i2c\+Address\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 123 of file Cool\+Adafruit\+\_\+\+A\+D\+S1015.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/src/internals/\hyperlink{_cool_adafruit___a_d_s1015_8h}{Cool\+Adafruit\+\_\+\+A\+D\+S1015.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/src/internals/\hyperlink{_cool_adafruit___a_d_s1015_8cpp}{Cool\+Adafruit\+\_\+\+A\+D\+S1015.\+cpp}\end{DoxyCompactItemize}
