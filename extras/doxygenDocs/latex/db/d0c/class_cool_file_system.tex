\hypertarget{class_cool_file_system}{}\section{Cool\+File\+System Class Reference}
\label{class_cool_file_system}\index{Cool\+File\+System@{Cool\+File\+System}}


This class handles the file system.  




{\ttfamily \#include $<$Cool\+File\+System.\+h$>$}



Collaboration diagram for Cool\+File\+System\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=205pt]{d0/d8f/class_cool_file_system__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{class_cool_file_system_a6ba6f666ed4c530174f8569d2c636748}{begin} ()
\item 
bool \hyperlink{class_cool_file_system_adfa8e2e80641ae6f0cceabd348a9b841}{update\+Config\+Files} (String answer)
\item 
bool \hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{file\+Update} (String update, const char $\ast$path)
\item 
bool \hyperlink{class_cool_file_system_afa3a4feae94871d4d3b6bebb701c2e67}{save\+Sensor\+Data} (const char $\ast$data)
\item 
bool \hyperlink{class_cool_file_system_ab78704d5d21ce10fc6f1138ab5ab46c8}{save\+Sensor\+Data\+C\+SV} (const char $\ast$data)
\item 
int \hyperlink{class_cool_file_system_ac86a40e7c3a1842f7342f698d34324f9}{is\+Data\+Saved} ()
\item 
String $\ast$ \hyperlink{class_cool_file_system_a3223ffff4266a6300988fab956d6b4b2}{get\+Sensor\+Saved\+Data} (int \&size)
\item 
bool \hyperlink{class_cool_file_system_aae045125288f255f3e258073dcada2a6}{incrementsaved\+Data} ()
\item 
void \hyperlink{class_cool_file_system_a70701d05e811604af1b531f4f6dc69ed}{getsaved\+Data} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{saved\+Data} =0
\item 
int \hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{lines\+To\+Skip} =0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class handles the file system. 

Definition at line 23 of file Cool\+File\+System.\+h.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_cool_file_system_a6ba6f666ed4c530174f8569d2c636748}\label{class_cool_file_system_a6ba6f666ed4c530174f8569d2c636748}} 
\index{Cool\+File\+System@{Cool\+File\+System}!begin@{begin}}
\index{begin@{begin}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::begin (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{class_cool_file_system_a6ba6f666ed4c530174f8569d2c636748}{Cool\+File\+System\+::begin()}\+: This method is provided to start the S\+P\+I\+F\+FS object.

\begin{DoxyReturn}{Returns}
true if S\+P\+I\+F\+FS was initialized correctly, false otherwise 
\end{DoxyReturn}


Definition at line 27 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
28 \{
29     \textcolor{keywordtype}{bool} sResult=SPIFFS.begin();
30     
31 
32 \textcolor{preprocessor}{#if DEBUG == 1}
33 
34     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.begin()"}) );
35     Serial.println();   
36     Serial.print( F(\textcolor{stringliteral}{"SPIFFS success ? "}) );
37     Serial.println(sResult);
38     Serial.println(  );
39 
40 \textcolor{preprocessor}{#endif}
41     \textcolor{comment}{//get the data from the files}
42     this->\hyperlink{class_cool_file_system_a70701d05e811604af1b531f4f6dc69ed}{getsavedData}();
43 
44     \textcolor{keywordflow}{return}( sResult  );                                   \textcolor{comment}{//Initialize Filesystem}
45 
46 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_a6ba6f666ed4c530174f8569d2c636748_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=327pt]{db/d0c/class_cool_file_system_a6ba6f666ed4c530174f8569d2c636748_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}\label{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}} 
\index{Cool\+File\+System@{Cool\+File\+System}!file\+Update@{file\+Update}}
\index{file\+Update@{file\+Update}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{file\+Update()}{fileUpdate()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::file\+Update (\begin{DoxyParamCaption}\item[{String}]{update,  }\item[{const char $\ast$}]{path }\end{DoxyParamCaption})}

Cool\+File\+System\+::file\+Update( update msg, file path)\+: This method is provided to ensure the correct update for each configuration file in the File system

\begin{DoxyReturn}{Returns}
true if successful , false otherwise 
\end{DoxyReturn}


Definition at line 950 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
951 \{
952 
953 \textcolor{preprocessor}{#if DEBUG == 1}
954 
955     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.fileUpdate()"}) );
956     Serial.println();
957     
958     Serial.println(F(\textcolor{stringliteral}{"update msg is :"}));
959     Serial.println(update);
960     
961     Serial.println(F(\textcolor{stringliteral}{"file path is : "}));
962     Serial.println(path);   
963 
964 \textcolor{preprocessor}{#endif}
965     \textcolor{comment}{//transfer update String to json}
966     DynamicJsonBuffer updateBuffer;
967     JsonObject& updateJson = updateBuffer.parseObject(update.c\_str() );
968     
969     \textcolor{keywordflow}{if}(updateJson.success())
970     \{
971     
972 \textcolor{preprocessor}{    #if DEBUG ==1}
973         
974         Serial.println(F(\textcolor{stringliteral}{"root parsing success :"}));
975         updateJson.printTo(Serial);
976     
977 \textcolor{preprocessor}{    #endif}
978 
979     \}
980     \textcolor{keywordflow}{else}
981     \{
982     
983 \textcolor{preprocessor}{    #if DEBUG == 1 }
984     
985         Serial.println(F(\textcolor{stringliteral}{"root parsing failure "}));
986     
987 \textcolor{preprocessor}{    #endif}
988         
989         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});  
990 
991     \}
992     
993     \textcolor{comment}{//open file in read mode}
994     File configFile = SPIFFS.open( path , \textcolor{stringliteral}{"r"});
995     
996     \textcolor{keywordflow}{if}(!configFile)
997     \{   
998 \textcolor{preprocessor}{    #if DEBUG == 1}
999         
1000         Serial.print( F(\textcolor{stringliteral}{"failed to read "}) );
1001         Serial.println(path);
1002 
1003 \textcolor{preprocessor}{    #endif}
1004         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
1005     \}
1006 
1007     \textcolor{comment}{//copy file to a json}
1008     \textcolor{keywordtype}{size\_t} size = configFile.size();
1009 
1010     \textcolor{comment}{// Allocate a buffer to store contents of the file.}
1011     std::unique\_ptr < char[] > buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
1012 
1013     configFile.readBytes(buf.get(), size);
1014 
1015     DynamicJsonBuffer fileBuffer;
1016 
1017     JsonObject & fileJson = fileBuffer.parseObject(buf.get());
1018 
1019     \textcolor{keywordflow}{if} (!fileJson.success())
1020     \{
1021 
1022 \textcolor{preprocessor}{    #if DEBUG == 1}
1023 
1024         Serial.println( F(\textcolor{stringliteral}{"failed to parse json"}) );
1025 
1026 \textcolor{preprocessor}{    #endif}
1027 
1028         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
1029     \}
1030     
1031     \textcolor{comment}{//modify root to contain all the json keys: updated ones and non updated ones}
1032     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} kv : fileJson) 
1033     \{
1034         \textcolor{keywordflow}{if}( updateJson[kv.key].success() )
1035         \{
1036             fileJson[kv.key]=updateJson[kv.key];            
1037         \}
1038         \textcolor{keywordflow}{else}
1039         \{
1040             fileJson[kv.key]=fileJson[kv.key];
1041         \}
1042 
1043                 
1044     \}
1045 
1046 \textcolor{preprocessor}{#if DEBUG == 1}
1047 
1048     Serial.println(F(\textcolor{stringliteral}{"fileJson is now : "}));
1049     fileJson.printTo(Serial);
1050 
1051 \textcolor{preprocessor}{#endif}
1052 
1053     \textcolor{comment}{//close the file}
1054     configFile.close();
1055 
1056     \textcolor{comment}{//open file in w mode}
1057     configFile = SPIFFS.open( path , \textcolor{stringliteral}{"w"});
1058     
1059     \textcolor{keywordflow}{if}(!configFile)
1060     \{   
1061 \textcolor{preprocessor}{    #if DEBUG == 1}
1062         
1063         Serial.print( F(\textcolor{stringliteral}{"failed to open "}) );
1064         Serial.println(path);
1065 
1066 \textcolor{preprocessor}{    #endif}
1067         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
1068     \}
1069     \textcolor{comment}{//print json to file    }
1070     
1071     fileJson.printTo(configFile);
1072     
1073     \textcolor{comment}{//close file}
1074     configFile.close();
1075 
1076 
1077 \textcolor{preprocessor}{#if DEBUG == 1}
1078 
1079     Serial.println( F(\textcolor{stringliteral}{"config is"}) );
1080     fileJson.printTo(Serial);
1081     Serial.println();
1082 
1083 \textcolor{preprocessor}{#endif}
1084     
1085     \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
1086     
1087 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_a70701d05e811604af1b531f4f6dc69ed}\label{class_cool_file_system_a70701d05e811604af1b531f4f6dc69ed}} 
\index{Cool\+File\+System@{Cool\+File\+System}!getsaved\+Data@{getsaved\+Data}}
\index{getsaved\+Data@{getsaved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{getsaved\+Data()}{getsavedData()}}
{\footnotesize\ttfamily void Cool\+File\+System\+::getsaved\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{class_cool_file_system_a70701d05e811604af1b531f4f6dc69ed}{Cool\+File\+System\+::getsaved\+Data()}\+: This method is provided to get the saved\+Data flag from the file system 

Definition at line 1149 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
1150 \{
1151 
1152 
1153 \textcolor{preprocessor}{#if DEBUG == 1}
1154     
1155     Serial.println(F(\textcolor{stringliteral}{"Entering CoolFileSystem.getsavedData()"}));    
1156     
1157 \textcolor{preprocessor}{#endif}
1158     \textcolor{comment}{//open file}
1159     File file=SPIFFS.open(\textcolor{stringliteral}{"/savedDataFlag.txt"},\textcolor{stringliteral}{"r"});    
1160     \textcolor{comment}{//read file}
1161     \textcolor{keywordflow}{if}( !file)  
1162     \{
1163         Serial.println( F(\textcolor{stringliteral}{"failed to read savedDataFlag.txt"}) );
1164         
1165     \}
1166     \textcolor{keywordflow}{else}
1167     \{       
1168         \textcolor{comment}{//read from file    }
1169         String \hyperlink{_irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp}=file.readStringUntil(\textcolor{charliteral}{' '});
1170         
1171         this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}=temp.toInt();
1172 
1173         
1174         temp=file.readStringUntil(\textcolor{charliteral}{'\(\backslash\)n'});
1175         this-> \hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip}=temp.toInt();;    
1176         
1177         file.close();   
1178     \}
1179     
1180 \textcolor{preprocessor}{#if DEBUG == 1}
1181 
1182     Serial.print(F(\textcolor{stringliteral}{"number of lines to read :"}));
1183     Serial.println(this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData});
1184     
1185     Serial.print(F(\textcolor{stringliteral}{"number of lines to skip :"}));
1186     Serial.println(this->\hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip});
1187 
1188 \textcolor{preprocessor}{#endif}
1189     
1190 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_a70701d05e811604af1b531f4f6dc69ed_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_a3223ffff4266a6300988fab956d6b4b2}\label{class_cool_file_system_a3223ffff4266a6300988fab956d6b4b2}} 
\index{Cool\+File\+System@{Cool\+File\+System}!get\+Sensor\+Saved\+Data@{get\+Sensor\+Saved\+Data}}
\index{get\+Sensor\+Saved\+Data@{get\+Sensor\+Saved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{get\+Sensor\+Saved\+Data()}{getSensorSavedData()}}
{\footnotesize\ttfamily String $\ast$ Cool\+File\+System\+::get\+Sensor\+Saved\+Data (\begin{DoxyParamCaption}\item[{int \&}]{lines }\end{DoxyParamCaption})}

Cool\+File\+System\+::get\+Sensor\+Data(int \&lines)\+: This method is provided to return the sensor data saved in the File System 10 lines at a time

\begin{DoxyReturn}{Returns}
String array containing 50 first lines from the file modifies tge lines argument to reflect the number of lines left 
\end{DoxyReturn}


Definition at line 789 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
790 \{
791     \textcolor{keywordtype}{int} maxString=50;
792     String *sensorsDataArray=\textcolor{keyword}{new} String[maxString];
793     lines=0;
794 
795 \textcolor{preprocessor}{#if DEBUG == 1 }
796 
797     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.getSensorSavedData()"}) );
798     Serial.println();
799 
800 \textcolor{preprocessor}{#endif}
801 
802     \textcolor{comment}{//open sensors data file}
803     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"r"});
804     
805     \textcolor{keywordflow}{if} (!sensorsData)
806     \{
807 
808 \textcolor{preprocessor}{    #if DEBUG == 1 }
809 
810         Serial.println( F(\textcolor{stringliteral}{"Failed to read /sensorsData.json"}) );
811 
812 \textcolor{preprocessor}{    #endif}
813          
814         sensorsDataArray[0]=\textcolor{stringliteral}{"Failed to read /sensorsData.json"};
815         lines++;
816 
817         \textcolor{comment}{//result=sensorsDataArray;}
818         \textcolor{keywordflow}{return}(sensorsDataArray);
819 
820     \}
821 
822     \textcolor{keywordflow}{else}
823     \{
824         \textcolor{comment}{//read the file line by line and put it in the String array(aka String*)        }
825 
826         \textcolor{comment}{//while loop until EOF is reached}
827         String \hyperlink{_irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp};
828         \textcolor{keywordflow}{while}(sensorsData.available())
829         \{
830             yield();
831             
832             temp=sensorsData.readStringUntil(\textcolor{charliteral}{'\(\backslash\)r'});
833 
834             \textcolor{keywordflow}{if}(\hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip}>0)
835             \{
836 
837                 \hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip}--;
838         
839             \}
840             \textcolor{keywordflow}{else}
841             \{
842 
843 \textcolor{preprocessor}{            #if DEBUG == 1}
844 
845                 Serial.println(F(\textcolor{stringliteral}{"temp String : "}));
846                 Serial.println(temp);
847                 Serial.println();
848             
849 \textcolor{preprocessor}{            #endif}
850             
851                 sensorsDataArray[lines]=\hyperlink{_irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp};
852                 sensorsData.read();
853             
854             
855         
856 \textcolor{preprocessor}{            #if DEBUG== 1}
857      
858                 Serial.print(F(\textcolor{stringliteral}{"read String N°"}));
859                 Serial.print(lines);
860                 Serial.println(F(\textcolor{stringliteral}{" is : "}));
861                 Serial.println( sensorsDataArray[lines] );
862                 Serial.println();
863                 Serial.println(F(\textcolor{stringliteral}{"next char is : "}));
864                 Serial.println((\textcolor{keywordtype}{char})sensorsData.peek());
865                 Serial.println();           
866             
867 \textcolor{preprocessor}{            #endif}
868                 lines++;
869             
870                 \textcolor{comment}{//maximum size is maxString(index : 0..maxString-1)}
871                 \textcolor{keywordflow}{if}(lines>=maxString)
872                 \{
873                     \textcolor{keywordflow}{break};
874                 \}
875             
876                 yield();
877             
878             \}
879 
880         \}
881         
882                     
883         \textcolor{comment}{//close the file}
884         sensorsData.close();
885 
886         \textcolor{comment}{//position the saved data flag to the number of unread lines}
887         this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}=\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}-lines;
888         
889         \textcolor{comment}{//position the number of lines to skip to the number of read lines  }
890         this->\hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip}=lines;
891 
892         \textcolor{comment}{//delete data in the file only if savedData<=0}
893         \textcolor{keywordflow}{if}(this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}<=0)
894         \{
895             File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"w"});
896             File sensorsDataCSV=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"w"});
897             \textcolor{keywordflow}{if}( (!sensorsData)||(!sensorsDataCSV) ) 
898             \{
899 \textcolor{preprocessor}{            #if DEBUG == 1}
900     
901                 Serial.println( F(\textcolor{stringliteral}{"failed to delete data in the file"}) );
902     
903 \textcolor{preprocessor}{            #endif}
904                 lines++;
905                 sensorsDataArray[lines]=\textcolor{stringliteral}{"failed to delete data in the file"};
906 
907                 \textcolor{keywordflow}{return}(sensorsDataArray);
908 
909             \}
910 
911             sensorsData.close();
912             sensorsDataCSV.close();
913             
914             this->\hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip}=0;
915         
916         \}
917 
918         \textcolor{comment}{//save the changes to linesToSkip and savedData in the file system}
919         this->\hyperlink{class_cool_file_system_aae045125288f255f3e258073dcada2a6}{incrementsavedData}();
920 
921         \textcolor{comment}{//return the string}
922 \textcolor{preprocessor}{        #if DEBUG == 1}
923         
924             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<lines;i++)
925             \{
926                 Serial.print(F(\textcolor{stringliteral}{"String N°"}));
927                 Serial.println(i);
928                 Serial.println(sensorsDataArray[i]);
929                 Serial.println();           
930             \}
931     
932 \textcolor{preprocessor}{        #endif}
933         \textcolor{keywordflow}{return}(sensorsDataArray);
934         
935         
936         
937     \}
938 
939 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_a3223ffff4266a6300988fab956d6b4b2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_a3223ffff4266a6300988fab956d6b4b2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_aae045125288f255f3e258073dcada2a6}\label{class_cool_file_system_aae045125288f255f3e258073dcada2a6}} 
\index{Cool\+File\+System@{Cool\+File\+System}!incrementsaved\+Data@{incrementsaved\+Data}}
\index{incrementsaved\+Data@{incrementsaved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{incrementsaved\+Data()}{incrementsavedData()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::incrementsaved\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{class_cool_file_system_aae045125288f255f3e258073dcada2a6}{Cool\+File\+System\+::incrementsaved\+Data()}\+: This method is provided to increment the saved\+Data flag

\begin{DoxyReturn}{Returns}
true if successful , false otherwise 
\end{DoxyReturn}


Definition at line 1099 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
1100 \{
1101 
1102 
1103 \textcolor{preprocessor}{#if DEBUG == 1}
1104     
1105     Serial.println(F(\textcolor{stringliteral}{"Entering CoolFileSystem.incrementsavedData()"}));  
1106     
1107 \textcolor{preprocessor}{#endif}
1108     \textcolor{comment}{//open file}
1109     File file=SPIFFS.open(\textcolor{stringliteral}{"/savedDataFlag.txt"},\textcolor{stringliteral}{"w"});    
1110     \textcolor{comment}{//read file}
1111     \textcolor{keywordflow}{if}( !file)  
1112     \{
1113         Serial.println( F(\textcolor{stringliteral}{"failed to open savedDataFlag.txt"}) );
1114         
1115         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});      
1116     \}
1117     \textcolor{keywordflow}{else}
1118     \{       
1119         \textcolor{comment}{//write to file }
1120         file.print(this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData});
1121         
1122         file.print(\textcolor{stringliteral}{" "});
1123         
1124         file.println(this->\hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip});
1125     
1126         file.close();
1127 
1128 \textcolor{preprocessor}{    #if DEBUG == 1}
1129 
1130         Serial.print(F(\textcolor{stringliteral}{"number of lines to read :"}));
1131         Serial.println(this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData});
1132     
1133         Serial.print(F(\textcolor{stringliteral}{"number of lines to skip :"}));
1134         Serial.println(this->\hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip});
1135 
1136 \textcolor{preprocessor}{    #endif}
1137         
1138         \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
1139     \}
1140     
1141 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_aae045125288f255f3e258073dcada2a6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_ac86a40e7c3a1842f7342f698d34324f9}\label{class_cool_file_system_ac86a40e7c3a1842f7342f698d34324f9}} 
\index{Cool\+File\+System@{Cool\+File\+System}!is\+Data\+Saved@{is\+Data\+Saved}}
\index{is\+Data\+Saved@{is\+Data\+Saved}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{is\+Data\+Saved()}{isDataSaved()}}
{\footnotesize\ttfamily int Cool\+File\+System\+::is\+Data\+Saved (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{class_cool_file_system_ac86a40e7c3a1842f7342f698d34324f9}{Cool\+File\+System\+::is\+Data\+Saved()}\+: This method is provided to report wether there is sensor data saved in the File System.

\begin{DoxyReturn}{Returns}
true if there is data saved, false otherwise 
\end{DoxyReturn}


Definition at line 729 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
730 \{
731 
732 \textcolor{preprocessor}{#if DEBUG == 1 }
733 
734     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.isDataSaved()"}) );
735     Serial.println();
736 
737     FSInfo fs\_info;
738 
739     \textcolor{keywordflow}{if}(SPIFFS.info(fs\_info)==\textcolor{keyword}{true})
740     \{
741         Serial.print(F(\textcolor{stringliteral}{"used bytes/total bytes : "}));   
742         Serial.print(fs\_info.usedBytes);
743         Serial.print(F(\textcolor{stringliteral}{"/"}));
744         Serial.print(fs\_info.totalBytes);
745         Serial.println();
746 
747     \}
748 
749     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"r"});
750     File sensorsDataCSV=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"r"});
751     
752     \textcolor{keywordflow}{if}( (!sensorsData)||(!sensorsDataCSV) ) 
753     \{
754         Serial.println( F(\textcolor{stringliteral}{"failed to open files"}) );        
755     \}
756     \textcolor{keywordflow}{else}
757     \{       
758             Serial.print(F(\textcolor{stringliteral}{"sensors Data file size in bytes : "}));
759             Serial.println(sensorsData.size());
760             Serial.println();
761             
762             Serial.print(F(\textcolor{stringliteral}{"sensors Data CSV file size in bytes : "}));              
763             Serial.println(sensorsDataCSV.size());
764             Serial.println();
765     \}
766 
767 
768 
769     Serial.print( F(\textcolor{stringliteral}{"savedData : "}) );
770     Serial.println(this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData});
771 
772 \textcolor{preprocessor}{#endif}
773 
774     \textcolor{keywordflow}{return}( this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData} );
775 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_ac86a40e7c3a1842f7342f698d34324f9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_afa3a4feae94871d4d3b6bebb701c2e67}\label{class_cool_file_system_afa3a4feae94871d4d3b6bebb701c2e67}} 
\index{Cool\+File\+System@{Cool\+File\+System}!save\+Sensor\+Data@{save\+Sensor\+Data}}
\index{save\+Sensor\+Data@{save\+Sensor\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{save\+Sensor\+Data()}{saveSensorData()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::save\+Sensor\+Data (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data }\end{DoxyParamCaption})}

Cool\+File\+System\+::save\+Sensor\+Data( data )\+: This method is provided to save the data on the local memory when there is no internet available

increments the saved data flag when successful

\begin{DoxyReturn}{Returns}
true if the data was saved, false otherwise 
\end{DoxyReturn}


Definition at line 58 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
59 \{
60 
61 \textcolor{preprocessor}{#if DEBUG == 1}
62 
63     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.saveSensorData()"}) );
64     Serial.println();
65 
66 \textcolor{preprocessor}{#endif}
67     
68     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"a"});
69 
70     \textcolor{keywordflow}{if}(!sensorsData)
71     \{
72     
73 \textcolor{preprocessor}{    #if DEBUG == 1}
74     
75         Serial.println( F(\textcolor{stringliteral}{"failed to append to /sensorsData.json"}) );
76         Serial.println();
77     
78 \textcolor{preprocessor}{    #endif}
79         \textcolor{comment}{//keep the old data}
80         this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}=\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData};
81 
82         \textcolor{keywordflow}{return} (\textcolor{keyword}{false}); 
83     \}   
84 
85     DynamicJsonBuffer jsonBuffer;
86     JsonObject& root = jsonBuffer.parseObject(data);
87 
88     \textcolor{keywordflow}{if}( root.success() )
89     \{
90         root.printTo(sensorsData);
91         sensorsData.println();
92         sensorsData.close();
93 
94 
95 \textcolor{preprocessor}{    #if DEBUG == 1}
96         
97         Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
98         Serial.println(jsonBuffer.size());
99         Serial.println();
100 
101         sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"r"});
102         
103         \textcolor{keywordflow}{if}(!sensorsData)
104         \{
105             
106             Serial.println(F(\textcolor{stringliteral}{"failed to reopen /sensorsData.json"}));
107             \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
108                         
109         \}
110     
111         Serial.println( F(\textcolor{stringliteral}{"saved data is : "}) );
112         root.printTo(Serial);
113         Serial.println();
114 
115         Serial.println(F(\textcolor{stringliteral}{"/sensorsData.json"}) );
116         \textcolor{keywordflow}{while} (sensorsData.available()) 
117         \{
118             Serial.println(sensorsData.readString()) ;
119         \}
120         
121         Serial.println();
122         
123         sensorsData.close();
124     
125 \textcolor{preprocessor}{    #endif}
126 
127         this->\hyperlink{class_cool_file_system_ab78704d5d21ce10fc6f1138ab5ab46c8}{saveSensorDataCSV}(data);     
128 
129         \textcolor{comment}{//new data}
130         this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}++;
131 
132         this->\hyperlink{class_cool_file_system_aae045125288f255f3e258073dcada2a6}{incrementsavedData}();
133         
134         \textcolor{keywordflow}{return} (\textcolor{keyword}{true});      
135     \}
136     \textcolor{keywordflow}{else}
137     \{
138     
139 \textcolor{preprocessor}{    #if DEBUG == 1}
140 
141         Serial.println( F(\textcolor{stringliteral}{"failed to parse json"}) );
142     
143 \textcolor{preprocessor}{    #endif}
144         \textcolor{comment}{//old data}
145         this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}=\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData};
146 
147         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
148     \}
149     
150 
151 \}
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_afa3a4feae94871d4d3b6bebb701c2e67_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_afa3a4feae94871d4d3b6bebb701c2e67_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_ab78704d5d21ce10fc6f1138ab5ab46c8}\label{class_cool_file_system_ab78704d5d21ce10fc6f1138ab5ab46c8}} 
\index{Cool\+File\+System@{Cool\+File\+System}!save\+Sensor\+Data\+C\+SV@{save\+Sensor\+Data\+C\+SV}}
\index{save\+Sensor\+Data\+C\+SV@{save\+Sensor\+Data\+C\+SV}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{save\+Sensor\+Data\+C\+S\+V()}{saveSensorDataCSV()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::save\+Sensor\+Data\+C\+SV (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data }\end{DoxyParamCaption})}

Cool\+File\+System\+::save\+Sensor\+Data\+C\+S\+V( data )\+: This method is provided to save the data on the local memory in C\+SV format.

\begin{DoxyReturn}{Returns}
true if the data was saved, false otherwise 
\end{DoxyReturn}


Definition at line 162 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
163 \{
164 \textcolor{preprocessor}{#if DEBUG == 1}
165 
166     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.saveSensorDataCSV()"}) );
167     Serial.println();
168 
169 \textcolor{preprocessor}{#endif}
170     \textcolor{comment}{//parsing json}
171     DynamicJsonBuffer jsonBuffer;
172     JsonObject& root = jsonBuffer.parseObject(data);
173     String header=\textcolor{stringliteral}{""},values=\textcolor{stringliteral}{""};
174     
175     \textcolor{comment}{//if json parse success}
176     \textcolor{keywordflow}{if}( root.success() )
177     \{       
178         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} kv : root) 
179         \{
180             \textcolor{comment}{//print the header(json keys ) to header string}
181             header+=kv.key;
182             header+=\textcolor{charliteral}{','};
183             
184             \textcolor{comment}{//print the values to header string}
185             values+=( kv.value.as<\textcolor{keywordtype}{char}*>() );
186             values+=\textcolor{charliteral}{','};
187         \}
188 
189         header.remove(header.lastIndexOf(\textcolor{charliteral}{','}), 1);
190         values.remove(values.lastIndexOf(\textcolor{charliteral}{','}), 1);      
191     
192 \textcolor{preprocessor}{    #if DEBUG == 1}
193     
194         Serial.println( F(\textcolor{stringliteral}{" data is : "}) );
195         root.printTo(Serial);
196         Serial.println();
197         
198         Serial.println(F(\textcolor{stringliteral}{" header is :"} ) ) ;
199         Serial.println(header);
200         Serial.println(F(\textcolor{stringliteral}{" values are : "}));
201         Serial.println(values);
202         
203         Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
204         Serial.println(jsonBuffer.size());
205         Serial.println();
206 
207     
208 \textcolor{preprocessor}{    #endif}
209     
210     \}
211     \textcolor{comment}{//failed to parse json}
212     \textcolor{keywordflow}{else}
213     \{
214     
215 \textcolor{preprocessor}{    #if DEBUG == 1}
216 
217         Serial.println( F(\textcolor{stringliteral}{"failed to parse json"}) );
218     
219 \textcolor{preprocessor}{    #endif}
220 
221         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
222     \}
223 
224     \textcolor{comment}{//check if file exists}
225     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"r"});
226     
227     \textcolor{comment}{//file doesn't exist}
228     \textcolor{keywordflow}{if}( (!sensorsData) || (sensorsData.size()==0 ) )
229     \{
230     
231 \textcolor{preprocessor}{    #if DEBUG == 1}
232     
233         Serial.println( F(\textcolor{stringliteral}{"/sensorsData.csv not found"}) );
234         Serial.println( F(\textcolor{stringliteral}{"creating /sensorsData.csv"}) );
235         Serial.println();
236     
237 \textcolor{preprocessor}{    #endif}
238         \textcolor{comment}{//create file}
239         sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"w"});
240         
241         \textcolor{keywordflow}{if}(!sensorsData)
242         \{
243 
244 \textcolor{preprocessor}{        #if DEBUG == 1}
245         
246             Serial.println( F(\textcolor{stringliteral}{"failed to create /sensorsData.csv"}) );
247             Serial.println();
248         
249 \textcolor{preprocessor}{        #endif}
250         
251             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
252 
253         \}
254         
255         \textcolor{comment}{//print the header(json keys ) to the CSV file}
256         sensorsData.println(header);
257 
258         \textcolor{comment}{//print the values to the CSV file}
259         sensorsData.println(values);
260         
261         sensorsData.close();
262     
263 \textcolor{preprocessor}{    #if DEBUG == 1}
264 
265         sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"r"});
266         
267         \textcolor{keywordflow}{if}(!sensorsData)
268         \{
269             Serial.println(F(\textcolor{stringliteral}{"failed to reopen /sensorsData.csv "}));
270             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});      
271         \}
272 
273         Serial.println( F(\textcolor{stringliteral}{"/sensorsData.csv : "}) );
274 
275         \textcolor{keywordflow}{while} (sensorsData.available()) 
276         \{
277             Serial.print(sensorsData.readString()) ;
278         \}
279         Serial.println();
280 
281         \textcolor{comment}{//close the file}
282         sensorsData.close();
283 
284 \textcolor{preprocessor}{    #endif}
285         
286 
287         
288         \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
289         
290     \}
291 
292     \textcolor{comment}{//file exist}
293     \textcolor{keywordflow}{else}
294     \{
295 
296 \textcolor{preprocessor}{    #if DEBUG == 1}
297     
298         Serial.println( F(\textcolor{stringliteral}{"/sensorsData.csv  found"}) );
299         Serial.println( F(\textcolor{stringliteral}{"appending to /sensorsData.csv"}) );
300         Serial.println();
301     
302 \textcolor{preprocessor}{    #endif}
303 
304         \textcolor{comment}{//append to file}
305         sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"a"});
306         
307         \textcolor{keywordflow}{if}(!sensorsData)
308         \{
309         
310 \textcolor{preprocessor}{        #if DEBUG == 1}
311             
312             Serial.println( F(\textcolor{stringliteral}{"failed to open /sensorsData.csv"}) );
313             Serial.println();
314 
315 \textcolor{preprocessor}{        #endif}
316             
317             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
318         
319         \}
320 
321         \textcolor{comment}{//print the values to the CSV file}
322         sensorsData.println(values);
323         
324         sensorsData.close();
325 
326 \textcolor{preprocessor}{    #if DEBUG == 1}
327 
328         sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"r"});
329         
330         \textcolor{keywordflow}{if}(!sensorsData)
331         \{
332             Serial.println(F(\textcolor{stringliteral}{"failed to reopen /sensorsData.csv "}));
333             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});      
334         \}
335 
336         
337         Serial.println( F(\textcolor{stringliteral}{"/sensorsData.csv : "}) );
338 
339         \textcolor{keywordflow}{while} (sensorsData.available()) 
340         \{
341             Serial.println(sensorsData.readString()) ;
342         \}
343         
344         Serial.println();
345         
346         sensorsData.close();
347         
348 \textcolor{preprocessor}{    #endif      }
349         
350         \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
351     
352     \}   
353 
354 
355 
356 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_ab78704d5d21ce10fc6f1138ab5ab46c8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_adfa8e2e80641ae6f0cceabd348a9b841}\label{class_cool_file_system_adfa8e2e80641ae6f0cceabd348a9b841}} 
\index{Cool\+File\+System@{Cool\+File\+System}!update\+Config\+Files@{update\+Config\+Files}}
\index{update\+Config\+Files@{update\+Config\+Files}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{update\+Config\+Files()}{updateConfigFiles()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::update\+Config\+Files (\begin{DoxyParamCaption}\item[{String}]{answer }\end{DoxyParamCaption})}

Cool\+File\+System\+::update\+Config\+Files( mqtt answer )\+: This method is provided to update the configuration files when the appropriate mqtt answer is received

\begin{DoxyReturn}{Returns}
true if the files are updated correctly, false otherwise 
\end{DoxyReturn}


Definition at line 367 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
368 \{
369 
370 \textcolor{preprocessor}{#if DEBUG == 1}
371 
372     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.updateConfigFiles"}) );
373     Serial.println();
374     
375     Serial.println( F(\textcolor{stringliteral}{"input answer : "}) );
376     Serial.println(answer);
377 \textcolor{preprocessor}{#endif}
378 
379     \textcolor{comment}{//total json object }
380     DynamicJsonBuffer jsonBuffer;
381     JsonObject& root = jsonBuffer.parseObject( answer.c\_str() );
382 
383 \textcolor{preprocessor}{#if DEBUG == 1}
384     
385     Serial.println( F(\textcolor{stringliteral}{"json object : "}) );  
386     root.printTo(Serial);
387     Serial.println();
388     
389     Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
390     Serial.println(jsonBuffer.size());
391     Serial.println();
392 
393 
394 \textcolor{preprocessor}{#endif}
395 
396     \textcolor{keywordflow}{if}(! ( root.success() ))
397     \{
398     
399 \textcolor{preprocessor}{    #if DEBUG == 1}
400 
401         Serial.println( F(\textcolor{stringliteral}{"failed to parse root "}) );
402         Serial.println();
403     
404 \textcolor{preprocessor}{    #endif}
405 
406         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
407     \}
408     \textcolor{keywordflow}{else}
409     \{
410 \textcolor{preprocessor}{    #if DEBUG == 1}
411         
412         Serial.println( F(\textcolor{stringliteral}{"success to parse root "}) );
413         Serial.println();
414         
415 \textcolor{preprocessor}{    #endif  }
416     \}
417     
418 \textcolor{preprocessor}{#if DEBUG == 1}
419 
420     Serial.println( F(\textcolor{stringliteral}{"input message is : "}) );
421     root.printTo(Serial);
422     Serial.println();
423 
424 \textcolor{preprocessor}{#endif}
425     \textcolor{comment}{//temp string}
426     String \hyperlink{_irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp};
427 
428     \textcolor{comment}{//CoolBoard Configuration File}
429 
430         JsonObject& jsonCoolBoard=root[\textcolor{stringliteral}{"CoolBoard"}];
431 
432 \textcolor{preprocessor}{#if DEBUG == 1}
433 
434     Serial.println( F(\textcolor{stringliteral}{"before config CoolBoard json"}) );
435     jsonCoolBoard.printTo(Serial);
436 
437 \textcolor{preprocessor}{#endif}
438 
439     \textcolor{keywordflow}{if}(jsonCoolBoard.success())
440     \{
441         String update;
442     
443         jsonCoolBoard.printTo(update);
444 
445         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/coolBoardConfig.json"});     
446         
447     \}
448     \textcolor{keywordflow}{else}
449     \{
450     
451 \textcolor{preprocessor}{    #if DEBUG == 1 }
452 
453         Serial.println( F(\textcolor{stringliteral}{"failed to parse CoolBoard "}) );
454     
455 \textcolor{preprocessor}{    #endif}
456 
457     \}       
458 
459     
460     \textcolor{comment}{//Cool Board Sensors Configuration File}
461         JsonObject& jsonSensorsBoard=root[\textcolor{stringliteral}{"CoolSensorsBoard"}];
462 
463 \textcolor{preprocessor}{#if DEBUG == 1 }
464 
465     Serial.println( F(\textcolor{stringliteral}{"before config CoolSensorsBoard json"}) );
466     jsonSensorsBoard.printTo(Serial);
467 
468 \textcolor{preprocessor}{#endif }
469     
470     \textcolor{keywordflow}{if}(jsonSensorsBoard.success())
471     \{   
472         String update;
473     
474         jsonSensorsBoard.printTo(update);
475 
476         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/coolBoardSensorsConfig.json"});      
477 
478     \}
479     \textcolor{keywordflow}{else}
480     \{
481 
482 \textcolor{preprocessor}{    #if DEBUG == 1}
483 
484         Serial.println( F(\textcolor{stringliteral}{"failed to parse CoolSensorsBoard sensors "}) );   
485     
486 \textcolor{preprocessor}{    #endif}
487 
488     \}
489 
490     
491     \textcolor{comment}{//rtc configuration file}
492         JsonObject& jsonRTC=root[\textcolor{stringliteral}{"rtc"}];
493 
494 \textcolor{preprocessor}{#if DEBUG == 1 }
495     
496     Serial.println( F(\textcolor{stringliteral}{"before config rtc json"}) );
497     jsonRTC.printTo(Serial);
498 
499 \textcolor{preprocessor}{#endif}
500     \textcolor{keywordflow}{if}(jsonRTC.success() )
501     \{
502         String update;
503 
504         jsonRTC.printTo(update);
505 
506         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/rtcConfig.json"});           
507     \}
508     \textcolor{keywordflow}{else}
509     \{
510     
511 \textcolor{preprocessor}{    #if DEBUG == 1 }
512 
513         Serial.println( F(\textcolor{stringliteral}{"failed to parse rtc "}) );
514     
515 \textcolor{preprocessor}{    #endif}
516 
517     \}
518     
519     
520         \textcolor{comment}{//cool board led configuration}
521         JsonObject& jsonLedBoard=root[\textcolor{stringliteral}{"led"}];
522     
523 \textcolor{preprocessor}{#if DEBUG == 1 }
524 
525     Serial.println( F(\textcolor{stringliteral}{"before config Led json"}) );
526     jsonLedBoard.printTo(Serial);
527 
528 \textcolor{preprocessor}{#endif}
529 
530     \textcolor{keywordflow}{if}(jsonLedBoard.success())
531     \{   
532         String update;
533     
534         jsonLedBoard.printTo(update);
535 
536         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/coolBoardLedConfig.json"});      
537 
538     
539     \}
540     \textcolor{keywordflow}{else}
541     \{
542     
543 \textcolor{preprocessor}{    #if DEBUG == 1 }
544 
545         Serial.println( F(\textcolor{stringliteral}{"failed to parse led"}) );
546     
547 \textcolor{preprocessor}{    #endif }
548 
549     \}
550         
551 
552     
553 
554     \textcolor{comment}{//jetpack configuration}
555         JsonObject& jsonJetpack=root[\textcolor{stringliteral}{"jetPack"}];
556 
557 \textcolor{preprocessor}{#if DEBUG == 1 }
558 
559     Serial.println( F(\textcolor{stringliteral}{"before config jetpack json"}) );
560     jsonJetpack.printTo(Serial);
561 
562 \textcolor{preprocessor}{#endif}
563 
564     \textcolor{keywordflow}{if}(jsonJetpack.success())
565     \{
566     
567         String update;
568     
569         jsonJetpack.printTo(update);
570 
571         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/jetPackConfig.json"});       
572 
573     \}
574 
575     \textcolor{keywordflow}{else}
576     \{
577     
578 \textcolor{preprocessor}{    #if DEBUG == 1 }
579 
580         Serial.println( F(\textcolor{stringliteral}{"failed to parse jetpack"}) ); 
581     
582 \textcolor{preprocessor}{    #endif}
583 
584     \}
585     
586     \textcolor{comment}{//irene configuration   }
587         JsonObject& jsonIrene=root[\textcolor{stringliteral}{"irene3000"}];
588     
589 \textcolor{preprocessor}{#if DEBUG == 1 }
590 
591     Serial.println( F(\textcolor{stringliteral}{"before config irene json"}) );    
592     jsonIrene.printTo(Serial);
593 
594 \textcolor{preprocessor}{#endif }
595 
596     \textcolor{keywordflow}{if}(jsonIrene.success())
597     \{
598 
599         String update;
600     
601         jsonIrene.printTo(update);
602 
603         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/irene3000Config.json"});     
604     
605     \}
606     \textcolor{keywordflow}{else}
607     \{
608     
609 \textcolor{preprocessor}{    #if DEBUG == 1 }
610 
611         Serial.println( F(\textcolor{stringliteral}{"failed to parse irene"}) );   
612     
613 \textcolor{preprocessor}{    #endif }
614 
615 
616     \}
617     
618     \textcolor{comment}{//external sensors}
619         JsonObject& jsonExternalSensors=root[\textcolor{stringliteral}{"externalSensors"}];
620 
621 \textcolor{preprocessor}{#if DEBUG == 1 }
622 
623     Serial.println( F(\textcolor{stringliteral}{"before config external Sensors json"}) );
624     jsonExternalSensors.printTo(Serial);
625 
626 \textcolor{preprocessor}{#endif}
627 
628     \textcolor{keywordflow}{if}(jsonExternalSensors.success())
629     \{
630 
631         String update;
632     
633         jsonExternalSensors.printTo(update);
634 
635         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/externalSensorsConfig.json"});       
636 
637     \}
638 
639     \textcolor{keywordflow}{else}
640     \{   
641 
642 \textcolor{preprocessor}{    #if DEBUG == 1}
643         
644         Serial.println( F(\textcolor{stringliteral}{"failed to parse external sensors"}) );
645 
646 \textcolor{preprocessor}{    #endif}
647 
648 
649     \}
650 
651     
652     \textcolor{comment}{//mqtt config}
653         JsonObject& jsonMQTT=root[\textcolor{stringliteral}{"mqtt"}];
654     
655 \textcolor{preprocessor}{#if DEBUG == 1 }
656 
657     Serial.println( F(\textcolor{stringliteral}{"before config mqtt json"}) );
658     jsonMQTT.printTo(Serial);
659 
660 \textcolor{preprocessor}{#endif}
661 
662     \textcolor{keywordflow}{if}(jsonMQTT.success())
663     \{
664 
665         String update;
666     
667         jsonMQTT.printTo(update);
668 
669         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/mqttConfig.json"});      
670 
671     \}
672     \textcolor{keywordflow}{else}
673     \{
674 
675 \textcolor{preprocessor}{    #if DEBUG == 1 }
676 
677         Serial.println( F(\textcolor{stringliteral}{"failed to parse mqtt"}) );
678     
679 \textcolor{preprocessor}{    #endif}
680 
681     
682     \}   
683 
684     \textcolor{comment}{//wifi config}
685         JsonObject& jsonWifi=root[\textcolor{stringliteral}{"wifi"}];
686     
687 \textcolor{preprocessor}{#if DEBUG == 1 }
688 
689     Serial.println( F(\textcolor{stringliteral}{"before config wifi json"}) );
690     jsonWifi.printTo(Serial);
691 
692 \textcolor{preprocessor}{#endif}
693 
694     \textcolor{keywordflow}{if}(jsonWifi.success())
695     \{
696 
697         String update;
698     
699         jsonWifi.printTo(update);
700 
701         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/wifiConfig.json"});      
702 
703     \}
704     \textcolor{keywordflow}{else}
705     \{
706 
707 \textcolor{preprocessor}{    #if DEBUG == 1 }
708 
709         Serial.println( F(\textcolor{stringliteral}{"failed to parse wifi"}) );
710     
711 \textcolor{preprocessor}{    #endif}
712 
713     
714     \}   
715         
716     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
717 
718 \}   
\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_adfa8e2e80641ae6f0cceabd348a9b841_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_adfa8e2e80641ae6f0cceabd348a9b841_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}\label{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}} 
\index{Cool\+File\+System@{Cool\+File\+System}!lines\+To\+Skip@{lines\+To\+Skip}}
\index{lines\+To\+Skip@{lines\+To\+Skip}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{lines\+To\+Skip}{linesToSkip}}
{\footnotesize\ttfamily int Cool\+File\+System\+::lines\+To\+Skip =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 49 of file Cool\+File\+System.\+h.

\mbox{\Hypertarget{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}\label{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}} 
\index{Cool\+File\+System@{Cool\+File\+System}!saved\+Data@{saved\+Data}}
\index{saved\+Data@{saved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{saved\+Data}{savedData}}
{\footnotesize\ttfamily int Cool\+File\+System\+::saved\+Data =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 47 of file Cool\+File\+System.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/src/\hyperlink{_cool_file_system_8h}{Cool\+File\+System.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/src/\hyperlink{_cool_file_system_8cpp}{Cool\+File\+System.\+cpp}\end{DoxyCompactItemize}
