\hypertarget{class_cool_file_system}{}\section{Cool\+File\+System Class Reference}
\label{class_cool_file_system}\index{Cool\+File\+System@{Cool\+File\+System}}


This class handles the file system.  




{\ttfamily \#include $<$Cool\+File\+System.\+h$>$}



Collaboration diagram for Cool\+File\+System\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=205pt]{d0/d8f/class_cool_file_system__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{class_cool_file_system_a6ba6f666ed4c530174f8569d2c636748}{begin} ()
\item 
bool \hyperlink{class_cool_file_system_adfa8e2e80641ae6f0cceabd348a9b841}{update\+Config\+Files} (String answer)
\item 
bool \hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{file\+Update} (String update, const char $\ast$path)
\item 
bool \hyperlink{class_cool_file_system_afa3a4feae94871d4d3b6bebb701c2e67}{save\+Sensor\+Data} (const char $\ast$data)
\item 
bool \hyperlink{class_cool_file_system_ab78704d5d21ce10fc6f1138ab5ab46c8}{save\+Sensor\+Data\+C\+SV} (const char $\ast$data)
\item 
int \hyperlink{class_cool_file_system_ac86a40e7c3a1842f7342f698d34324f9}{is\+Data\+Saved} ()
\item 
String $\ast$ \hyperlink{class_cool_file_system_a3223ffff4266a6300988fab956d6b4b2}{get\+Sensor\+Saved\+Data} (int \&size)
\item 
bool \hyperlink{class_cool_file_system_aae045125288f255f3e258073dcada2a6}{incrementsaved\+Data} ()
\item 
void \hyperlink{class_cool_file_system_a70701d05e811604af1b531f4f6dc69ed}{getsaved\+Data} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{saved\+Data} =0
\item 
int \hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{lines\+To\+Skip} =0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class handles the file system. 

Definition at line 44 of file Cool\+File\+System.\+h.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_cool_file_system_a6ba6f666ed4c530174f8569d2c636748}\label{class_cool_file_system_a6ba6f666ed4c530174f8569d2c636748}} 
\index{Cool\+File\+System@{Cool\+File\+System}!begin@{begin}}
\index{begin@{begin}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::begin (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{class_cool_file_system_a6ba6f666ed4c530174f8569d2c636748}{Cool\+File\+System\+::begin()}\+: This method is provided to start the S\+P\+I\+F\+FS object.

\begin{DoxyReturn}{Returns}
true if S\+P\+I\+F\+FS was initialized correctly, false otherwise 
\end{DoxyReturn}


Definition at line 48 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
49 \{
50     \textcolor{keywordtype}{bool} sResult=SPIFFS.begin();
51     
52 
53 \textcolor{preprocessor}{#if DEBUG == 1}
54 
55     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.begin()"}) );
56     Serial.println();   
57     Serial.print( F(\textcolor{stringliteral}{"SPIFFS success ? "}) );
58     Serial.println(sResult);
59     Serial.println(  );
60 
61 \textcolor{preprocessor}{#endif}
62     \textcolor{comment}{//get the data from the files}
63     this->\hyperlink{class_cool_file_system_a70701d05e811604af1b531f4f6dc69ed}{getsavedData}();
64 
65     \textcolor{keywordflow}{return}( sResult  );                                   \textcolor{comment}{//Initialize Filesystem}
66 
67 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_a6ba6f666ed4c530174f8569d2c636748_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=327pt]{db/d0c/class_cool_file_system_a6ba6f666ed4c530174f8569d2c636748_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}\label{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}} 
\index{Cool\+File\+System@{Cool\+File\+System}!file\+Update@{file\+Update}}
\index{file\+Update@{file\+Update}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{file\+Update()}{fileUpdate()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::file\+Update (\begin{DoxyParamCaption}\item[{String}]{update,  }\item[{const char $\ast$}]{path }\end{DoxyParamCaption})}

Cool\+File\+System\+::file\+Update( update msg, file path)\+: This method is provided to ensure the correct update for each configuration file in the File system

\begin{DoxyReturn}{Returns}
true if successful , false otherwise 
\end{DoxyReturn}


Definition at line 1001 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
1002 \{
1003 
1004 \textcolor{preprocessor}{#if DEBUG == 1}
1005 
1006     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.fileUpdate()"}) );
1007     Serial.println();
1008     
1009     Serial.println(F(\textcolor{stringliteral}{"update msg is :"}));
1010     Serial.println(update);
1011     
1012     Serial.println(F(\textcolor{stringliteral}{"file path is : "}));
1013     Serial.println(path);   
1014 
1015 \textcolor{preprocessor}{#endif}
1016     \textcolor{comment}{//transfer update String to json}
1017     DynamicJsonBuffer updateBuffer;
1018     JsonObject& updateJson = updateBuffer.parseObject(update.c\_str() );
1019     
1020     \textcolor{keywordflow}{if}(updateJson.success())
1021     \{
1022     
1023 \textcolor{preprocessor}{    #if DEBUG ==1}
1024         
1025         Serial.println(F(\textcolor{stringliteral}{"root parsing success :"}));
1026         updateJson.printTo(Serial);
1027     
1028 \textcolor{preprocessor}{    #endif}
1029 
1030     \}
1031     \textcolor{keywordflow}{else}
1032     \{
1033     
1034 \textcolor{preprocessor}{    #if DEBUG == 1 }
1035     
1036         Serial.println(F(\textcolor{stringliteral}{"root parsing failure "}));
1037     
1038 \textcolor{preprocessor}{    #endif}
1039         
1040         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});  
1041 
1042     \}
1043     
1044     \textcolor{comment}{//open file in read mode}
1045     File configFile = SPIFFS.open( path , \textcolor{stringliteral}{"r"});
1046     
1047     \textcolor{keywordflow}{if}(!configFile)
1048     \{   
1049 \textcolor{preprocessor}{    #if DEBUG == 1}
1050         
1051         Serial.print( F(\textcolor{stringliteral}{"failed to read "}) );
1052         Serial.println(path);
1053 
1054 \textcolor{preprocessor}{    #endif}
1055         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
1056     \}
1057 
1058     \textcolor{comment}{//copy file to a json}
1059     \textcolor{keywordtype}{size\_t} size = configFile.size();
1060 
1061     \textcolor{comment}{// Allocate a buffer to store contents of the file.}
1062     std::unique\_ptr < char[] > buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
1063 
1064     configFile.readBytes(buf.get(), size);
1065 
1066     DynamicJsonBuffer fileBuffer;
1067 
1068     JsonObject & fileJson = fileBuffer.parseObject(buf.get());
1069 
1070     \textcolor{keywordflow}{if} (!fileJson.success())
1071     \{
1072 
1073 \textcolor{preprocessor}{    #if DEBUG == 1}
1074 
1075         Serial.println( F(\textcolor{stringliteral}{"failed to parse json"}) );
1076 
1077 \textcolor{preprocessor}{    #endif}
1078 
1079         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
1080     \}
1081     
1082     \textcolor{comment}{//modify root to contain all the json keys: updated ones and non updated ones}
1083     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} kv : fileJson) 
1084     \{
1085         \textcolor{keywordflow}{if}( updateJson[kv.key].success() )
1086         \{
1087             fileJson[kv.key]=updateJson[kv.key];            
1088         \}
1089         \textcolor{keywordflow}{else}
1090         \{
1091             fileJson[kv.key]=fileJson[kv.key];
1092         \}
1093 
1094                 
1095     \}
1096 
1097 \textcolor{preprocessor}{#if DEBUG == 1}
1098 
1099     Serial.println(F(\textcolor{stringliteral}{"fileJson is now : "}));
1100     fileJson.printTo(Serial);
1101 
1102 \textcolor{preprocessor}{#endif}
1103 
1104     \textcolor{comment}{//close the file}
1105     configFile.close();
1106 
1107     \textcolor{comment}{//open file in w mode}
1108     configFile = SPIFFS.open( path , \textcolor{stringliteral}{"w"});
1109     
1110     \textcolor{keywordflow}{if}(!configFile)
1111     \{   
1112 \textcolor{preprocessor}{    #if DEBUG == 1}
1113         
1114         Serial.print( F(\textcolor{stringliteral}{"failed to open "}) );
1115         Serial.println(path);
1116 
1117 \textcolor{preprocessor}{    #endif}
1118         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
1119     \}
1120     \textcolor{comment}{//print json to file    }
1121     
1122     fileJson.printTo(configFile);
1123     
1124     \textcolor{comment}{//close file}
1125     configFile.close();
1126 
1127 
1128 \textcolor{preprocessor}{#if DEBUG == 1}
1129 
1130     Serial.println( F(\textcolor{stringliteral}{"config is"}) );
1131     fileJson.printTo(Serial);
1132     Serial.println();
1133 
1134 \textcolor{preprocessor}{#endif}
1135     
1136     \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
1137     
1138 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_a70701d05e811604af1b531f4f6dc69ed}\label{class_cool_file_system_a70701d05e811604af1b531f4f6dc69ed}} 
\index{Cool\+File\+System@{Cool\+File\+System}!getsaved\+Data@{getsaved\+Data}}
\index{getsaved\+Data@{getsaved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{getsaved\+Data()}{getsavedData()}}
{\footnotesize\ttfamily void Cool\+File\+System\+::getsaved\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{class_cool_file_system_a70701d05e811604af1b531f4f6dc69ed}{Cool\+File\+System\+::getsaved\+Data()}\+: This method is provided to get the saved\+Data flag from the file system 

Definition at line 1200 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
1201 \{
1202 
1203 
1204 \textcolor{preprocessor}{#if DEBUG == 1}
1205     
1206     Serial.println(F(\textcolor{stringliteral}{"Entering CoolFileSystem.getsavedData()"}));    
1207     
1208 \textcolor{preprocessor}{#endif}
1209     \textcolor{comment}{//open file}
1210     File file=SPIFFS.open(\textcolor{stringliteral}{"/savedDataFlag.txt"},\textcolor{stringliteral}{"r"});    
1211     \textcolor{comment}{//read file}
1212     \textcolor{keywordflow}{if}( !file)  
1213     \{
1214         Serial.println( F(\textcolor{stringliteral}{"failed to read savedDataFlag.txt"}) );
1215         
1216     \}
1217     \textcolor{keywordflow}{else}
1218     \{       
1219         \textcolor{comment}{//read from file    }
1220         String \hyperlink{_irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp}=file.readStringUntil(\textcolor{charliteral}{' '});
1221         
1222         this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}=temp.toInt();
1223 
1224         
1225         temp=file.readStringUntil(\textcolor{charliteral}{'\(\backslash\)n'});
1226         this-> \hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip}=temp.toInt();;    
1227         
1228         file.close();   
1229     \}
1230     
1231 \textcolor{preprocessor}{#if DEBUG == 1}
1232 
1233     Serial.print(F(\textcolor{stringliteral}{"number of lines to read :"}));
1234     Serial.println(this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData});
1235     
1236     Serial.print(F(\textcolor{stringliteral}{"number of lines to skip :"}));
1237     Serial.println(this->\hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip});
1238 
1239 \textcolor{preprocessor}{#endif}
1240     
1241 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_a70701d05e811604af1b531f4f6dc69ed_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_a3223ffff4266a6300988fab956d6b4b2}\label{class_cool_file_system_a3223ffff4266a6300988fab956d6b4b2}} 
\index{Cool\+File\+System@{Cool\+File\+System}!get\+Sensor\+Saved\+Data@{get\+Sensor\+Saved\+Data}}
\index{get\+Sensor\+Saved\+Data@{get\+Sensor\+Saved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{get\+Sensor\+Saved\+Data()}{getSensorSavedData()}}
{\footnotesize\ttfamily String $\ast$ Cool\+File\+System\+::get\+Sensor\+Saved\+Data (\begin{DoxyParamCaption}\item[{int \&}]{lines }\end{DoxyParamCaption})}

Cool\+File\+System\+::get\+Sensor\+Data(int \&lines)\+: This method is provided to return the sensor data saved in the File System 10 lines at a time

\begin{DoxyReturn}{Returns}
String array containing 50 first lines from the file modifies tge lines argument to reflect the number of lines left 
\end{DoxyReturn}


Definition at line 840 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
841 \{
842     \textcolor{keywordtype}{int} maxString=50;
843     String *sensorsDataArray=\textcolor{keyword}{new} String[maxString];
844     lines=0;
845 
846 \textcolor{preprocessor}{#if DEBUG == 1 }
847 
848     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.getSensorSavedData()"}) );
849     Serial.println();
850 
851 \textcolor{preprocessor}{#endif}
852 
853     \textcolor{comment}{//open sensors data file}
854     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"r"});
855     
856     \textcolor{keywordflow}{if} (!sensorsData)
857     \{
858 
859 \textcolor{preprocessor}{    #if DEBUG == 1 }
860 
861         Serial.println( F(\textcolor{stringliteral}{"Failed to read /sensorsData.json"}) );
862 
863 \textcolor{preprocessor}{    #endif}
864          
865         sensorsDataArray[0]=\textcolor{stringliteral}{"Failed to read /sensorsData.json"};
866         lines++;
867 
868         \textcolor{comment}{//result=sensorsDataArray;}
869         \textcolor{keywordflow}{return}(sensorsDataArray);
870 
871     \}
872 
873     \textcolor{keywordflow}{else}
874     \{
875         \textcolor{comment}{//read the file line by line and put it in the String array(aka String*)        }
876 
877         \textcolor{comment}{//while loop until EOF is reached}
878         String \hyperlink{_irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp};
879         \textcolor{keywordflow}{while}(sensorsData.available())
880         \{
881             yield();
882             
883             temp=sensorsData.readStringUntil(\textcolor{charliteral}{'\(\backslash\)r'});
884 
885             \textcolor{keywordflow}{if}(\hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip}>0)
886             \{
887 
888                 \hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip}--;
889         
890             \}
891             \textcolor{keywordflow}{else}
892             \{
893 
894 \textcolor{preprocessor}{            #if DEBUG == 1}
895 
896                 Serial.println(F(\textcolor{stringliteral}{"temp String : "}));
897                 Serial.println(temp);
898                 Serial.println();
899             
900 \textcolor{preprocessor}{            #endif}
901             
902                 sensorsDataArray[lines]=\hyperlink{_irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp};
903                 sensorsData.read();
904             
905             
906         
907 \textcolor{preprocessor}{            #if DEBUG== 1}
908      
909                 Serial.print(F(\textcolor{stringliteral}{"read String N°"}));
910                 Serial.print(lines);
911                 Serial.println(F(\textcolor{stringliteral}{" is : "}));
912                 Serial.println( sensorsDataArray[lines] );
913                 Serial.println();
914                 Serial.println(F(\textcolor{stringliteral}{"next char is : "}));
915                 Serial.println((\textcolor{keywordtype}{char})sensorsData.peek());
916                 Serial.println();           
917             
918 \textcolor{preprocessor}{            #endif}
919                 lines++;
920             
921                 \textcolor{comment}{//maximum size is maxString(index : 0..maxString-1)}
922                 \textcolor{keywordflow}{if}(lines>=maxString)
923                 \{
924                     \textcolor{keywordflow}{break};
925                 \}
926             
927                 yield();
928             
929             \}
930 
931         \}
932         
933                     
934         \textcolor{comment}{//close the file}
935         sensorsData.close();
936 
937         \textcolor{comment}{//position the saved data flag to the number of unread lines}
938         this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}=\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}-lines;
939         
940         \textcolor{comment}{//position the number of lines to skip to the number of read lines  }
941         this->\hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip}=lines;
942 
943         \textcolor{comment}{//delete data in the file only if savedData<=0}
944         \textcolor{keywordflow}{if}(this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}<=0)
945         \{
946             File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"w"});
947             File sensorsDataCSV=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"w"});
948             \textcolor{keywordflow}{if}( (!sensorsData)||(!sensorsDataCSV) ) 
949             \{
950 \textcolor{preprocessor}{            #if DEBUG == 1}
951     
952                 Serial.println( F(\textcolor{stringliteral}{"failed to delete data in the file"}) );
953     
954 \textcolor{preprocessor}{            #endif}
955                 lines++;
956                 sensorsDataArray[lines]=\textcolor{stringliteral}{"failed to delete data in the file"};
957 
958                 \textcolor{keywordflow}{return}(sensorsDataArray);
959 
960             \}
961 
962             sensorsData.close();
963             sensorsDataCSV.close();
964             
965             this->\hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip}=0;
966         
967         \}
968 
969         \textcolor{comment}{//save the changes to linesToSkip and savedData in the file system}
970         this->\hyperlink{class_cool_file_system_aae045125288f255f3e258073dcada2a6}{incrementsavedData}();
971 
972         \textcolor{comment}{//return the string}
973 \textcolor{preprocessor}{        #if DEBUG == 1}
974         
975             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<lines;i++)
976             \{
977                 Serial.print(F(\textcolor{stringliteral}{"String N°"}));
978                 Serial.println(i);
979                 Serial.println(sensorsDataArray[i]);
980                 Serial.println();           
981             \}
982     
983 \textcolor{preprocessor}{        #endif}
984         \textcolor{keywordflow}{return}(sensorsDataArray);
985         
986         
987         
988     \}
989 
990 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_a3223ffff4266a6300988fab956d6b4b2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_a3223ffff4266a6300988fab956d6b4b2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_aae045125288f255f3e258073dcada2a6}\label{class_cool_file_system_aae045125288f255f3e258073dcada2a6}} 
\index{Cool\+File\+System@{Cool\+File\+System}!incrementsaved\+Data@{incrementsaved\+Data}}
\index{incrementsaved\+Data@{incrementsaved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{incrementsaved\+Data()}{incrementsavedData()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::incrementsaved\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{class_cool_file_system_aae045125288f255f3e258073dcada2a6}{Cool\+File\+System\+::incrementsaved\+Data()}\+: This method is provided to increment the saved\+Data flag

\begin{DoxyReturn}{Returns}
true if successful , false otherwise 
\end{DoxyReturn}


Definition at line 1150 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
1151 \{
1152 
1153 
1154 \textcolor{preprocessor}{#if DEBUG == 1}
1155     
1156     Serial.println(F(\textcolor{stringliteral}{"Entering CoolFileSystem.incrementsavedData()"}));  
1157     
1158 \textcolor{preprocessor}{#endif}
1159     \textcolor{comment}{//open file}
1160     File file=SPIFFS.open(\textcolor{stringliteral}{"/savedDataFlag.txt"},\textcolor{stringliteral}{"w"});    
1161     \textcolor{comment}{//read file}
1162     \textcolor{keywordflow}{if}( !file)  
1163     \{
1164         Serial.println( F(\textcolor{stringliteral}{"failed to open savedDataFlag.txt"}) );
1165         
1166         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});      
1167     \}
1168     \textcolor{keywordflow}{else}
1169     \{       
1170         \textcolor{comment}{//write to file }
1171         file.print(this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData});
1172         
1173         file.print(\textcolor{stringliteral}{" "});
1174         
1175         file.println(this->\hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip});
1176     
1177         file.close();
1178 
1179 \textcolor{preprocessor}{    #if DEBUG == 1}
1180 
1181         Serial.print(F(\textcolor{stringliteral}{"number of lines to read :"}));
1182         Serial.println(this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData});
1183     
1184         Serial.print(F(\textcolor{stringliteral}{"number of lines to skip :"}));
1185         Serial.println(this->\hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip});
1186 
1187 \textcolor{preprocessor}{    #endif}
1188         
1189         \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
1190     \}
1191     
1192 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_aae045125288f255f3e258073dcada2a6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_ac86a40e7c3a1842f7342f698d34324f9}\label{class_cool_file_system_ac86a40e7c3a1842f7342f698d34324f9}} 
\index{Cool\+File\+System@{Cool\+File\+System}!is\+Data\+Saved@{is\+Data\+Saved}}
\index{is\+Data\+Saved@{is\+Data\+Saved}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{is\+Data\+Saved()}{isDataSaved()}}
{\footnotesize\ttfamily int Cool\+File\+System\+::is\+Data\+Saved (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{class_cool_file_system_ac86a40e7c3a1842f7342f698d34324f9}{Cool\+File\+System\+::is\+Data\+Saved()}\+: This method is provided to report wether there is sensor data saved in the File System.

\begin{DoxyReturn}{Returns}
true if there is data saved, false otherwise 
\end{DoxyReturn}


Definition at line 780 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
781 \{
782 
783 \textcolor{preprocessor}{#if DEBUG == 1 }
784 
785     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.isDataSaved()"}) );
786     Serial.println();
787 
788     FSInfo fs\_info;
789 
790     \textcolor{keywordflow}{if}(SPIFFS.info(fs\_info)==\textcolor{keyword}{true})
791     \{
792         Serial.print(F(\textcolor{stringliteral}{"used bytes/total bytes : "}));   
793         Serial.print(fs\_info.usedBytes);
794         Serial.print(F(\textcolor{stringliteral}{"/"}));
795         Serial.print(fs\_info.totalBytes);
796         Serial.println();
797 
798     \}
799 
800     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"r"});
801     File sensorsDataCSV=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"r"});
802     
803     \textcolor{keywordflow}{if}( (!sensorsData)||(!sensorsDataCSV) ) 
804     \{
805         Serial.println( F(\textcolor{stringliteral}{"failed to open files"}) );        
806     \}
807     \textcolor{keywordflow}{else}
808     \{       
809             Serial.print(F(\textcolor{stringliteral}{"sensors Data file size in bytes : "}));
810             Serial.println(sensorsData.size());
811             Serial.println();
812             
813             Serial.print(F(\textcolor{stringliteral}{"sensors Data CSV file size in bytes : "}));              
814             Serial.println(sensorsDataCSV.size());
815             Serial.println();
816     \}
817 
818 
819 
820     Serial.print( F(\textcolor{stringliteral}{"savedData : "}) );
821     Serial.println(this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData});
822 
823 \textcolor{preprocessor}{#endif}
824 
825     \textcolor{keywordflow}{return}( this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData} );
826 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_ac86a40e7c3a1842f7342f698d34324f9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_afa3a4feae94871d4d3b6bebb701c2e67}\label{class_cool_file_system_afa3a4feae94871d4d3b6bebb701c2e67}} 
\index{Cool\+File\+System@{Cool\+File\+System}!save\+Sensor\+Data@{save\+Sensor\+Data}}
\index{save\+Sensor\+Data@{save\+Sensor\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{save\+Sensor\+Data()}{saveSensorData()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::save\+Sensor\+Data (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data }\end{DoxyParamCaption})}

Cool\+File\+System\+::save\+Sensor\+Data( data )\+: This method is provided to save the data on the local memory when there is no internet available

increments the saved data flag when successful

\begin{DoxyReturn}{Returns}
true if the data was saved, false otherwise 
\end{DoxyReturn}


Definition at line 79 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
80 \{
81 
82 \textcolor{preprocessor}{#if DEBUG == 1}
83 
84     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.saveSensorData()"}) );
85     Serial.println();
86 
87 \textcolor{preprocessor}{#endif}
88     
89     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"a"});
90 
91     \textcolor{keywordflow}{if}(!sensorsData)
92     \{
93     
94 \textcolor{preprocessor}{    #if DEBUG == 1}
95     
96         Serial.println( F(\textcolor{stringliteral}{"failed to append to /sensorsData.json"}) );
97         Serial.println();
98     
99 \textcolor{preprocessor}{    #endif}
100         \textcolor{comment}{//keep the old data}
101         this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}=\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData};
102 
103         \textcolor{keywordflow}{return} (\textcolor{keyword}{false}); 
104     \}   
105 
106     DynamicJsonBuffer jsonBuffer;
107     JsonObject& root = jsonBuffer.parseObject(data);
108 
109     \textcolor{keywordflow}{if}( root.success() )
110     \{
111         root.printTo(sensorsData);
112         sensorsData.println();
113         sensorsData.close();
114 
115 
116 \textcolor{preprocessor}{    #if DEBUG == 1}
117         
118         Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
119         Serial.println(jsonBuffer.size());
120         Serial.println();
121 
122         sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"r"});
123         
124         \textcolor{keywordflow}{if}(!sensorsData)
125         \{
126             
127             Serial.println(F(\textcolor{stringliteral}{"failed to reopen /sensorsData.json"}));
128             \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
129                         
130         \}
131     
132         Serial.println( F(\textcolor{stringliteral}{"saved data is : "}) );
133         root.printTo(Serial);
134         Serial.println();
135 
136         Serial.println(F(\textcolor{stringliteral}{"/sensorsData.json"}) );
137         \textcolor{keywordflow}{while} (sensorsData.available()) 
138         \{
139             Serial.println(sensorsData.readString()) ;
140         \}
141         
142         Serial.println();
143         
144         sensorsData.close();
145     
146 \textcolor{preprocessor}{    #endif}
147 
148         this->\hyperlink{class_cool_file_system_ab78704d5d21ce10fc6f1138ab5ab46c8}{saveSensorDataCSV}(data);     
149 
150         \textcolor{comment}{//new data}
151         this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}++;
152 
153         this->\hyperlink{class_cool_file_system_aae045125288f255f3e258073dcada2a6}{incrementsavedData}();
154         
155         \textcolor{keywordflow}{return} (\textcolor{keyword}{true});      
156     \}
157     \textcolor{keywordflow}{else}
158     \{
159     
160 \textcolor{preprocessor}{    #if DEBUG == 1}
161 
162         Serial.println( F(\textcolor{stringliteral}{"failed to parse json"}) );
163     
164 \textcolor{preprocessor}{    #endif}
165         \textcolor{comment}{//old data}
166         this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}=\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData};
167 
168         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
169     \}
170     
171 
172 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_afa3a4feae94871d4d3b6bebb701c2e67_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_afa3a4feae94871d4d3b6bebb701c2e67_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_ab78704d5d21ce10fc6f1138ab5ab46c8}\label{class_cool_file_system_ab78704d5d21ce10fc6f1138ab5ab46c8}} 
\index{Cool\+File\+System@{Cool\+File\+System}!save\+Sensor\+Data\+C\+SV@{save\+Sensor\+Data\+C\+SV}}
\index{save\+Sensor\+Data\+C\+SV@{save\+Sensor\+Data\+C\+SV}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{save\+Sensor\+Data\+C\+S\+V()}{saveSensorDataCSV()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::save\+Sensor\+Data\+C\+SV (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data }\end{DoxyParamCaption})}

Cool\+File\+System\+::save\+Sensor\+Data\+C\+S\+V( data )\+: This method is provided to save the data on the local memory in C\+SV format.

\begin{DoxyReturn}{Returns}
true if the data was saved, false otherwise 
\end{DoxyReturn}


Definition at line 183 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
184 \{
185 \textcolor{preprocessor}{#if DEBUG == 1}
186 
187     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.saveSensorDataCSV()"}) );
188     Serial.println();
189 
190 \textcolor{preprocessor}{#endif}
191     \textcolor{comment}{//parsing json}
192     DynamicJsonBuffer jsonBuffer;
193     JsonObject& root = jsonBuffer.parseObject(data);
194     String header=\textcolor{stringliteral}{""},values=\textcolor{stringliteral}{""};
195     
196     \textcolor{comment}{//if json parse success}
197     \textcolor{keywordflow}{if}( root.success() )
198     \{       
199         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} kv : root) 
200         \{
201             \textcolor{comment}{//print the header(json keys ) to header string}
202             header+=kv.key;
203             header+=\textcolor{charliteral}{','};
204             
205             \textcolor{comment}{//print the values to header string}
206             values+=( kv.value.as<\textcolor{keywordtype}{char}*>() );
207             values+=\textcolor{charliteral}{','};
208         \}
209 
210         header.remove(header.lastIndexOf(\textcolor{charliteral}{','}), 1);
211         values.remove(values.lastIndexOf(\textcolor{charliteral}{','}), 1);      
212     
213 \textcolor{preprocessor}{    #if DEBUG == 1}
214     
215         Serial.println( F(\textcolor{stringliteral}{" data is : "}) );
216         root.printTo(Serial);
217         Serial.println();
218         
219         Serial.println(F(\textcolor{stringliteral}{" header is :"} ) ) ;
220         Serial.println(header);
221         Serial.println(F(\textcolor{stringliteral}{" values are : "}));
222         Serial.println(values);
223         
224         Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
225         Serial.println(jsonBuffer.size());
226         Serial.println();
227 
228     
229 \textcolor{preprocessor}{    #endif}
230     
231     \}
232     \textcolor{comment}{//failed to parse json}
233     \textcolor{keywordflow}{else}
234     \{
235     
236 \textcolor{preprocessor}{    #if DEBUG == 1}
237 
238         Serial.println( F(\textcolor{stringliteral}{"failed to parse json"}) );
239     
240 \textcolor{preprocessor}{    #endif}
241 
242         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
243     \}
244 
245     \textcolor{comment}{//check if file exists}
246     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"r"});
247     
248     \textcolor{comment}{//file doesn't exist}
249     \textcolor{keywordflow}{if}( (!sensorsData) || (sensorsData.size()==0 ) )
250     \{
251     
252 \textcolor{preprocessor}{    #if DEBUG == 1}
253     
254         Serial.println( F(\textcolor{stringliteral}{"/sensorsData.csv not found"}) );
255         Serial.println( F(\textcolor{stringliteral}{"creating /sensorsData.csv"}) );
256         Serial.println();
257     
258 \textcolor{preprocessor}{    #endif}
259         \textcolor{comment}{//create file}
260         sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"w"});
261         
262         \textcolor{keywordflow}{if}(!sensorsData)
263         \{
264 
265 \textcolor{preprocessor}{        #if DEBUG == 1}
266         
267             Serial.println( F(\textcolor{stringliteral}{"failed to create /sensorsData.csv"}) );
268             Serial.println();
269         
270 \textcolor{preprocessor}{        #endif}
271         
272             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
273 
274         \}
275         
276         \textcolor{comment}{//print the header(json keys ) to the CSV file}
277         sensorsData.println(header);
278 
279         \textcolor{comment}{//print the values to the CSV file}
280         sensorsData.println(values);
281         
282         sensorsData.close();
283     
284 \textcolor{preprocessor}{    #if DEBUG == 1}
285 
286         sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"r"});
287         
288         \textcolor{keywordflow}{if}(!sensorsData)
289         \{
290             Serial.println(F(\textcolor{stringliteral}{"failed to reopen /sensorsData.csv "}));
291             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});      
292         \}
293 
294         Serial.println( F(\textcolor{stringliteral}{"/sensorsData.csv : "}) );
295 
296         \textcolor{keywordflow}{while} (sensorsData.available()) 
297         \{
298             Serial.print(sensorsData.readString()) ;
299         \}
300         Serial.println();
301 
302         \textcolor{comment}{//close the file}
303         sensorsData.close();
304 
305 \textcolor{preprocessor}{    #endif}
306         
307 
308         
309         \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
310         
311     \}
312 
313     \textcolor{comment}{//file exist}
314     \textcolor{keywordflow}{else}
315     \{
316 
317 \textcolor{preprocessor}{    #if DEBUG == 1}
318     
319         Serial.println( F(\textcolor{stringliteral}{"/sensorsData.csv  found"}) );
320         Serial.println( F(\textcolor{stringliteral}{"appending to /sensorsData.csv"}) );
321         Serial.println();
322     
323 \textcolor{preprocessor}{    #endif}
324 
325         \textcolor{comment}{//append to file}
326         sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"a"});
327         
328         \textcolor{keywordflow}{if}(!sensorsData)
329         \{
330         
331 \textcolor{preprocessor}{        #if DEBUG == 1}
332             
333             Serial.println( F(\textcolor{stringliteral}{"failed to open /sensorsData.csv"}) );
334             Serial.println();
335 
336 \textcolor{preprocessor}{        #endif}
337             
338             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
339         
340         \}
341 
342         \textcolor{comment}{//print the values to the CSV file}
343         sensorsData.println(values);
344         
345         sensorsData.close();
346 
347 \textcolor{preprocessor}{    #if DEBUG == 1}
348 
349         sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"r"});
350         
351         \textcolor{keywordflow}{if}(!sensorsData)
352         \{
353             Serial.println(F(\textcolor{stringliteral}{"failed to reopen /sensorsData.csv "}));
354             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});      
355         \}
356 
357         
358         Serial.println( F(\textcolor{stringliteral}{"/sensorsData.csv : "}) );
359 
360         \textcolor{keywordflow}{while} (sensorsData.available()) 
361         \{
362             Serial.println(sensorsData.readString()) ;
363         \}
364         
365         Serial.println();
366         
367         sensorsData.close();
368         
369 \textcolor{preprocessor}{    #endif      }
370         
371         \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
372     
373     \}   
374 
375 
376 
377 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_ab78704d5d21ce10fc6f1138ab5ab46c8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_adfa8e2e80641ae6f0cceabd348a9b841}\label{class_cool_file_system_adfa8e2e80641ae6f0cceabd348a9b841}} 
\index{Cool\+File\+System@{Cool\+File\+System}!update\+Config\+Files@{update\+Config\+Files}}
\index{update\+Config\+Files@{update\+Config\+Files}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{update\+Config\+Files()}{updateConfigFiles()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::update\+Config\+Files (\begin{DoxyParamCaption}\item[{String}]{answer }\end{DoxyParamCaption})}

Cool\+File\+System\+::update\+Config\+Files( mqtt answer )\+: This method is provided to update the configuration files when the appropriate mqtt answer is received

\begin{DoxyReturn}{Returns}
true if the files are updated correctly, false otherwise 
\end{DoxyReturn}


Definition at line 388 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
389 \{
390 
391 \textcolor{preprocessor}{#if DEBUG == 1}
392 
393     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.updateConfigFiles"}) );
394     Serial.println();
395     
396     Serial.println( F(\textcolor{stringliteral}{"input answer : "}) );
397     Serial.println(answer);
398 \textcolor{preprocessor}{#endif}
399 
400     \textcolor{comment}{//total json object }
401     DynamicJsonBuffer jsonBuffer;
402     JsonObject& root = jsonBuffer.parseObject( answer.c\_str() );
403 
404 \textcolor{preprocessor}{#if DEBUG == 1}
405     
406     Serial.println( F(\textcolor{stringliteral}{"json object : "}) );  
407     root.printTo(Serial);
408     Serial.println();
409     
410     Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
411     Serial.println(jsonBuffer.size());
412     Serial.println();
413 
414 
415 \textcolor{preprocessor}{#endif}
416 
417     \textcolor{keywordflow}{if}(! ( root.success() ))
418     \{
419     
420 \textcolor{preprocessor}{    #if DEBUG == 1}
421 
422         Serial.println( F(\textcolor{stringliteral}{"failed to parse root "}) );
423         Serial.println();
424     
425 \textcolor{preprocessor}{    #endif}
426 
427         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
428     \}
429     \textcolor{keywordflow}{else}
430     \{
431 \textcolor{preprocessor}{    #if DEBUG == 1}
432         
433         Serial.println( F(\textcolor{stringliteral}{"success to parse root "}) );
434         Serial.println();
435         
436 \textcolor{preprocessor}{    #endif  }
437     \}
438     
439 \textcolor{preprocessor}{#if DEBUG == 1}
440 
441     Serial.println( F(\textcolor{stringliteral}{"input message is : "}) );
442     root.printTo(Serial);
443     Serial.println();
444 
445 \textcolor{preprocessor}{#endif}
446     \textcolor{comment}{//temp string}
447     String \hyperlink{_irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp};
448 
449     \textcolor{comment}{//CoolBoard Configuration File}
450 
451         JsonObject& jsonCoolBoard=root[\textcolor{stringliteral}{"CoolBoard"}];
452 
453 \textcolor{preprocessor}{#if DEBUG == 1}
454 
455     Serial.println( F(\textcolor{stringliteral}{"before config CoolBoard json"}) );
456     jsonCoolBoard.printTo(Serial);
457 
458 \textcolor{preprocessor}{#endif}
459 
460     \textcolor{keywordflow}{if}(jsonCoolBoard.success())
461     \{
462         String update;
463     
464         jsonCoolBoard.printTo(update);
465 
466         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/coolBoardConfig.json"});     
467         
468     \}
469     \textcolor{keywordflow}{else}
470     \{
471     
472 \textcolor{preprocessor}{    #if DEBUG == 1 }
473 
474         Serial.println( F(\textcolor{stringliteral}{"failed to parse CoolBoard "}) );
475     
476 \textcolor{preprocessor}{    #endif}
477 
478     \}       
479 
480     
481     \textcolor{comment}{//Cool Board Sensors Configuration File}
482         JsonObject& jsonSensorsBoard=root[\textcolor{stringliteral}{"CoolSensorsBoard"}];
483 
484 \textcolor{preprocessor}{#if DEBUG == 1 }
485 
486     Serial.println( F(\textcolor{stringliteral}{"before config CoolSensorsBoard json"}) );
487     jsonSensorsBoard.printTo(Serial);
488 
489 \textcolor{preprocessor}{#endif }
490     
491     \textcolor{keywordflow}{if}(jsonSensorsBoard.success())
492     \{   
493         String update;
494     
495         jsonSensorsBoard.printTo(update);
496 
497         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/coolBoardSensorsConfig.json"});      
498 
499     \}
500     \textcolor{keywordflow}{else}
501     \{
502 
503 \textcolor{preprocessor}{    #if DEBUG == 1}
504 
505         Serial.println( F(\textcolor{stringliteral}{"failed to parse CoolSensorsBoard sensors "}) );   
506     
507 \textcolor{preprocessor}{    #endif}
508 
509     \}
510 
511     \textcolor{comment}{//Cool Board Actor Configuration File}
512         JsonObject& jsonCoolBoardActor=root[\textcolor{stringliteral}{"CoolBoardActor"}];
513 
514 \textcolor{preprocessor}{#if DEBUG == 1 }
515 
516     Serial.println( F(\textcolor{stringliteral}{"before config CoolBoardActor json"}) );
517     jsonCoolBoardActor.printTo(Serial);
518 
519 \textcolor{preprocessor}{#endif }
520     
521     \textcolor{keywordflow}{if}(jsonCoolBoardActor.success())
522     \{   
523         String update;
524     
525         jsonCoolBoardActor.printTo(update);
526 
527         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/coolBoardActorConfig.json"});        
528 
529     \}
530     \textcolor{keywordflow}{else}
531     \{
532 
533 \textcolor{preprocessor}{    #if DEBUG == 1}
534 
535         Serial.println( F(\textcolor{stringliteral}{"failed to parse CoolBoardActor json "}) );    
536     
537 \textcolor{preprocessor}{    #endif}
538 
539     \}
540 
541     
542     \textcolor{comment}{//rtc configuration file}
543         JsonObject& jsonRTC=root[\textcolor{stringliteral}{"rtc"}];
544 
545 \textcolor{preprocessor}{#if DEBUG == 1 }
546     
547     Serial.println( F(\textcolor{stringliteral}{"before config rtc json"}) );
548     jsonRTC.printTo(Serial);
549 
550 \textcolor{preprocessor}{#endif}
551     \textcolor{keywordflow}{if}(jsonRTC.success() )
552     \{
553         String update;
554 
555         jsonRTC.printTo(update);
556 
557         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/rtcConfig.json"});           
558     \}
559     \textcolor{keywordflow}{else}
560     \{
561     
562 \textcolor{preprocessor}{    #if DEBUG == 1 }
563 
564         Serial.println( F(\textcolor{stringliteral}{"failed to parse rtc "}) );
565     
566 \textcolor{preprocessor}{    #endif}
567 
568     \}
569     
570     
571         \textcolor{comment}{//cool board led configuration}
572         JsonObject& jsonLedBoard=root[\textcolor{stringliteral}{"led"}];
573     
574 \textcolor{preprocessor}{#if DEBUG == 1 }
575 
576     Serial.println( F(\textcolor{stringliteral}{"before config Led json"}) );
577     jsonLedBoard.printTo(Serial);
578 
579 \textcolor{preprocessor}{#endif}
580 
581     \textcolor{keywordflow}{if}(jsonLedBoard.success())
582     \{   
583         String update;
584     
585         jsonLedBoard.printTo(update);
586 
587         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/coolBoardLedConfig.json"});      
588 
589     
590     \}
591     \textcolor{keywordflow}{else}
592     \{
593     
594 \textcolor{preprocessor}{    #if DEBUG == 1 }
595 
596         Serial.println( F(\textcolor{stringliteral}{"failed to parse led"}) );
597     
598 \textcolor{preprocessor}{    #endif }
599 
600     \}
601         
602 
603     
604 
605     \textcolor{comment}{//jetpack configuration}
606         JsonObject& jsonJetpack=root[\textcolor{stringliteral}{"jetPack"}];
607 
608 \textcolor{preprocessor}{#if DEBUG == 1 }
609 
610     Serial.println( F(\textcolor{stringliteral}{"before config jetpack json"}) );
611     jsonJetpack.printTo(Serial);
612 
613 \textcolor{preprocessor}{#endif}
614 
615     \textcolor{keywordflow}{if}(jsonJetpack.success())
616     \{
617     
618         String update;
619     
620         jsonJetpack.printTo(update);
621 
622         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/jetPackConfig.json"});       
623 
624     \}
625 
626     \textcolor{keywordflow}{else}
627     \{
628     
629 \textcolor{preprocessor}{    #if DEBUG == 1 }
630 
631         Serial.println( F(\textcolor{stringliteral}{"failed to parse jetpack"}) ); 
632     
633 \textcolor{preprocessor}{    #endif}
634 
635     \}
636     
637     \textcolor{comment}{//irene configuration   }
638         JsonObject& jsonIrene=root[\textcolor{stringliteral}{"irene3000"}];
639     
640 \textcolor{preprocessor}{#if DEBUG == 1 }
641 
642     Serial.println( F(\textcolor{stringliteral}{"before config irene json"}) );    
643     jsonIrene.printTo(Serial);
644 
645 \textcolor{preprocessor}{#endif }
646 
647     \textcolor{keywordflow}{if}(jsonIrene.success())
648     \{
649 
650         String update;
651     
652         jsonIrene.printTo(update);
653 
654         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/irene3000Config.json"});     
655     
656     \}
657     \textcolor{keywordflow}{else}
658     \{
659     
660 \textcolor{preprocessor}{    #if DEBUG == 1 }
661 
662         Serial.println( F(\textcolor{stringliteral}{"failed to parse irene"}) );   
663     
664 \textcolor{preprocessor}{    #endif }
665 
666 
667     \}
668     
669     \textcolor{comment}{//external sensors}
670         JsonObject& jsonExternalSensors=root[\textcolor{stringliteral}{"externalSensors"}];
671 
672 \textcolor{preprocessor}{#if DEBUG == 1 }
673 
674     Serial.println( F(\textcolor{stringliteral}{"before config external Sensors json"}) );
675     jsonExternalSensors.printTo(Serial);
676 
677 \textcolor{preprocessor}{#endif}
678 
679     \textcolor{keywordflow}{if}(jsonExternalSensors.success())
680     \{
681 
682         String update;
683     
684         jsonExternalSensors.printTo(update);
685 
686         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/externalSensorsConfig.json"});       
687 
688     \}
689 
690     \textcolor{keywordflow}{else}
691     \{   
692 
693 \textcolor{preprocessor}{    #if DEBUG == 1}
694         
695         Serial.println( F(\textcolor{stringliteral}{"failed to parse external sensors"}) );
696 
697 \textcolor{preprocessor}{    #endif}
698 
699 
700     \}
701 
702     
703     \textcolor{comment}{//mqtt config}
704         JsonObject& jsonMQTT=root[\textcolor{stringliteral}{"mqtt"}];
705     
706 \textcolor{preprocessor}{#if DEBUG == 1 }
707 
708     Serial.println( F(\textcolor{stringliteral}{"before config mqtt json"}) );
709     jsonMQTT.printTo(Serial);
710 
711 \textcolor{preprocessor}{#endif}
712 
713     \textcolor{keywordflow}{if}(jsonMQTT.success())
714     \{
715 
716         String update;
717     
718         jsonMQTT.printTo(update);
719 
720         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/mqttConfig.json"});      
721 
722     \}
723     \textcolor{keywordflow}{else}
724     \{
725 
726 \textcolor{preprocessor}{    #if DEBUG == 1 }
727 
728         Serial.println( F(\textcolor{stringliteral}{"failed to parse mqtt"}) );
729     
730 \textcolor{preprocessor}{    #endif}
731 
732     
733     \}   
734 
735     \textcolor{comment}{//wifi config}
736         JsonObject& jsonWifi=root[\textcolor{stringliteral}{"wifi"}];
737     
738 \textcolor{preprocessor}{#if DEBUG == 1 }
739 
740     Serial.println( F(\textcolor{stringliteral}{"before config wifi json"}) );
741     jsonWifi.printTo(Serial);
742 
743 \textcolor{preprocessor}{#endif}
744 
745     \textcolor{keywordflow}{if}(jsonWifi.success())
746     \{
747 
748         String update;
749     
750         jsonWifi.printTo(update);
751 
752         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/wifiConfig.json"});      
753 
754     \}
755     \textcolor{keywordflow}{else}
756     \{
757 
758 \textcolor{preprocessor}{    #if DEBUG == 1 }
759 
760         Serial.println( F(\textcolor{stringliteral}{"failed to parse wifi"}) );
761     
762 \textcolor{preprocessor}{    #endif}
763 
764     
765     \}   
766         
767     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
768 
769 \}   
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_adfa8e2e80641ae6f0cceabd348a9b841_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_adfa8e2e80641ae6f0cceabd348a9b841_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}\label{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}} 
\index{Cool\+File\+System@{Cool\+File\+System}!lines\+To\+Skip@{lines\+To\+Skip}}
\index{lines\+To\+Skip@{lines\+To\+Skip}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{lines\+To\+Skip}{linesToSkip}}
{\footnotesize\ttfamily int Cool\+File\+System\+::lines\+To\+Skip =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 70 of file Cool\+File\+System.\+h.

\mbox{\Hypertarget{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}\label{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}} 
\index{Cool\+File\+System@{Cool\+File\+System}!saved\+Data@{saved\+Data}}
\index{saved\+Data@{saved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{saved\+Data}{savedData}}
{\footnotesize\ttfamily int Cool\+File\+System\+::saved\+Data =0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 68 of file Cool\+File\+System.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/src/\hyperlink{_cool_file_system_8h}{Cool\+File\+System.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/src/\hyperlink{_cool_file_system_8cpp}{Cool\+File\+System.\+cpp}\end{DoxyCompactItemize}
