\hypertarget{class_cool_file_system}{}\section{Cool\+File\+System Class Reference}
\label{class_cool_file_system}\index{Cool\+File\+System@{Cool\+File\+System}}


This class handles the file system.  




{\ttfamily \#include $<$Cool\+File\+System.\+h$>$}



Collaboration diagram for Cool\+File\+System\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=205pt]{d0/d8f/class_cool_file_system__coll__graph}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{class_cool_file_system_a6ba6f666ed4c530174f8569d2c636748}{begin} ()
\item 
bool \hyperlink{class_cool_file_system_adfa8e2e80641ae6f0cceabd348a9b841}{update\+Config\+Files} (String answer)
\item 
bool \hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{file\+Update} (String update, const char $\ast$path)
\item 
bool \hyperlink{class_cool_file_system_afa3a4feae94871d4d3b6bebb701c2e67}{save\+Sensor\+Data} (const char $\ast$data)
\item 
bool \hyperlink{class_cool_file_system_ab78704d5d21ce10fc6f1138ab5ab46c8}{save\+Sensor\+Data\+C\+SV} (const char $\ast$data)
\item 
int \hyperlink{class_cool_file_system_ac86a40e7c3a1842f7342f698d34324f9}{is\+Data\+Saved} ()
\item 
String $\ast$ \hyperlink{class_cool_file_system_a3223ffff4266a6300988fab956d6b4b2}{get\+Sensor\+Saved\+Data} (int \&size)
\item 
bool \hyperlink{class_cool_file_system_aae045125288f255f3e258073dcada2a6}{incrementsaved\+Data} ()
\item 
void \hyperlink{class_cool_file_system_a70701d05e811604af1b531f4f6dc69ed}{getsaved\+Data} ()
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{saved\+Data} =0
\item 
int \hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{lines\+To\+Skip} =0
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class handles the file system. 

Definition at line 45 of file Cool\+File\+System.\+h.



\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_cool_file_system_a6ba6f666ed4c530174f8569d2c636748}\label{class_cool_file_system_a6ba6f666ed4c530174f8569d2c636748}} 
\index{Cool\+File\+System@{Cool\+File\+System}!begin@{begin}}
\index{begin@{begin}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::begin (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{class_cool_file_system_a6ba6f666ed4c530174f8569d2c636748}{Cool\+File\+System\+::begin()}\+: This method is provided to start the S\+P\+I\+F\+FS object.

\begin{DoxyReturn}{Returns}
true if S\+P\+I\+F\+FS was initialized correctly, false otherwise 
\end{DoxyReturn}


Definition at line 49 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
50 \{
51     \textcolor{keywordtype}{bool} sResult=SPIFFS.begin();
52     
53 
54 \textcolor{preprocessor}{#if DEBUG == 1}
55 
56     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.begin()"}) );
57     Serial.println();   
58     Serial.print( F(\textcolor{stringliteral}{"SPIFFS success ? "}) );
59     Serial.println(sResult);
60     Serial.println(  );
61 
62 \textcolor{preprocessor}{#endif}
63     \textcolor{comment}{//get the data from the files}
64     this->\hyperlink{class_cool_file_system_a70701d05e811604af1b531f4f6dc69ed}{getsavedData}();
65 
66     \textcolor{keywordflow}{return}( sResult  );                                   \textcolor{comment}{//Initialize Filesystem}
67 
68 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_a6ba6f666ed4c530174f8569d2c636748_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=327pt]{db/d0c/class_cool_file_system_a6ba6f666ed4c530174f8569d2c636748_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}\label{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}} 
\index{Cool\+File\+System@{Cool\+File\+System}!file\+Update@{file\+Update}}
\index{file\+Update@{file\+Update}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{file\+Update()}{fileUpdate()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::file\+Update (\begin{DoxyParamCaption}\item[{String}]{update,  }\item[{const char $\ast$}]{path }\end{DoxyParamCaption})}

Cool\+File\+System\+::file\+Update( update msg, file path)\+: This method is provided to ensure the correct update for each configuration file in the File system

\begin{DoxyReturn}{Returns}
true if successful , false otherwise 
\end{DoxyReturn}


Definition at line 1002 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
1003 \{
1004 
1005 \textcolor{preprocessor}{#if DEBUG == 1}
1006 
1007     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.fileUpdate()"}) );
1008     Serial.println();
1009     
1010     Serial.println(F(\textcolor{stringliteral}{"update msg is :"}));
1011     Serial.println(update);
1012     
1013     Serial.println(F(\textcolor{stringliteral}{"file path is : "}));
1014     Serial.println(path);   
1015 
1016 \textcolor{preprocessor}{#endif}
1017     \textcolor{comment}{//transfer update String to json}
1018     DynamicJsonBuffer updateBuffer;
1019     JsonObject& updateJson = updateBuffer.parseObject(update.c\_str() );
1020     
1021     \textcolor{keywordflow}{if}(updateJson.success())
1022     \{
1023     
1024 \textcolor{preprocessor}{    #if DEBUG ==1}
1025         
1026         Serial.println(F(\textcolor{stringliteral}{"root parsing success :"}));
1027         updateJson.printTo(Serial);
1028     
1029 \textcolor{preprocessor}{    #endif}
1030 
1031     \}
1032     \textcolor{keywordflow}{else}
1033     \{
1034     
1035 \textcolor{preprocessor}{    #if DEBUG == 1 }
1036     
1037         Serial.println(F(\textcolor{stringliteral}{"root parsing failure "}));
1038     
1039 \textcolor{preprocessor}{    #endif}
1040         
1041         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});  
1042 
1043     \}
1044     
1045     \textcolor{comment}{//open file in read mode}
1046     File configFile = SPIFFS.open( path , \textcolor{stringliteral}{"r"});
1047     
1048     \textcolor{keywordflow}{if}(!configFile)
1049     \{   
1050 \textcolor{preprocessor}{    #if DEBUG == 1}
1051         
1052         Serial.print( F(\textcolor{stringliteral}{"failed to read "}) );
1053         Serial.println(path);
1054 
1055 \textcolor{preprocessor}{    #endif}
1056         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
1057     \}
1058 
1059     \textcolor{comment}{//copy file to a json}
1060     \textcolor{keywordtype}{size\_t} size = configFile.size();
1061 
1062     \textcolor{comment}{// Allocate a buffer to store contents of the file.}
1063     std::unique\_ptr < char[] > buf(\textcolor{keyword}{new} \textcolor{keywordtype}{char}[size]);
1064 
1065     configFile.readBytes(buf.get(), size);
1066 
1067     DynamicJsonBuffer fileBuffer;
1068 
1069     JsonObject & fileJson = fileBuffer.parseObject(buf.get());
1070 
1071     \textcolor{keywordflow}{if} (!fileJson.success())
1072     \{
1073 
1074 \textcolor{preprocessor}{    #if DEBUG == 1}
1075 
1076         Serial.println( F(\textcolor{stringliteral}{"failed to parse json"}) );
1077 
1078 \textcolor{preprocessor}{    #endif}
1079 
1080         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
1081     \}
1082     
1083     \textcolor{comment}{//modify root to contain all the json keys: updated ones and non updated ones}
1084     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} kv : fileJson) 
1085     \{
1086         \textcolor{keywordflow}{if}( updateJson[kv.key].success() )
1087         \{
1088             fileJson[kv.key]=updateJson[kv.key];            
1089         \}
1090         \textcolor{keywordflow}{else}
1091         \{
1092             fileJson[kv.key]=fileJson[kv.key];
1093         \}
1094 
1095                 
1096     \}
1097 
1098 \textcolor{preprocessor}{#if DEBUG == 1}
1099 
1100     Serial.println(F(\textcolor{stringliteral}{"fileJson is now : "}));
1101     fileJson.printTo(Serial);
1102 
1103 \textcolor{preprocessor}{#endif}
1104 
1105     \textcolor{comment}{//close the file}
1106     configFile.close();
1107 
1108     \textcolor{comment}{//open file in w mode}
1109     configFile = SPIFFS.open( path , \textcolor{stringliteral}{"w"});
1110     
1111     \textcolor{keywordflow}{if}(!configFile)
1112     \{   
1113 \textcolor{preprocessor}{    #if DEBUG == 1}
1114         
1115         Serial.print( F(\textcolor{stringliteral}{"failed to open "}) );
1116         Serial.println(path);
1117 
1118 \textcolor{preprocessor}{    #endif}
1119         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
1120     \}
1121     \textcolor{comment}{//print json to file    }
1122     
1123     fileJson.printTo(configFile);
1124     
1125     \textcolor{comment}{//close file}
1126     configFile.close();
1127 
1128 
1129 \textcolor{preprocessor}{#if DEBUG == 1}
1130 
1131     Serial.println( F(\textcolor{stringliteral}{"config is"}) );
1132     fileJson.printTo(Serial);
1133     Serial.println();
1134 
1135 \textcolor{preprocessor}{#endif}
1136     
1137     \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
1138     
1139 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_a70701d05e811604af1b531f4f6dc69ed}\label{class_cool_file_system_a70701d05e811604af1b531f4f6dc69ed}} 
\index{Cool\+File\+System@{Cool\+File\+System}!getsaved\+Data@{getsaved\+Data}}
\index{getsaved\+Data@{getsaved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{getsaved\+Data()}{getsavedData()}}
{\footnotesize\ttfamily void Cool\+File\+System\+::getsaved\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{class_cool_file_system_a70701d05e811604af1b531f4f6dc69ed}{Cool\+File\+System\+::getsaved\+Data()}\+: This method is provided to get the saved\+Data flag from the file system 

Definition at line 1201 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
1202 \{
1203 
1204 
1205 \textcolor{preprocessor}{#if DEBUG == 1}
1206     
1207     Serial.println(F(\textcolor{stringliteral}{"Entering CoolFileSystem.getsavedData()"}));    
1208     
1209 \textcolor{preprocessor}{#endif}
1210     \textcolor{comment}{//open file}
1211     File file=SPIFFS.open(\textcolor{stringliteral}{"/savedDataFlag.txt"},\textcolor{stringliteral}{"r"});    
1212     \textcolor{comment}{//read file}
1213     \textcolor{keywordflow}{if}( !file)  
1214     \{
1215         Serial.println( F(\textcolor{stringliteral}{"failed to read savedDataFlag.txt"}) );
1216         
1217     \}
1218     \textcolor{keywordflow}{else}
1219     \{       
1220         \textcolor{comment}{//read from file    }
1221         String \hyperlink{_irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp}=file.readStringUntil(\textcolor{charliteral}{' '});
1222         
1223         this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}=temp.toInt();
1224 
1225         
1226         temp=file.readStringUntil(\textcolor{charliteral}{'\(\backslash\)n'});
1227         this-> \hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip}=temp.toInt();;    
1228         
1229         file.close();   
1230     \}
1231     
1232 \textcolor{preprocessor}{#if DEBUG == 1}
1233 
1234     Serial.print(F(\textcolor{stringliteral}{"number of lines to read :"}));
1235     Serial.println(this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData});
1236     
1237     Serial.print(F(\textcolor{stringliteral}{"number of lines to skip :"}));
1238     Serial.println(this->\hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip});
1239 
1240 \textcolor{preprocessor}{#endif}
1241     
1242 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_a70701d05e811604af1b531f4f6dc69ed_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_a3223ffff4266a6300988fab956d6b4b2}\label{class_cool_file_system_a3223ffff4266a6300988fab956d6b4b2}} 
\index{Cool\+File\+System@{Cool\+File\+System}!get\+Sensor\+Saved\+Data@{get\+Sensor\+Saved\+Data}}
\index{get\+Sensor\+Saved\+Data@{get\+Sensor\+Saved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{get\+Sensor\+Saved\+Data()}{getSensorSavedData()}}
{\footnotesize\ttfamily String $\ast$ Cool\+File\+System\+::get\+Sensor\+Saved\+Data (\begin{DoxyParamCaption}\item[{int \&}]{lines }\end{DoxyParamCaption})}

Cool\+File\+System\+::get\+Sensor\+Data(int \&lines)\+: This method is provided to return the sensor data saved in the File System 10 lines at a time

\begin{DoxyReturn}{Returns}
String array containing 50 first lines from the file modifies tge lines argument to reflect the number of lines left 
\end{DoxyReturn}


Definition at line 841 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
842 \{
843     \textcolor{keywordtype}{int} maxString=50;
844     String *sensorsDataArray=\textcolor{keyword}{new} String[maxString];
845     lines=0;
846 
847 \textcolor{preprocessor}{#if DEBUG == 1 }
848 
849     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.getSensorSavedData()"}) );
850     Serial.println();
851 
852 \textcolor{preprocessor}{#endif}
853 
854     \textcolor{comment}{//open sensors data file}
855     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"r"});
856     
857     \textcolor{keywordflow}{if} (!sensorsData)
858     \{
859 
860 \textcolor{preprocessor}{    #if DEBUG == 1 }
861 
862         Serial.println( F(\textcolor{stringliteral}{"Failed to read /sensorsData.json"}) );
863 
864 \textcolor{preprocessor}{    #endif}
865          
866         sensorsDataArray[0]=\textcolor{stringliteral}{"Failed to read /sensorsData.json"};
867         lines++;
868 
869         \textcolor{comment}{//result=sensorsDataArray;}
870         \textcolor{keywordflow}{return}(sensorsDataArray);
871 
872     \}
873 
874     \textcolor{keywordflow}{else}
875     \{
876         \textcolor{comment}{//read the file line by line and put it in the String array(aka String*)        }
877 
878         \textcolor{comment}{//while loop until EOF is reached}
879         String \hyperlink{_irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp};
880         \textcolor{keywordflow}{while}(sensorsData.available())
881         \{
882             yield();
883             
884             temp=sensorsData.readStringUntil(\textcolor{charliteral}{'\(\backslash\)r'});
885 
886             \textcolor{keywordflow}{if}(\hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip}>0)
887             \{
888 
889                 \hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip}--;
890         
891             \}
892             \textcolor{keywordflow}{else}
893             \{
894 
895 \textcolor{preprocessor}{            #if DEBUG == 1}
896 
897                 Serial.println(F(\textcolor{stringliteral}{"temp String : "}));
898                 Serial.println(temp);
899                 Serial.println();
900             
901 \textcolor{preprocessor}{            #endif}
902             
903                 sensorsDataArray[lines]=\hyperlink{_irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp};
904                 sensorsData.read();
905             
906             
907         
908 \textcolor{preprocessor}{            #if DEBUG== 1}
909      
910                 Serial.print(F(\textcolor{stringliteral}{"read String N°"}));
911                 Serial.print(lines);
912                 Serial.println(F(\textcolor{stringliteral}{" is : "}));
913                 Serial.println( sensorsDataArray[lines] );
914                 Serial.println();
915                 Serial.println(F(\textcolor{stringliteral}{"next char is : "}));
916                 Serial.println((\textcolor{keywordtype}{char})sensorsData.peek());
917                 Serial.println();           
918             
919 \textcolor{preprocessor}{            #endif}
920                 lines++;
921             
922                 \textcolor{comment}{//maximum size is maxString(index : 0..maxString-1)}
923                 \textcolor{keywordflow}{if}(lines>=maxString)
924                 \{
925                     \textcolor{keywordflow}{break};
926                 \}
927             
928                 yield();
929             
930             \}
931 
932         \}
933         
934                     
935         \textcolor{comment}{//close the file}
936         sensorsData.close();
937 
938         \textcolor{comment}{//position the saved data flag to the number of unread lines}
939         this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}=\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}-lines;
940         
941         \textcolor{comment}{//position the number of lines to skip to the number of read lines  }
942         this->\hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip}=lines;
943 
944         \textcolor{comment}{//delete data in the file only if savedData<=0}
945         \textcolor{keywordflow}{if}(this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}<=0)
946         \{
947             File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"w"});
948             File sensorsDataCSV=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"w"});
949             \textcolor{keywordflow}{if}( (!sensorsData)||(!sensorsDataCSV) ) 
950             \{
951 \textcolor{preprocessor}{            #if DEBUG == 1}
952     
953                 Serial.println( F(\textcolor{stringliteral}{"failed to delete data in the file"}) );
954     
955 \textcolor{preprocessor}{            #endif}
956                 lines++;
957                 sensorsDataArray[lines]=\textcolor{stringliteral}{"failed to delete data in the file"};
958 
959                 \textcolor{keywordflow}{return}(sensorsDataArray);
960 
961             \}
962 
963             sensorsData.close();
964             sensorsDataCSV.close();
965             
966             this->\hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip}=0;
967         
968         \}
969 
970         \textcolor{comment}{//save the changes to linesToSkip and savedData in the file system}
971         this->\hyperlink{class_cool_file_system_aae045125288f255f3e258073dcada2a6}{incrementsavedData}();
972 
973         \textcolor{comment}{//return the string}
974 \textcolor{preprocessor}{        #if DEBUG == 1}
975         
976             \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=0;i<lines;i++)
977             \{
978                 Serial.print(F(\textcolor{stringliteral}{"String N°"}));
979                 Serial.println(i);
980                 Serial.println(sensorsDataArray[i]);
981                 Serial.println();           
982             \}
983     
984 \textcolor{preprocessor}{        #endif}
985         \textcolor{keywordflow}{return}(sensorsDataArray);
986         
987         
988         
989     \}
990 
991 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_a3223ffff4266a6300988fab956d6b4b2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_a3223ffff4266a6300988fab956d6b4b2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_aae045125288f255f3e258073dcada2a6}\label{class_cool_file_system_aae045125288f255f3e258073dcada2a6}} 
\index{Cool\+File\+System@{Cool\+File\+System}!incrementsaved\+Data@{incrementsaved\+Data}}
\index{incrementsaved\+Data@{incrementsaved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{incrementsaved\+Data()}{incrementsavedData()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::incrementsaved\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{class_cool_file_system_aae045125288f255f3e258073dcada2a6}{Cool\+File\+System\+::incrementsaved\+Data()}\+: This method is provided to increment the saved\+Data flag

\begin{DoxyReturn}{Returns}
true if successful , false otherwise 
\end{DoxyReturn}


Definition at line 1151 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
1152 \{
1153 
1154 
1155 \textcolor{preprocessor}{#if DEBUG == 1}
1156     
1157     Serial.println(F(\textcolor{stringliteral}{"Entering CoolFileSystem.incrementsavedData()"}));  
1158     
1159 \textcolor{preprocessor}{#endif}
1160     \textcolor{comment}{//open file}
1161     File file=SPIFFS.open(\textcolor{stringliteral}{"/savedDataFlag.txt"},\textcolor{stringliteral}{"w"});    
1162     \textcolor{comment}{//read file}
1163     \textcolor{keywordflow}{if}( !file)  
1164     \{
1165         Serial.println( F(\textcolor{stringliteral}{"failed to open savedDataFlag.txt"}) );
1166         
1167         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});      
1168     \}
1169     \textcolor{keywordflow}{else}
1170     \{       
1171         \textcolor{comment}{//write to file }
1172         file.print(this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData});
1173         
1174         file.print(\textcolor{stringliteral}{" "});
1175         
1176         file.println(this->\hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip});
1177     
1178         file.close();
1179 
1180 \textcolor{preprocessor}{    #if DEBUG == 1}
1181 
1182         Serial.print(F(\textcolor{stringliteral}{"number of lines to read :"}));
1183         Serial.println(this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData});
1184     
1185         Serial.print(F(\textcolor{stringliteral}{"number of lines to skip :"}));
1186         Serial.println(this->\hyperlink{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}{linesToSkip});
1187 
1188 \textcolor{preprocessor}{    #endif}
1189         
1190         \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
1191     \}
1192     
1193 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_aae045125288f255f3e258073dcada2a6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_ac86a40e7c3a1842f7342f698d34324f9}\label{class_cool_file_system_ac86a40e7c3a1842f7342f698d34324f9}} 
\index{Cool\+File\+System@{Cool\+File\+System}!is\+Data\+Saved@{is\+Data\+Saved}}
\index{is\+Data\+Saved@{is\+Data\+Saved}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{is\+Data\+Saved()}{isDataSaved()}}
{\footnotesize\ttfamily int Cool\+File\+System\+::is\+Data\+Saved (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\hyperlink{class_cool_file_system_ac86a40e7c3a1842f7342f698d34324f9}{Cool\+File\+System\+::is\+Data\+Saved()}\+: This method is provided to report wether there is sensor data saved in the File System.

\begin{DoxyReturn}{Returns}
true if there is data saved, false otherwise 
\end{DoxyReturn}


Definition at line 781 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
782 \{
783 
784 \textcolor{preprocessor}{#if DEBUG == 1 }
785 
786     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.isDataSaved()"}) );
787     Serial.println();
788 
789     FSInfo fs\_info;
790 
791     \textcolor{keywordflow}{if}(SPIFFS.info(fs\_info)==\textcolor{keyword}{true})
792     \{
793         Serial.print(F(\textcolor{stringliteral}{"used bytes/total bytes : "}));   
794         Serial.print(fs\_info.usedBytes);
795         Serial.print(F(\textcolor{stringliteral}{"/"}));
796         Serial.print(fs\_info.totalBytes);
797         Serial.println();
798 
799     \}
800 
801     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"r"});
802     File sensorsDataCSV=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"r"});
803     
804     \textcolor{keywordflow}{if}( (!sensorsData)||(!sensorsDataCSV) ) 
805     \{
806         Serial.println( F(\textcolor{stringliteral}{"failed to open files"}) );        
807     \}
808     \textcolor{keywordflow}{else}
809     \{       
810             Serial.print(F(\textcolor{stringliteral}{"sensors Data file size in bytes : "}));
811             Serial.println(sensorsData.size());
812             Serial.println();
813             
814             Serial.print(F(\textcolor{stringliteral}{"sensors Data CSV file size in bytes : "}));              
815             Serial.println(sensorsDataCSV.size());
816             Serial.println();
817     \}
818 
819 
820 
821     Serial.print( F(\textcolor{stringliteral}{"savedData : "}) );
822     Serial.println(this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData});
823 
824 \textcolor{preprocessor}{#endif}
825 
826     \textcolor{keywordflow}{return}( this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData} );
827 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_ac86a40e7c3a1842f7342f698d34324f9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_afa3a4feae94871d4d3b6bebb701c2e67}\label{class_cool_file_system_afa3a4feae94871d4d3b6bebb701c2e67}} 
\index{Cool\+File\+System@{Cool\+File\+System}!save\+Sensor\+Data@{save\+Sensor\+Data}}
\index{save\+Sensor\+Data@{save\+Sensor\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{save\+Sensor\+Data()}{saveSensorData()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::save\+Sensor\+Data (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data }\end{DoxyParamCaption})}

Cool\+File\+System\+::save\+Sensor\+Data( data )\+: This method is provided to save the data on the local memory when there is no internet available

increments the saved data flag when successful

\begin{DoxyReturn}{Returns}
true if the data was saved, false otherwise 
\end{DoxyReturn}


Definition at line 80 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
81 \{
82 
83 \textcolor{preprocessor}{#if DEBUG == 1}
84 
85     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.saveSensorData()"}) );
86     Serial.println();
87 
88 \textcolor{preprocessor}{#endif}
89     
90     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"a"});
91 
92     \textcolor{keywordflow}{if}(!sensorsData)
93     \{
94     
95 \textcolor{preprocessor}{    #if DEBUG == 1}
96     
97         Serial.println( F(\textcolor{stringliteral}{"failed to append to /sensorsData.json"}) );
98         Serial.println();
99     
100 \textcolor{preprocessor}{    #endif}
101         \textcolor{comment}{//keep the old data}
102         this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}=\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData};
103 
104         \textcolor{keywordflow}{return} (\textcolor{keyword}{false}); 
105     \}   
106 
107     DynamicJsonBuffer jsonBuffer;
108     JsonObject& root = jsonBuffer.parseObject(data);
109 
110     \textcolor{keywordflow}{if}( root.success() )
111     \{
112         root.printTo(sensorsData);
113         sensorsData.println();
114         sensorsData.close();
115 
116 
117 \textcolor{preprocessor}{    #if DEBUG == 1}
118         
119         Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
120         Serial.println(jsonBuffer.size());
121         Serial.println();
122 
123         sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.json"},\textcolor{stringliteral}{"r"});
124         
125         \textcolor{keywordflow}{if}(!sensorsData)
126         \{
127             
128             Serial.println(F(\textcolor{stringliteral}{"failed to reopen /sensorsData.json"}));
129             \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
130                         
131         \}
132     
133         Serial.println( F(\textcolor{stringliteral}{"saved data is : "}) );
134         root.printTo(Serial);
135         Serial.println();
136 
137         Serial.println(F(\textcolor{stringliteral}{"/sensorsData.json"}) );
138         \textcolor{keywordflow}{while} (sensorsData.available()) 
139         \{
140             Serial.println(sensorsData.readString()) ;
141         \}
142         
143         Serial.println();
144         
145         sensorsData.close();
146     
147 \textcolor{preprocessor}{    #endif}
148 
149         this->\hyperlink{class_cool_file_system_ab78704d5d21ce10fc6f1138ab5ab46c8}{saveSensorDataCSV}(data);     
150 
151         \textcolor{comment}{//new data}
152         this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}++;
153 
154         this->\hyperlink{class_cool_file_system_aae045125288f255f3e258073dcada2a6}{incrementsavedData}();
155         
156         \textcolor{keywordflow}{return} (\textcolor{keyword}{true});      
157     \}
158     \textcolor{keywordflow}{else}
159     \{
160     
161 \textcolor{preprocessor}{    #if DEBUG == 1}
162 
163         Serial.println( F(\textcolor{stringliteral}{"failed to parse json"}) );
164     
165 \textcolor{preprocessor}{    #endif}
166         \textcolor{comment}{//old data}
167         this->\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData}=\hyperlink{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}{savedData};
168 
169         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
170     \}
171     
172 
173 \}
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_afa3a4feae94871d4d3b6bebb701c2e67_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_afa3a4feae94871d4d3b6bebb701c2e67_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_ab78704d5d21ce10fc6f1138ab5ab46c8}\label{class_cool_file_system_ab78704d5d21ce10fc6f1138ab5ab46c8}} 
\index{Cool\+File\+System@{Cool\+File\+System}!save\+Sensor\+Data\+C\+SV@{save\+Sensor\+Data\+C\+SV}}
\index{save\+Sensor\+Data\+C\+SV@{save\+Sensor\+Data\+C\+SV}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{save\+Sensor\+Data\+C\+S\+V()}{saveSensorDataCSV()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::save\+Sensor\+Data\+C\+SV (\begin{DoxyParamCaption}\item[{const char $\ast$}]{data }\end{DoxyParamCaption})}

Cool\+File\+System\+::save\+Sensor\+Data\+C\+S\+V( data )\+: This method is provided to save the data on the local memory in C\+SV format.

\begin{DoxyReturn}{Returns}
true if the data was saved, false otherwise 
\end{DoxyReturn}


Definition at line 184 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
185 \{
186 \textcolor{preprocessor}{#if DEBUG == 1}
187 
188     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.saveSensorDataCSV()"}) );
189     Serial.println();
190 
191 \textcolor{preprocessor}{#endif}
192     \textcolor{comment}{//parsing json}
193     DynamicJsonBuffer jsonBuffer;
194     JsonObject& root = jsonBuffer.parseObject(data);
195     String header=\textcolor{stringliteral}{""},values=\textcolor{stringliteral}{""};
196     
197     \textcolor{comment}{//if json parse success}
198     \textcolor{keywordflow}{if}( root.success() )
199     \{       
200         \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} kv : root) 
201         \{
202             \textcolor{comment}{//print the header(json keys ) to header string}
203             header+=kv.key;
204             header+=\textcolor{charliteral}{','};
205             
206             \textcolor{comment}{//print the values to header string}
207             values+=( kv.value.as<\textcolor{keywordtype}{char}*>() );
208             values+=\textcolor{charliteral}{','};
209         \}
210 
211         header.remove(header.lastIndexOf(\textcolor{charliteral}{','}), 1);
212         values.remove(values.lastIndexOf(\textcolor{charliteral}{','}), 1);      
213     
214 \textcolor{preprocessor}{    #if DEBUG == 1}
215     
216         Serial.println( F(\textcolor{stringliteral}{" data is : "}) );
217         root.printTo(Serial);
218         Serial.println();
219         
220         Serial.println(F(\textcolor{stringliteral}{" header is :"} ) ) ;
221         Serial.println(header);
222         Serial.println(F(\textcolor{stringliteral}{" values are : "}));
223         Serial.println(values);
224         
225         Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
226         Serial.println(jsonBuffer.size());
227         Serial.println();
228 
229     
230 \textcolor{preprocessor}{    #endif}
231     
232     \}
233     \textcolor{comment}{//failed to parse json}
234     \textcolor{keywordflow}{else}
235     \{
236     
237 \textcolor{preprocessor}{    #if DEBUG == 1}
238 
239         Serial.println( F(\textcolor{stringliteral}{"failed to parse json"}) );
240     
241 \textcolor{preprocessor}{    #endif}
242 
243         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
244     \}
245 
246     \textcolor{comment}{//check if file exists}
247     File sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"r"});
248     
249     \textcolor{comment}{//file doesn't exist}
250     \textcolor{keywordflow}{if}( (!sensorsData) || (sensorsData.size()==0 ) )
251     \{
252     
253 \textcolor{preprocessor}{    #if DEBUG == 1}
254     
255         Serial.println( F(\textcolor{stringliteral}{"/sensorsData.csv not found"}) );
256         Serial.println( F(\textcolor{stringliteral}{"creating /sensorsData.csv"}) );
257         Serial.println();
258     
259 \textcolor{preprocessor}{    #endif}
260         \textcolor{comment}{//create file}
261         sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"w"});
262         
263         \textcolor{keywordflow}{if}(!sensorsData)
264         \{
265 
266 \textcolor{preprocessor}{        #if DEBUG == 1}
267         
268             Serial.println( F(\textcolor{stringliteral}{"failed to create /sensorsData.csv"}) );
269             Serial.println();
270         
271 \textcolor{preprocessor}{        #endif}
272         
273             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
274 
275         \}
276         
277         \textcolor{comment}{//print the header(json keys ) to the CSV file}
278         sensorsData.println(header);
279 
280         \textcolor{comment}{//print the values to the CSV file}
281         sensorsData.println(values);
282         
283         sensorsData.close();
284     
285 \textcolor{preprocessor}{    #if DEBUG == 1}
286 
287         sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"r"});
288         
289         \textcolor{keywordflow}{if}(!sensorsData)
290         \{
291             Serial.println(F(\textcolor{stringliteral}{"failed to reopen /sensorsData.csv "}));
292             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});      
293         \}
294 
295         Serial.println( F(\textcolor{stringliteral}{"/sensorsData.csv : "}) );
296 
297         \textcolor{keywordflow}{while} (sensorsData.available()) 
298         \{
299             Serial.print(sensorsData.readString()) ;
300         \}
301         Serial.println();
302 
303         \textcolor{comment}{//close the file}
304         sensorsData.close();
305 
306 \textcolor{preprocessor}{    #endif}
307         
308 
309         
310         \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
311         
312     \}
313 
314     \textcolor{comment}{//file exist}
315     \textcolor{keywordflow}{else}
316     \{
317 
318 \textcolor{preprocessor}{    #if DEBUG == 1}
319     
320         Serial.println( F(\textcolor{stringliteral}{"/sensorsData.csv  found"}) );
321         Serial.println( F(\textcolor{stringliteral}{"appending to /sensorsData.csv"}) );
322         Serial.println();
323     
324 \textcolor{preprocessor}{    #endif}
325 
326         \textcolor{comment}{//append to file}
327         sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"a"});
328         
329         \textcolor{keywordflow}{if}(!sensorsData)
330         \{
331         
332 \textcolor{preprocessor}{        #if DEBUG == 1}
333             
334             Serial.println( F(\textcolor{stringliteral}{"failed to open /sensorsData.csv"}) );
335             Serial.println();
336 
337 \textcolor{preprocessor}{        #endif}
338             
339             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
340         
341         \}
342 
343         \textcolor{comment}{//print the values to the CSV file}
344         sensorsData.println(values);
345         
346         sensorsData.close();
347 
348 \textcolor{preprocessor}{    #if DEBUG == 1}
349 
350         sensorsData=SPIFFS.open(\textcolor{stringliteral}{"/sensorsData.csv"},\textcolor{stringliteral}{"r"});
351         
352         \textcolor{keywordflow}{if}(!sensorsData)
353         \{
354             Serial.println(F(\textcolor{stringliteral}{"failed to reopen /sensorsData.csv "}));
355             \textcolor{keywordflow}{return}(\textcolor{keyword}{false});      
356         \}
357 
358         
359         Serial.println( F(\textcolor{stringliteral}{"/sensorsData.csv : "}) );
360 
361         \textcolor{keywordflow}{while} (sensorsData.available()) 
362         \{
363             Serial.println(sensorsData.readString()) ;
364         \}
365         
366         Serial.println();
367         
368         sensorsData.close();
369         
370 \textcolor{preprocessor}{    #endif      }
371         
372         \textcolor{keywordflow}{return}(\textcolor{keyword}{true});
373     
374     \}   
375 
376 
377 
378 \}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_ab78704d5d21ce10fc6f1138ab5ab46c8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{class_cool_file_system_adfa8e2e80641ae6f0cceabd348a9b841}\label{class_cool_file_system_adfa8e2e80641ae6f0cceabd348a9b841}} 
\index{Cool\+File\+System@{Cool\+File\+System}!update\+Config\+Files@{update\+Config\+Files}}
\index{update\+Config\+Files@{update\+Config\+Files}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{update\+Config\+Files()}{updateConfigFiles()}}
{\footnotesize\ttfamily bool Cool\+File\+System\+::update\+Config\+Files (\begin{DoxyParamCaption}\item[{String}]{answer }\end{DoxyParamCaption})}

Cool\+File\+System\+::update\+Config\+Files( mqtt answer )\+: This method is provided to update the configuration files when the appropriate mqtt answer is received

\begin{DoxyReturn}{Returns}
true if the files are updated correctly, false otherwise 
\end{DoxyReturn}


Definition at line 389 of file Cool\+File\+System.\+cpp.


\begin{DoxyCode}
390 \{
391 
392 \textcolor{preprocessor}{#if DEBUG == 1}
393 
394     Serial.println( F(\textcolor{stringliteral}{"Entering CoolFileSystem.updateConfigFiles"}) );
395     Serial.println();
396     
397     Serial.println( F(\textcolor{stringliteral}{"input answer : "}) );
398     Serial.println(answer);
399 \textcolor{preprocessor}{#endif}
400 
401     \textcolor{comment}{//total json object }
402     DynamicJsonBuffer jsonBuffer;
403     JsonObject& root = jsonBuffer.parseObject( answer.c\_str() );
404 
405 \textcolor{preprocessor}{#if DEBUG == 1}
406     
407     Serial.println( F(\textcolor{stringliteral}{"json object : "}) );  
408     root.printTo(Serial);
409     Serial.println();
410     
411     Serial.print(F(\textcolor{stringliteral}{"jsonBuffer size: "}));
412     Serial.println(jsonBuffer.size());
413     Serial.println();
414 
415 
416 \textcolor{preprocessor}{#endif}
417 
418     \textcolor{keywordflow}{if}(! ( root.success() ))
419     \{
420     
421 \textcolor{preprocessor}{    #if DEBUG == 1}
422 
423         Serial.println( F(\textcolor{stringliteral}{"failed to parse root "}) );
424         Serial.println();
425     
426 \textcolor{preprocessor}{    #endif}
427 
428         \textcolor{keywordflow}{return}(\textcolor{keyword}{false});
429     \}
430     \textcolor{keywordflow}{else}
431     \{
432 \textcolor{preprocessor}{    #if DEBUG == 1}
433         
434         Serial.println( F(\textcolor{stringliteral}{"success to parse root "}) );
435         Serial.println();
436         
437 \textcolor{preprocessor}{    #endif  }
438     \}
439     
440 \textcolor{preprocessor}{#if DEBUG == 1}
441 
442     Serial.println( F(\textcolor{stringliteral}{"input message is : "}) );
443     root.printTo(Serial);
444     Serial.println();
445 
446 \textcolor{preprocessor}{#endif}
447     \textcolor{comment}{//temp string}
448     String \hyperlink{_irene3000_8h_a5905d48604152cf57aa6bfa087b49173}{temp};
449 
450     \textcolor{comment}{//CoolBoard Configuration File}
451 
452         JsonObject& jsonCoolBoard=root[\textcolor{stringliteral}{"CoolBoard"}];
453 
454 \textcolor{preprocessor}{#if DEBUG == 1}
455 
456     Serial.println( F(\textcolor{stringliteral}{"before config CoolBoard json"}) );
457     jsonCoolBoard.printTo(Serial);
458 
459 \textcolor{preprocessor}{#endif}
460 
461     \textcolor{keywordflow}{if}(jsonCoolBoard.success())
462     \{
463         String update;
464     
465         jsonCoolBoard.printTo(update);
466 
467         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/coolBoardConfig.json"});     
468         
469     \}
470     \textcolor{keywordflow}{else}
471     \{
472     
473 \textcolor{preprocessor}{    #if DEBUG == 1 }
474 
475         Serial.println( F(\textcolor{stringliteral}{"failed to parse CoolBoard "}) );
476     
477 \textcolor{preprocessor}{    #endif}
478 
479     \}       
480 
481     
482     \textcolor{comment}{//Cool Board Sensors Configuration File}
483         JsonObject& jsonSensorsBoard=root[\textcolor{stringliteral}{"CoolSensorsBoard"}];
484 
485 \textcolor{preprocessor}{#if DEBUG == 1 }
486 
487     Serial.println( F(\textcolor{stringliteral}{"before config CoolSensorsBoard json"}) );
488     jsonSensorsBoard.printTo(Serial);
489 
490 \textcolor{preprocessor}{#endif }
491     
492     \textcolor{keywordflow}{if}(jsonSensorsBoard.success())
493     \{   
494         String update;
495     
496         jsonSensorsBoard.printTo(update);
497 
498         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/coolBoardSensorsConfig.json"});      
499 
500     \}
501     \textcolor{keywordflow}{else}
502     \{
503 
504 \textcolor{preprocessor}{    #if DEBUG == 1}
505 
506         Serial.println( F(\textcolor{stringliteral}{"failed to parse CoolSensorsBoard sensors "}) );   
507     
508 \textcolor{preprocessor}{    #endif}
509 
510     \}
511 
512     \textcolor{comment}{//Cool Board Actor Configuration File}
513         JsonObject& jsonCoolBoardActor=root[\textcolor{stringliteral}{"CoolBoardActor"}];
514 
515 \textcolor{preprocessor}{#if DEBUG == 1 }
516 
517     Serial.println( F(\textcolor{stringliteral}{"before config CoolBoardActor json"}) );
518     jsonCoolBoardActor.printTo(Serial);
519 
520 \textcolor{preprocessor}{#endif }
521     
522     \textcolor{keywordflow}{if}(jsonCoolBoardActor.success())
523     \{   
524         String update;
525     
526         jsonCoolBoardActor.printTo(update);
527 
528         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/coolBoardActorConfig.json"});        
529 
530     \}
531     \textcolor{keywordflow}{else}
532     \{
533 
534 \textcolor{preprocessor}{    #if DEBUG == 1}
535 
536         Serial.println( F(\textcolor{stringliteral}{"failed to parse CoolBoardActor json "}) );    
537     
538 \textcolor{preprocessor}{    #endif}
539 
540     \}
541 
542     
543     \textcolor{comment}{//rtc configuration file}
544         JsonObject& jsonRTC=root[\textcolor{stringliteral}{"rtc"}];
545 
546 \textcolor{preprocessor}{#if DEBUG == 1 }
547     
548     Serial.println( F(\textcolor{stringliteral}{"before config rtc json"}) );
549     jsonRTC.printTo(Serial);
550 
551 \textcolor{preprocessor}{#endif}
552     \textcolor{keywordflow}{if}(jsonRTC.success() )
553     \{
554         String update;
555 
556         jsonRTC.printTo(update);
557 
558         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/rtcConfig.json"});           
559     \}
560     \textcolor{keywordflow}{else}
561     \{
562     
563 \textcolor{preprocessor}{    #if DEBUG == 1 }
564 
565         Serial.println( F(\textcolor{stringliteral}{"failed to parse rtc "}) );
566     
567 \textcolor{preprocessor}{    #endif}
568 
569     \}
570     
571     
572         \textcolor{comment}{//cool board led configuration}
573         JsonObject& jsonLedBoard=root[\textcolor{stringliteral}{"led"}];
574     
575 \textcolor{preprocessor}{#if DEBUG == 1 }
576 
577     Serial.println( F(\textcolor{stringliteral}{"before config Led json"}) );
578     jsonLedBoard.printTo(Serial);
579 
580 \textcolor{preprocessor}{#endif}
581 
582     \textcolor{keywordflow}{if}(jsonLedBoard.success())
583     \{   
584         String update;
585     
586         jsonLedBoard.printTo(update);
587 
588         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/coolBoardLedConfig.json"});      
589 
590     
591     \}
592     \textcolor{keywordflow}{else}
593     \{
594     
595 \textcolor{preprocessor}{    #if DEBUG == 1 }
596 
597         Serial.println( F(\textcolor{stringliteral}{"failed to parse led"}) );
598     
599 \textcolor{preprocessor}{    #endif }
600 
601     \}
602         
603 
604     
605 
606     \textcolor{comment}{//jetpack configuration}
607         JsonObject& jsonJetpack=root[\textcolor{stringliteral}{"jetPack"}];
608 
609 \textcolor{preprocessor}{#if DEBUG == 1 }
610 
611     Serial.println( F(\textcolor{stringliteral}{"before config jetpack json"}) );
612     jsonJetpack.printTo(Serial);
613 
614 \textcolor{preprocessor}{#endif}
615 
616     \textcolor{keywordflow}{if}(jsonJetpack.success())
617     \{
618     
619         String update;
620     
621         jsonJetpack.printTo(update);
622 
623         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/jetPackConfig.json"});       
624 
625     \}
626 
627     \textcolor{keywordflow}{else}
628     \{
629     
630 \textcolor{preprocessor}{    #if DEBUG == 1 }
631 
632         Serial.println( F(\textcolor{stringliteral}{"failed to parse jetpack"}) ); 
633     
634 \textcolor{preprocessor}{    #endif}
635 
636     \}
637     
638     \textcolor{comment}{//irene configuration   }
639         JsonObject& jsonIrene=root[\textcolor{stringliteral}{"irene3000"}];
640     
641 \textcolor{preprocessor}{#if DEBUG == 1 }
642 
643     Serial.println( F(\textcolor{stringliteral}{"before config irene json"}) );    
644     jsonIrene.printTo(Serial);
645 
646 \textcolor{preprocessor}{#endif }
647 
648     \textcolor{keywordflow}{if}(jsonIrene.success())
649     \{
650 
651         String update;
652     
653         jsonIrene.printTo(update);
654 
655         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/irene3000Config.json"});     
656     
657     \}
658     \textcolor{keywordflow}{else}
659     \{
660     
661 \textcolor{preprocessor}{    #if DEBUG == 1 }
662 
663         Serial.println( F(\textcolor{stringliteral}{"failed to parse irene"}) );   
664     
665 \textcolor{preprocessor}{    #endif }
666 
667 
668     \}
669     
670     \textcolor{comment}{//external sensors}
671         JsonObject& jsonExternalSensors=root[\textcolor{stringliteral}{"externalSensors"}];
672 
673 \textcolor{preprocessor}{#if DEBUG == 1 }
674 
675     Serial.println( F(\textcolor{stringliteral}{"before config external Sensors json"}) );
676     jsonExternalSensors.printTo(Serial);
677 
678 \textcolor{preprocessor}{#endif}
679 
680     \textcolor{keywordflow}{if}(jsonExternalSensors.success())
681     \{
682 
683         String update;
684     
685         jsonExternalSensors.printTo(update);
686 
687         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/externalSensorsConfig.json"});       
688 
689     \}
690 
691     \textcolor{keywordflow}{else}
692     \{   
693 
694 \textcolor{preprocessor}{    #if DEBUG == 1}
695         
696         Serial.println( F(\textcolor{stringliteral}{"failed to parse external sensors"}) );
697 
698 \textcolor{preprocessor}{    #endif}
699 
700 
701     \}
702 
703     
704     \textcolor{comment}{//mqtt config}
705         JsonObject& jsonMQTT=root[\textcolor{stringliteral}{"mqtt"}];
706     
707 \textcolor{preprocessor}{#if DEBUG == 1 }
708 
709     Serial.println( F(\textcolor{stringliteral}{"before config mqtt json"}) );
710     jsonMQTT.printTo(Serial);
711 
712 \textcolor{preprocessor}{#endif}
713 
714     \textcolor{keywordflow}{if}(jsonMQTT.success())
715     \{
716 
717         String update;
718     
719         jsonMQTT.printTo(update);
720 
721         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/mqttConfig.json"});      
722 
723     \}
724     \textcolor{keywordflow}{else}
725     \{
726 
727 \textcolor{preprocessor}{    #if DEBUG == 1 }
728 
729         Serial.println( F(\textcolor{stringliteral}{"failed to parse mqtt"}) );
730     
731 \textcolor{preprocessor}{    #endif}
732 
733     
734     \}   
735 
736     \textcolor{comment}{//wifi config}
737         JsonObject& jsonWifi=root[\textcolor{stringliteral}{"wifi"}];
738     
739 \textcolor{preprocessor}{#if DEBUG == 1 }
740 
741     Serial.println( F(\textcolor{stringliteral}{"before config wifi json"}) );
742     jsonWifi.printTo(Serial);
743 
744 \textcolor{preprocessor}{#endif}
745 
746     \textcolor{keywordflow}{if}(jsonWifi.success())
747     \{
748 
749         String update;
750     
751         jsonWifi.printTo(update);
752 
753         this->\hyperlink{class_cool_file_system_a13f2958f5b87757c31fc53797a30d23a}{fileUpdate}(update,\textcolor{stringliteral}{"/wifiConfig.json"});      
754 
755     \}
756     \textcolor{keywordflow}{else}
757     \{
758 
759 \textcolor{preprocessor}{    #if DEBUG == 1 }
760 
761         Serial.println( F(\textcolor{stringliteral}{"failed to parse wifi"}) );
762     
763 \textcolor{preprocessor}{    #endif}
764 
765     
766     \}   
767         
768     \textcolor{keywordflow}{return} \textcolor{keyword}{true};
769 
770 \}   
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_adfa8e2e80641ae6f0cceabd348a9b841_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d0c/class_cool_file_system_adfa8e2e80641ae6f0cceabd348a9b841_icgraph}
\end{center}
\end{figure}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}\label{class_cool_file_system_a84fdb6057e534b395512463daa28ea3c}} 
\index{Cool\+File\+System@{Cool\+File\+System}!lines\+To\+Skip@{lines\+To\+Skip}}
\index{lines\+To\+Skip@{lines\+To\+Skip}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{lines\+To\+Skip}{linesToSkip}}
{\footnotesize\ttfamily int Cool\+File\+System\+::lines\+To\+Skip =0\hspace{0.3cm}{\ttfamily [private]}}

Number of lines to Skip when retrieving saved Data 

Definition at line 79 of file Cool\+File\+System.\+h.

\mbox{\Hypertarget{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}\label{class_cool_file_system_ad9f5b739a32100f5f21270c3d9ee2b1d}} 
\index{Cool\+File\+System@{Cool\+File\+System}!saved\+Data@{saved\+Data}}
\index{saved\+Data@{saved\+Data}!Cool\+File\+System@{Cool\+File\+System}}
\subsubsection{\texorpdfstring{saved\+Data}{savedData}}
{\footnotesize\ttfamily int Cool\+File\+System\+::saved\+Data =0\hspace{0.3cm}{\ttfamily [private]}}

Number of lines to read when retrieving saved Data 

Definition at line 73 of file Cool\+File\+System.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/src/\hyperlink{_cool_file_system_8h}{Cool\+File\+System.\+h}\item 
/home/ashiroji/\+Arduino/libraries/\+Cool\+Board/src/\hyperlink{_cool_file_system_8cpp}{Cool\+File\+System.\+cpp}\end{DoxyCompactItemize}
